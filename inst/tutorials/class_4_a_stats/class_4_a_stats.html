<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="author" content="Andrew Ba Tran" />


<meta name="progressive" content="true" />
<meta name="allow-skip" content="false" />
<meta name="learnr-version-prerender" content="0.10.6.9000" />

<title>Class 4: Statistics</title>

<!-- header-includes START -->
<!-- HEAD_CONTENT -->
<!-- header-includes END -->
<!-- HEAD_CONTENT -->

<!-- highlightjs -->
<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #2a211c;
    color: #bdae9d;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #bdae9d;  padding-left: 4px; }
div.sourceCode
  { color: #bdae9d; background-color: #2a211c; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ffff00; } /* Alert */
code span.an { color: #0066ff; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { } /* Attribute */
code span.bn { color: #44aa43; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #43a8ed; font-weight: bold; } /* ControlFlow */
code span.ch { color: #049b0a; } /* Char */
code span.cn { } /* Constant */
code span.co { color: #0066ff; font-weight: bold; font-style: italic; } /* Comment */
code span.do { color: #0066ff; font-style: italic; } /* Documentation */
code span.dt { text-decoration: underline; } /* DataType */
code span.dv { color: #44aa43; } /* DecVal */
code span.er { color: #ffff00; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #44aa43; } /* Float */
code span.fu { color: #ff9358; font-weight: bold; } /* Function */
code span.im { } /* Import */
code span.in { color: #0066ff; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #43a8ed; font-weight: bold; } /* Keyword */
code span.op { } /* Operator */
code span.pp { font-weight: bold; } /* Preprocessor */
code span.sc { color: #049b0a; } /* SpecialChar */
code span.ss { color: #049b0a; } /* SpecialString */
code span.st { color: #049b0a; } /* String */
code span.va { } /* Variable */
code span.vs { color: #049b0a; } /* VerbatimString */
code span.wa { color: #ffff00; font-weight: bold; } /* Warning */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>

<!-- taken from https://github.com/rstudio/rmarkdown/blob/de8a9c38618903627ca509f5401d50a0876079f7/inst/rmd/h/default.html#L293-L343 -->
<!-- tabsets -->
<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>
<!-- end tabsets -->


</head>

<body>
<a class='sr-only sr-only-focusable visually-hidden-focusable' href='#learnr-tutorial-content'>Skip to Tutorial Content</a>



<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <!-- NOTE: add "navbar-inverse" class for an alternate navbar background -->
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
       <div style="padding-top:5px; padding-bottom:5px; padding-right:10px; float:left;"><a href="#" class="navbar-left"><img src="https://r-journalism.com/images/avatar.png" height="40px"></a></div>

     <a class="navbar-brand" href="https://journalismcourses.org">Adv Data Journalism: Doing More with R</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li><a href="https://journalismcourses.org">Class 4: Statistics</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="https://journalismcourses.org">journalismcourses.org</a></li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <!-- NOTE: add "navbar-inverse" class for an alternate navbar background -->
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
       <div style="padding-top:5px; padding-bottom:5px; padding-right:10px; float:left;"><a href="#" class="navbar-left"><img src="https://r-journalism.com/images/avatar.png" height="40px"></a></div>

     <a class="navbar-brand" href="https://journalismcourses.org">Adv Data Journalism: Doing More with R</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li><a href="https://journalismcourses.org">Class 4: Statistics</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="https://journalismcourses.org">journalismcourses.org</a></li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="pageContent band">
<main class="bandContent page">

<article class="topics" id="learnr-tutorial-content">

<style type="text/css">
.pageContent {
padding-top: 64px }
</style>
<style type="text/css">
.pageContent {
padding-top: 64px }

.cell-left {
  text-align: left;
}

.cell-right {
  text-align: right;
}

.cell-center {
  text-align: center;
}

table {
    margin: auto;
    border-top: 1px solid rgb(102, 102, 102);
    border-bottom: 1px solid rgb(102, 102, 102);
    display: table;
    border-collapse: separate;
    box-sizing: border-box;
    border-spacing: 2px;
    border-color: grey;
    padding-bottom:5px;
}
</style>
<p><span style="color:white">welcome to class!</span></p>
<div id="section-descriptive-statistics" class="section level2">
<h2>Descriptive statistics</h2>
<p>There are so many different statistical methods we could spend several months learning but only a handful that have been used often by journalists— though there are admirable efforts by some to use and explain more complicated techniques that raise the bar for data literacy.</p>
<p>Building on what we learned in module 3, let’s work with some data of reviews I’ve scraped from Amazon: Scented candles.</p>
<p>I’ll load the data for you below.</p>
<div class="sourceCode" id="section-cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb1-1"><a href="#section-cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="section-cb1-2"><a href="#section-cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="section-cb1-3"><a href="#section-cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb1-4"><a href="#section-cb1-4" aria-hidden="true" tabindex="-1"></a>candles <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/scented.csv&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="section-cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb2-1"><a href="#section-cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(candles)</span></code></pre></div>
<pre><code>## Rows: 4,968
## Columns: 3
## $ Rating &lt;dbl&gt; 5, 5, 1, 5, 1, 5, 5, 3, 2, 5, 5, 5, 5, 5, 5, 4, 5, 5, 5, 5, 5, …
## $ Date   &lt;date&gt; 2019-12-13, 2020-05-05, 2018-09-28, 2019-01-14, 2018-12-13, 20…
## $ Review &lt;chr&gt; &quot;To the reviewer below: It&#39;s not Yankee Candles fault you order…</code></pre>
<p>In the past few modules you’ve already learned how to do some of the basic statistical methods to summarize and describe the data.</p>
<p>Let’s go over some of them again</p>
<div id="section-mean-and-median" class="section level3">
<h3>mean and median</h3>
<p>Some of the most common basic descriptive stats you can do is calculating mean and median.</p>
<p>Mean or average is the sum of the values and dividing by how many values there were. So (4+4+7+7+8+9+10+10+11+100)/14 or 170/14=17.</p>
<p>The median is the middle number in that list, so it’d be between 8 and 9, so 8.5. They have their uses, to deal with outliers, for example.</p>
<p>Let’s calculate the mean and median of the ratings.</p>
<div class="tutorial-exercise" data-label="mean_median" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>candles %&gt;% 
  _________(avg_rating=____(Rating),
            median_rating=_____(Rating))</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="mean_median-solution" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>candles %&gt;% 
  summarize(avg_rating=mean(Rating),
            median_rating=median(Rating))</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="mean_median-hint" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>What&#39;s the dplyr verb to aggregate?</code></pre>
</div>
</div>
<div id="section-percent-and-rate" class="section level3">
<h3>percent and rate</h3>
<p>We’ve got a good baseline now from the average and median.</p>
<p>Next, let’s calculate the distribution of the rating scores by percent. This is another form of descriptive statistics common in data journalism.</p>
<div class="tutorial-exercise" data-label="percent" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>candles %&gt;% 
  ________(Rating) %&gt;% 
  _________(total=___) %&gt;% 
  mutate(percent=round(total/sum(_____)*100,1))</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="percent-solution" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>candles %&gt;% 
  group_by(Rating) %&gt;% 
  summarize(total=n()) %&gt;% 
  mutate(percent=round(total/sum(total)*100,1))</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="percent-hint" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>This is a bunch of dplyr verbs!</code></pre>
</div>
</div>
</div>
<div id="section-standard-deviation" class="section level2">
<h2>Standard deviation</h2>
<p>Excellent, based on this, we know that nearly 70% of the reviews for this candle were for 5 stars.</p>
<p>Could these reviews be consistently like this week over week?</p>
<p>Let’s start seeing if we can look for outliers. If we zero in on them maybe we can investigate what’s going on.</p>
<p><img src="https://imgs.xkcd.com/comics/boyfriend.png
" width="600px" /></p>
<p>We’ll use a statistical measure called <strong>Standard Deviation</strong>.</p>
<p>This determines how spread out the numbers are.</p>
<p>Here’s an example of that with the distribution of salaries between two companies illustrated with a boxplot chart.</p>
<p><img src="https://www.statology.org/wp-content/uploads/2021/08/sdImportance-1024x1003.png
" width="450px" /></p>
<p>Notice that the length of the boxplot for company A is so much greater because the standard deviation of salaries is so much higher.</p>
<p>Both companies have the same average salary, but the spread of salaries is much higher at company A.</p>
<p>The formula is essentially the <strong>square root</strong> of the <strong>Variance</strong>. And the variance is<em>the average of the <strong>squared</strong> differences from the Mean</em>.</p>
<p>The function we’ll use is simply <code>sd()</code> instead of the complicated formula.</p>
<p>Let’s see what the spread is reviews within a month! Maybe we’ll see something interesting.</p>
<p>First, we’ll need to transform the reviews data into monthly groupings.</p>
<p>Which 10 months had the greatest deviation?</p>
<p><em>Fix line 7, 8, 9, and 11, please.</em></p>
<p>Note, be sure to use <code>ungroup()</code> in line 8 otherwise the sorting will only occur in the individual months and not as a whole.</p>
<div class="tutorial-exercise" data-label="percent_time_sd" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>candles_monthly &lt;- candles %&gt;% 
    mutate(year=year(Date)) %&gt;% 
    mutate(month=month(Date)) %&gt;% 
  group_by(year, month) %&gt;% 
  summarize(ratings=n(),
            avg_rating=mean(Rating, na.rm=T),
            sd_rating=__(Rating, na.rm=T)) %&gt;% 
  ______() %&gt;% 
  _______(____(sd_rating)) %&gt;% 
  filter(year&gt;2018) %&gt;% 
  _____(1_10)

candles_monthly</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="percent_time_sd-solution" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>candles_monthly &lt;- candles %&gt;% 
    mutate(year=year(Date)) %&gt;% 
    mutate(month=month(Date)) %&gt;% 
  group_by(year, month) %&gt;% 
  summarize(ratings=n(),
            avg_rating=mean(Rating, na.rm=T),
            sd_rating=sd(Rating, na.rm=T)) %&gt;% 
  ungroup() %&gt;% 
  arrange(desc(sd_rating)) %&gt;% 
  filter(year&gt;2018) %&gt;% 
  slice(1:10)

candles_monthly</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="percent_time_sd-hint" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>What&#39;s the dplyr verb to sort and to cut out specific rows?</code></pre>
</div>
<div class="panel-heading tutorial-quiz-title">Quiz 1</div>
<div class="panel panel-default tutorial-question-container">
<div data-label="quiz1-1" class="tutorial-question panel-body">
<div id="quiz1-1-answer_container" class="shiny-html-output"></div>
<div id="quiz1-1-message_container" class="shiny-html-output"></div>
<div id="quiz1-1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<p>This may be worth investigating.</p>
</div>
<div id="section-correlation" class="section level2">
<h2>Correlation</h2>
<p>Basically, we’re looking to see if there’s a connection between negative Amazon reviews of scented candles with Covid-19 cases. This is based on viral <a href="https://twitter.com/kate_ptrv/status/1332398737604431874?lang=en">twitter threads</a> from folks who noticed this trend.</p>
<p>Before we begin, we need to question how useful our data is.</p>
<p>How can we adjust for seasonality? There may be more complaints about lack of smell from a candle because more candles may be bought in the winter, right?</p>
<p>So let’s calculate the percent of reviews by month that mention not having a smell.</p>
<p>We’ll use some regex and <code>str_detect()</code> from the <strong>stringr</strong> package.</p>
<p>Some notes about the code below:</p>
<ul>
<li>The [Nn] means either upper case N or lower case n in this spot.</li>
<li>We’ll filter the reviews to after the first cases were tracked by the CDC, January 2020</li>
</ul>
<p>Fill in the appropriate code in lines 3-14</p>
<div class="tutorial-exercise" data-label="weekly_am1" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>scented_timeline_monthly1 &lt;- candles %&gt;% 
  filter(Date&gt;ymd(&quot;2020-01-21&quot;)) %&gt;% 
  mutate(no_scent=_________(
    __________(Review, &quot;[Nn]o scent&quot;) ~ 1, 
    __________(Review, &quot;[Nn]o smell&quot;) ~ 1,
    __________(Review, &quot;[Dd]oes not smell like&quot;) ~ 1,
    __________(Review, &quot;[Dd]oesn&#39;t smell like&quot;) ~ 1,
    __________(Review, &quot;[Cc]an&#39;t smell&quot;) ~ 1,
    __________(Review, &quot;[Cc]annot smell&quot;) ~ 1,
    __________(Review, &quot;[Ff]aint smell&quot;) ~ 1,
    __________(Review, &quot;[Ff]aint scent&quot;) ~ 1,
    __________(Review, &quot;[Dd]on&#39;t smell&quot;) ~ 1,
    __________(Review, &quot;[Ll]ike nothing&quot;) ~ 1,
    TRUE ~ _
  ))

scented_timeline_monthly1</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="weekly_am1-solution" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>scented_timeline_monthly1 &lt;- candles %&gt;% 
  filter(Date&gt;ymd(&quot;2020-01-21&quot;)) %&gt;% 
  mutate(no_scent=case_when(
    str_detect(Review, &quot;[Nn]o scent&quot;) ~ 1, 
    str_detect(Review, &quot;[Nn]o smell&quot;) ~ 1,
    str_detect(Review, &quot;[Dd]oes not smell like&quot;) ~ 1,
    str_detect(Review, &quot;[Dd]oesn&#39;t smell like&quot;) ~ 1,
    str_detect(Review, &quot;[Cc]an&#39;t smell&quot;) ~ 1,
    str_detect(Review, &quot;[Cc]annot smell&quot;) ~ 1,
    str_detect(Review, &quot;[Ff]aint smell&quot;) ~ 1,
    str_detect(Review, &quot;[Ff]aint scent&quot;) ~ 1,
    str_detect(Review, &quot;[Dd]on&#39;t smell&quot;) ~ 1,
    str_detect(Review, &quot;[Ll]ike nothing&quot;) ~ 1,
    TRUE ~ 0
  ))

scented_timeline_monthly1</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="weekly_am1-hint" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>What&#39;s the if else statement functoin in mutate?

If there are no complaints about smell then fill no_scent with the opposite of 1? (It&#39;s not 2).</code></pre>
</div>
<p>We’ve got a new column called <strong>no_scent</strong> so let’s continue wrangling this data so we have a percent for each month and year.</p>
<p>Fill in lines 5, 7 and 9.</p>
<div class="tutorial-exercise" data-label="weekly_am2" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>scented_timeline_monthly2 &lt;- scented_timeline_monthly1 %&gt;% 
  mutate(year=year(Date),
         month=month(Date)) %&gt;% 
  # let&#39;s aggregate around year and month
  group_by(____, _____) %&gt;% 
  # we just need to add up the 1s in no_scent and count up the total reviews with n()
  summarize(no_scent=sum(________), reviews=___) %&gt;% 
  # and do some math
  mutate(percent=________/_______*100) %&gt;% 
  select(year, month, value=percent) %&gt;% 
  mutate(type=&quot;percent no smell&quot;) %&gt;% 
  ungroup() %&gt;% 
  mutate(row=row_number())

scented_timeline_monthly2</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="weekly_am2-solution" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>scented_timeline_monthly2 &lt;- scented_timeline_monthly1 %&gt;% 
  mutate(year=year(Date),
         month=month(Date)) %&gt;% 
  # let&#39;s aggregate around year and month
  group_by(year, month) %&gt;% 
  # we just need to add up the 1s in no_scent and count up the total reviews with n()
  summarize(no_scent=sum(no_scent), reviews=n()) %&gt;% 
  # and do some math
  mutate(percent=no_scent/reviews*100) %&gt;% 
  select(year, month, value=percent) %&gt;% 
  mutate(type=&quot;percent no smell&quot;) %&gt;% 
  ungroup() %&gt;% 
  mutate(row=row_number())

scented_timeline_monthly2</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="weekly_am2-hint" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>You&#39;ll need to use a lot of functions you&#39;ve learned about in previous modules. Read the comments in the code chunk, too.</code></pre>
</div>
<div id="section-plot-it" class="section level3">
<h3>Plot it</h3>
<p>How does this look visually?</p>
<p>Make a line chart!</p>
<div class="tutorial-exercise" data-label="ggplot1" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>ggplot(__________________________, aes(x=row, y=value)) +
      _________() +
      theme_minimal() +
  labs(title=&quot;Percent of Yankee Candle reviews mentioning no smell&quot;,
       y=&quot;Percent&quot;, x=&quot;&quot;)</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="ggplot1-solution" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>ggplot(scented_timeline_monthly2, aes(x=row, y=value)) +
      geom_line() +
      theme_minimal() +
  labs(title=&quot;Percent of Yankee Candle reviews mentioning no smell&quot;,
       y=&quot;Percent&quot;, x=&quot;&quot;)</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="ggplot1-hint" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>The first argument in ggplot needs to be the data frame. Also, what&#39;s the geometry for line chart?</code></pre>
</div>
<p>To throw in a trend line, add in <code>geom_smooth()</code> into line 3.</p>
<div class="tutorial-exercise" data-label="ggplot1t" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>ggplot(__________________________, aes(x=row, y=value)) +
      _________() +
  ___________() +
  theme_minimal() +
  labs(title=&quot;Percent of Yankee Candle reviews mentioning no smell&quot;,
       y=&quot;Percent&quot;, x=&quot;&quot;)</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="ggplot1t-solution" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>ggplot(scented_timeline_monthly2, aes(x=row, y=value)) +
      geom_line() +
    geom_smooth() +
      theme_minimal() +
  labs(title=&quot;Percent of Yankee Candle reviews mentioning no smell&quot;,
       y=&quot;Percent&quot;, x=&quot;&quot;)</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="ggplot1t-hint" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>The first argument in ggplot needs to be the data frame. What&#39;s the geometry for line chart and smooth?</code></pre>
</div>
<p>Okay, well, you know what we’re going to do now.</p>
</div>
<div id="section-covid-19-data" class="section level3">
<h3>Covid-19 data</h3>
<p>Bring in a second data set: Covid-19 infections.</p>
<p>We’re going to use data from <a href="https://github.com/CSSEGISandData/COVID-19">John Hopkins University</a>. Many of you are probably really familiar with it.</p>
<p>Their data is very wide. And their daily cases are cumulative.</p>
<p>So let’s transform it and also adjust the data so we get daily case counts.</p>
<div class="tutorial-exercise" data-label="covid" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>covid &lt;- read_csv(&quot;https://github.com/CSSEGISandData/COVID-19/raw/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_US.csv&quot;)

covid_long &lt;- covid %&gt;% 
  ____________(cols=12:ncol(covid), names_to=&quot;date&quot;, values_to=&quot;cases&quot;) %&gt;% 
  mutate(date=mdy(date)) %&gt;% 
  group_by(FIPS) %&gt;% 
  arrange(date) %&gt;% 
  # this is a way to create a value from the previous value (lagged)
  mutate(positive = c(cases[1],diff(cases))) %&gt;% 
  group_by(date) %&gt;% 
  summarize(value=sum(positive, na.rm=T)) %&gt;% 
  mutate(type=&quot;Covid cases&quot;)

covid_long</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="covid-solution" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>covid &lt;- read_csv(&quot;https://github.com/CSSEGISandData/COVID-19/raw/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_US.csv&quot;)

covid_long &lt;- covid %&gt;% 
  pivot_longer(cols=12:ncol(covid), names_to=&quot;date&quot;, values_to=&quot;cases&quot;) %&gt;% 
  mutate(date=mdy(date)) %&gt;% 
  group_by(FIPS) %&gt;% 
  arrange(date) %&gt;% 
  # this is a way to create a value from the previous value (lagged)
  mutate(positive = c(cases[1],diff(cases))) %&gt;% 
  group_by(date) %&gt;% 
  summarize(value=sum(positive, na.rm=T)) %&gt;% 
  mutate(type=&quot;Covid cases&quot;)

covid_long</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="covid-hint" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>What&#39;s the function to pivot wide data to long?</code></pre>
</div>
</div>
<div id="section-more-summarizing" class="section level3">
<h3>More summarizing</h3>
<p>Alright, we’ve transformed the data to be long for daily cases but now we need it to match our monthly reviews data.</p>
<p>And we need to adjust the high numbers a bit so we’ll divide the case count by a million.</p>
<p>I’ll go ahead and do that for you and save it as “covid_long_monthly”.</p>
<div class="sourceCode" id="section-cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb28-1"><a href="#section-cb28-1" aria-hidden="true" tabindex="-1"></a>covid_long_monthly <span class="ot">&lt;-</span> covid_long <span class="sc">%&gt;%</span> </span>
<span id="section-cb28-2"><a href="#section-cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year=</span><span class="fu">year</span>(date),</span>
<span id="section-cb28-3"><a href="#section-cb28-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">month=</span><span class="fu">month</span>(date)) <span class="sc">%&gt;%</span> </span>
<span id="section-cb28-4"><a href="#section-cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year, month) <span class="sc">%&gt;%</span> </span>
<span id="section-cb28-5"><a href="#section-cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">value=</span><span class="fu">sum</span>(value, <span class="at">na.rm=</span>T)<span class="sc">/</span><span class="dv">1000000</span>) <span class="sc">%&gt;%</span> </span>
<span id="section-cb28-6"><a href="#section-cb28-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">type=</span><span class="st">&quot;Covid cases&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="section-cb28-7"><a href="#section-cb28-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="section-cb28-8"><a href="#section-cb28-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">row=</span><span class="fu">row_number</span>())</span></code></pre></div>
<pre><code>## `summarise()` has grouped output by &#39;year&#39;. You can override using the
## `.groups` argument.</code></pre>
<div class="sourceCode" id="section-cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb30-1"><a href="#section-cb30-1" aria-hidden="true" tabindex="-1"></a>covid_long_monthly</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["year"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["month"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["value"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["type"],"name":[4],"type":["chr"],"align":["left"]},{"label":["row"],"name":[5],"type":["int"],"align":["right"]}],"data":[{"1":"2020","2":"1","3":"0.000008","4":"Covid cases","5":"1"},{"1":"2020","2":"2","3":"0.000018","4":"Covid cases","5":"2"},{"1":"2020","2":"3","3":"0.191919","4":"Covid cases","5":"3"},{"1":"2020","2":"4","3":"0.886772","4":"Covid cases","5":"4"},{"1":"2020","2":"5","3":"0.706077","4":"Covid cases","5":"5"},{"1":"2020","2":"6","3":"0.854083","4":"Covid cases","5":"6"},{"1":"2020","2":"7","3":"1.894856","4":"Covid cases","5":"7"},{"1":"2020","2":"8","3":"1.492136","4":"Covid cases","5":"8"},{"1":"2020","2":"9","3":"1.195723","4":"Covid cases","5":"9"},{"1":"2020","2":"10","3":"1.918379","4":"Covid cases","5":"10"},{"1":"2020","2":"11","3":"4.463433","4":"Covid cases","5":"11"},{"1":"2020","2":"12","3":"6.521322","4":"Covid cases","5":"12"},{"1":"2021","2":"1","3":"6.116267","4":"Covid cases","5":"13"},{"1":"2021","2":"2","3":"2.400616","4":"Covid cases","5":"14"},{"1":"2021","2":"3","3":"1.805277","4":"Covid cases","5":"15"},{"1":"2021","2":"4","3":"1.884745","4":"Covid cases","5":"16"},{"1":"2021","2":"5","3":"0.914990","4":"Covid cases","5":"17"},{"1":"2021","2":"6","3":"0.393416","4":"Covid cases","5":"18"},{"1":"2021","2":"7","3":"1.317450","4":"Covid cases","5":"19"},{"1":"2021","2":"8","3":"4.274173","4":"Covid cases","5":"20"},{"1":"2021","2":"9","3":"4.129044","4":"Covid cases","5":"21"},{"1":"2021","2":"10","3":"2.501755","4":"Covid cases","5":"22"},{"1":"2021","2":"11","3":"2.540244","4":"Covid cases","5":"23"},{"1":"2021","2":"12","3":"6.284654","4":"Covid cases","5":"24"},{"1":"2022","2":"1","3":"20.281396","4":"Covid cases","5":"25"},{"1":"2022","2":"2","3":"3.925056","4":"Covid cases","5":"26"},{"1":"2022","2":"3","3":"1.038249","4":"Covid cases","5":"27"},{"1":"2022","2":"4","3":"1.243188","4":"Covid cases","5":"28"},{"1":"2022","2":"5","3":"2.856674","4":"Covid cases","5":"29"},{"1":"2022","2":"6","3":"3.340094","4":"Covid cases","5":"30"},{"1":"2022","2":"7","3":"3.658862","4":"Covid cases","5":"31"},{"1":"2022","2":"8","3":"3.177770","4":"Covid cases","5":"32"},{"1":"2022","2":"9","3":"1.510029","4":"Covid cases","5":"33"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Ok, let’s stack these together to make a tidy data set combining reviews with Covid-19 cases!</p>
<p>And then visualize it with small multiples.</p>
<p>Add the right code in line 1 and 6.</p>
<div class="tutorial-exercise" data-label="covid_stack" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># This only works because we were careful to make sure the column names match
# from the different data sets

monthly &lt;- _____(covid_long_monthly, scented_timeline_monthly2)

monthly %&gt;% 
  ggplot(aes(x=row, y=value)) +
  geom_line() +
  __________(vars(type), scale=&quot;free_y&quot;) +
  geom_smooth()</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="covid_stack-solution" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># This only works because we were careful to make sure the column names match
# from the different data sets
monthly &lt;- rbind(covid_long_monthly, scented_timeline_monthly2)

monthly %&gt;% 
  ggplot(aes(x=row, y=value)) +
  geom_line() +
  facet_wrap(vars(type), scale=&quot;free_y&quot;) +
  geom_smooth()</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="covid_stack-hint" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>What&#39;s the function to bind rows? And what&#39;s the line to create small multiples, aka facets?</code></pre>
</div>
<p>Aha! Okay, based on the trend lines we can see there are some surges occurring at the same time.</p>
</div>
<div id="section-alternate-visualization" class="section level3">
<h3>Alternate visualization</h3>
<p>Let’s make sure and visualize the data another way.</p>
<p>Instead of separating the lines, like let’s layer them on top of each other.</p>
<p>Update line 2 below.</p>
<div class="tutorial-exercise" data-label="together" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>monthly %&gt;% 
  ggplot(aes(x=row, y=value, color=____)) +
  geom_line() +
  geom_smooth() +
  theme_minimal() +
  labs(title=&quot;Covid cases versus Amazon &#39;no scent&#39; candle reviews&quot;)</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="together-solution" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>monthly %&gt;% 
  ggplot(aes(x=row, y=value, color=type)) +
  geom_line() +
  geom_smooth() +
  theme_minimal() +
  labs(title=&quot;Covid cases versus Amazon &#39;no scent&#39; candle reviews&quot;)</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="together-hint" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>You&#39;re not using the facet_wrap function this time but you&#39;ll need the variable from it.</code></pre>
</div>
<p>Okay, unfortunately the trend lines don’t seem to line up as well after month 20.</p>
<p>The function to check for a correlation between two arrays is <code>cor()</code>.</p>
<p>The base R function <code>cor()</code> allows you to compute correlations using Pearson, Kendall tau or Spearman rho.</p>
<p>Some authors consider a strong correlation over [.6, -.6] and over [.8/, -.8] is a very strong correlation.</p>
<p>Let’s transform our data a bit from long to wide so we can compare the two columns and see what we have.</p>
<p>I’ll do that for you now and save it as “monthly_wide”.</p>
<div class="sourceCode" id="section-cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb37-1"><a href="#section-cb37-1" aria-hidden="true" tabindex="-1"></a>monthly_wide <span class="ot">&lt;-</span> monthly <span class="sc">%&gt;%</span> </span>
<span id="section-cb37-2"><a href="#section-cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from=</span><span class="st">&quot;type&quot;</span>, <span class="at">values_from=</span><span class="st">&quot;value&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="section-cb37-3"><a href="#section-cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(<span class="st">`</span><span class="at">percent no smell</span><span class="st">`</span>))</span>
<span id="section-cb37-4"><a href="#section-cb37-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb37-5"><a href="#section-cb37-5" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(monthly_wide)</span></code></pre></div>
<pre><code>## Rows: 32
## Columns: 5
## $ year               &lt;dbl&gt; 2020, 2020, 2020, 2020, 2020, 2020, 2020, 2020, 202…
## $ month              &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 1, 2, 3, 4, …
## $ row                &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, …
## $ `Covid cases`      &lt;dbl&gt; 0.000008, 0.000018, 0.191919, 0.886772, 0.706077, 0…
## $ `percent no smell` &lt;dbl&gt; 0.000000, 2.307692, 0.000000, 2.777778, 3.738318, 5…</code></pre>
<p>Okay, now that we’ve done that, run the correlation function on the two columns!</p>
<div class="tutorial-exercise" data-label="correl" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>___(monthly_wide$`______ _____`, monthly_wide$`_______ __ _____`, method=&quot;pearson&quot;) </code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="correl-solution" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>cor(monthly_wide$`Covid cases`, monthly_wide$`percent no smell`, method=&quot;pearson&quot;) </code></pre>
</div>
<div class="tutorial-exercise-support" data-label="correl-hint" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>Use the function and column names</code></pre>
</div>
<p>As you can see, the correlation score is pretty weak.</p>
<p>We can see the trend line with our eyes but the score doesn’t exactly match up after a certain point.</p>
<p>However, this may be because we do not have enough reviews! We’re only looking at data for one scented candle. If we brought in several more, we could have a more robust data set to create percents over time with to compare against Covid-19 cases.</p>
<p>Also, the Covid-19 cases may not be as accurate anymore if people are self-testing and not reporting it to their county health department.</p>
<p>There is a certain point where the lines no longer seem in sync. There could be any number of explanations.</p>
<p><strong>IMPORTANT!</strong> CORRELATION DOES NOT EQUAL CAUSATION.</p>
<p>If you use this technique to explore the relationship between two variables, please, please run it by a statistician or researcher.</p>
<p><strong>Phrasing</strong></p>
<p>If this is something you’d like to include and you’ve vetted it appropriately, narrative techniques include:</p>
<ul>
<li>“An analysis shows that there is a strong/significant relationship between X and Y”</li>
<li>“An analysis suggests that X predicts Y. For every X, Y increased by ___.”</li>
</ul>
<p>This is very squishy language and every effort should be taken to not include it!</p>
<p>That being said, a political scientist did do <a href="https://news.northeastern.edu/2022/06/10/yankee-candle-reviews-and-covid-19-trends/">this analysis and found</a> that after controlling for seasonality, it appeared that COVID-19 cases predicted more “no smell” reviews. For every 100,000 new COVID-19 cases per week, he found, “no smell” reviews increased by a quarter of a percentage point in the next week.</p>
<p>“When I added those next six months, which includes the Omicron wave, it is now predictive in the sense that, in theory, the reviews give us a slight heads up,” said Nicholas Beauchamp.</p>
</div>
</div>
<div id="section-percentiles-and-quantiles" class="section level2">
<h2>Percentiles and quantiles</h2>
<p>If you’re comparing numbers with numbers, it’s easier to turn one set of numbers into quantiles, for example taking a range of numbers and grouping them into “low”, “medium”, or “high” categories.</p>
<p>This way you can create crosstabs and get around having to use correlations in your narrative.</p>
<p>Quantiles are a range from any value to any other value.</p>
<p>Percentiles and Quartiles are simply types of Quantiles.</p>
<ul>
<li>4-quantiles are called quartiles</li>
<li>5-quintiles are called quintiles</li>
<li>10-quantiles are called deciles</li>
<li>100-quantiles are called percentiles</li>
</ul>
<p>To illustrate the concept, let’s start out with some City of Boston salaries.</p>
<p>I’ve saved it and deleted identifying information as <strong>boston_salaries</strong> (if you insist on working with the raw data, it’s not hard to find via search):</p>
<div class="sourceCode" id="section-cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb42-1"><a href="#section-cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(boston_salaries)</span></code></pre></div>
<pre><code>## Rows: 22,552
## Columns: 8
## $ DEPARTMENT_NAME &lt;chr&gt; &quot;Boston Police Department&quot;, &quot;Boston Police Department&quot;…
## $ TITLE           &lt;chr&gt; &quot;Police Officer&quot;, &quot;Police Officer&quot;, &quot;Police Offc Comm …
## $ REGULAR         &lt;dbl&gt; NA, NA, 69772.10, 100963.38, 109858.02, 127626.76, 142…
## $ OTHER           &lt;dbl&gt; 1264843.63, 1252990.81, 212739.48, 211900.28, 192097.5…
## $ OVERTIME        &lt;dbl&gt; NA, NA, 82300.87, 67849.66, 75938.65, 66433.83, 167509…
## $ DETAIL          &lt;dbl&gt; NA, NA, 12144.0, 9016.0, 19550.0, 50085.0, 24695.0, 53…
## $ TOTAL_GROSS     &lt;dbl&gt; 1264843.6, 1252990.8, 433073.8, 399825.9, 397444.2, 38…
## $ POSTAL          &lt;chr&gt; &quot;02119&quot;, &quot;02129&quot;, &quot;02130&quot;, &quot;02368&quot;, &quot;02301&quot;, &quot;02124&quot;, …</code></pre>
<p>Now, let’s take 20 of them randomly for our purposes (I’ll use the <code>sample_n()</code> function:</p>
<div class="sourceCode" id="section-cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb44-1"><a href="#section-cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># this makes it random but consistent for all of us</span></span>
<span id="section-cb44-2"><a href="#section-cb44-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2022</span>)</span>
<span id="section-cb44-3"><a href="#section-cb44-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb44-4"><a href="#section-cb44-4" aria-hidden="true" tabindex="-1"></a>boston16 <span class="ot">&lt;-</span> boston_salaries <span class="sc">%&gt;%</span> </span>
<span id="section-cb44-5"><a href="#section-cb44-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sample_n</span>(<span class="dv">16</span>)</span>
<span id="section-cb44-6"><a href="#section-cb44-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb44-7"><a href="#section-cb44-7" aria-hidden="true" tabindex="-1"></a>boston16</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["DEPARTMENT_NAME"],"name":[1],"type":["chr"],"align":["left"]},{"label":["TITLE"],"name":[2],"type":["chr"],"align":["left"]},{"label":["REGULAR"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["OTHER"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["OVERTIME"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["DETAIL"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["TOTAL_GROSS"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["POSTAL"],"name":[8],"type":["chr"],"align":["left"]}],"data":[{"1":"Mildred Avenue K-8","2":"Lunch Hour Monitors","3":"9200.91","4":"NA","5":"NA","6":"NA","7":"9200.91","8":"02124"},{"1":"Tech Boston Academy","2":"Teacher","3":"89721.68","4":"1700.00","5":"NA","6":"NA","7":"91421.68","8":"02130"},{"1":"BPS Facility Mgmt/A & R","2":"Sen Sup Sch Bldgs Heating&Ven","3":"94937.18","4":"3264.00","5":"8455.37","6":"NA","7":"106656.55","8":"02130"},{"1":"Boston Police Department","2":"Police Officer","3":"100302.42","4":"850.00","5":"6190.55","6":"36248","7":"143590.97","8":"02032"},{"1":"Boston Fire Department","2":"Sr Admin Asst (Fire)","3":"55428.34","4":"14239.10","5":"1954.85","6":"NA","7":"71622.29","8":"02127"},{"1":"Public Facilities Department","2":"Program Director","3":"98298.97","4":"NA","5":"NA","6":"NA","7":"98298.97","8":"02119"},{"1":"BPS McKinley Middle","2":"Teacher","3":"122393.37","4":"NA","5":"NA","6":"NA","7":"122393.37","8":"02021"},{"1":"BPS McKinley Middle","2":"Teacher","3":"122172.46","4":"23593.44","5":"NA","6":"NA","7":"145765.90","8":"02050"},{"1":"BPS Transportation","2":"Cab Monitor","3":"38546.59","4":"NA","5":"NA","6":"NA","7":"38546.59","8":"02126"},{"1":"Boston Police Department","2":"Police Lieutenant/Hdq Dispatch","3":"138883.36","4":"800.00","5":"89471.94","6":"NA","7":"269395.89","8":"02769"},{"1":"Jackson/Mann K-8","2":"Teacher","3":"83491.36","4":"1700.00","5":"NA","6":"NA","7":"85191.36","8":"02215"},{"1":"Kennedy, PJ Elementary","2":"Teacher","3":"93087.80","4":"NA","5":"NA","6":"NA","7":"93087.80","8":"02186"},{"1":"Boston Fire Department","2":"Fire Fighter","3":"126734.04","4":"550.00","5":"26869.73","6":"24243","7":"178396.77","8":"02122"},{"1":"BPS Human Resource Team","2":"Teacher","3":"110455.09","4":"NA","5":"NA","6":"NA","7":"110455.09","8":"02185"},{"1":"Edison K-8","2":"Teacher","3":"104862.94","4":"729.00","5":"NA","6":"NA","7":"105591.94","8":"02072"},{"1":"BPS Latin Academy","2":"Asst Cafeteria Manager","3":"28898.38","4":"100.00","5":"559.99","6":"NA","7":"29558.37","8":"02122"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Let’s look specifically at the overall salaries (I’m using the <code>kable()</code> function from the <strong>knitr</strong> package to present the data frame so we don’t have to scroll to see the whole thing:</p>
<div class="sourceCode" id="section-cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb45-1"><a href="#section-cb45-1" aria-hidden="true" tabindex="-1"></a>boston16 <span class="sc">%&gt;%</span> </span>
<span id="section-cb45-2"><a href="#section-cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(TOTAL_GROSS, POSTAL) <span class="sc">%&gt;%</span> </span>
<span id="section-cb45-3"><a href="#section-cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(TOTAL_GROSS) <span class="sc">%&gt;%</span> </span>
<span id="section-cb45-4"><a href="#section-cb45-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>()</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:right;">
TOTAL_GROSS
</th>
<th style="text-align:left;">
POSTAL
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
9200.91
</td>
<td style="text-align:left;">
02124
</td>
</tr>
<tr>
<td style="text-align:right;">
29558.37
</td>
<td style="text-align:left;">
02122
</td>
</tr>
<tr>
<td style="text-align:right;">
38546.59
</td>
<td style="text-align:left;">
02126
</td>
</tr>
<tr>
<td style="text-align:right;">
71622.29
</td>
<td style="text-align:left;">
02127
</td>
</tr>
<tr>
<td style="text-align:right;">
85191.36
</td>
<td style="text-align:left;">
02215
</td>
</tr>
<tr>
<td style="text-align:right;">
91421.68
</td>
<td style="text-align:left;">
02130
</td>
</tr>
<tr>
<td style="text-align:right;">
93087.80
</td>
<td style="text-align:left;">
02186
</td>
</tr>
<tr>
<td style="text-align:right;">
98298.97
</td>
<td style="text-align:left;">
02119
</td>
</tr>
<tr>
<td style="text-align:right;">
105591.94
</td>
<td style="text-align:left;">
02072
</td>
</tr>
<tr>
<td style="text-align:right;">
106656.55
</td>
<td style="text-align:left;">
02130
</td>
</tr>
<tr>
<td style="text-align:right;">
110455.09
</td>
<td style="text-align:left;">
02185
</td>
</tr>
<tr>
<td style="text-align:right;">
122393.37
</td>
<td style="text-align:left;">
02021
</td>
</tr>
<tr>
<td style="text-align:right;">
143590.97
</td>
<td style="text-align:left;">
02032
</td>
</tr>
<tr>
<td style="text-align:right;">
145765.90
</td>
<td style="text-align:left;">
02050
</td>
</tr>
<tr>
<td style="text-align:right;">
178396.77
</td>
<td style="text-align:left;">
02122
</td>
</tr>
<tr>
<td style="text-align:right;">
269395.89
</td>
<td style="text-align:left;">
02769
</td>
</tr>
</tbody>
</table>
<p>To group these salaries into sections, we’ll use the <code>ntile()</code> function.</p>
<p>The way <code>ntile()</code> works is the first argument is the column you’d like to evaluate and the second argument is the number of groups you’d like.</p>
<p>Because we’re creating 4 groups, we’ll add a column called <strong>quartile</strong>.</p>
<p>Go for it below.</p>
<div class="tutorial-exercise" data-label="ntile" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>boston16 %&gt;% 
  select(TOTAL_GROSS, POSTAL) %&gt;% 
  arrange(TOTAL_GROSS) %&gt;% 
  mutate(quartile=_____(TOTAL_GROSS, _)) %&gt;% 
  kable()</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="ntile-solution" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>boston16 %&gt;% 
  select(TOTAL_GROSS, POSTAL) %&gt;% 
  arrange(TOTAL_GROSS) %&gt;% 
  mutate(quartile=ntile(TOTAL_GROSS, 4)) %&gt;% 
  kable()</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="ntile-hint" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>Use the new function and remember we want four groups</code></pre>
</div>
<p>Now, you can use <code>case_when()</code> to create a new column for lowest salary, lower salary, higher salary, and highest salary based on the quartile column you created.</p>
<p>What if you joined median income for zip codes from the Census to this data?</p>
<p>If you joined additional numerical data to this you could use <code>group_by()</code> on the quartile column to calculate the percent of workers living in poor or rich neighborhoods. Or perhaps even those who live outside Boston city borders?</p>
<p>Anyway, that’s the benefit of adding quartiles via mutate.</p>
<p>What if we just wanted to know what salary someone in Boston would need to earn to be in the top 75% of all workers paid by the city?</p>
<div id="section-summarized-quantiles" class="section level3">
<h3>Summarized quantiles</h3>
<p>We’re going to use a different function this time, <code>quantile()</code> which is nearly the same thing but takes percentiles as inputs.</p>
<p>Check it out below.</p>
<div class="tutorial-exercise" data-label="quant1" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>boston16 %&gt;% 
  select(TOTAL_GROSS) %&gt;% 
  arrange(TOTAL_GROSS) %&gt;% 
  summarize(value=________(TOTAL_GROSS, c(0, .25, .5, .75, 1))) %&gt;% 
  mutate(percentile=c(0,25,50,75, 100),
         quartile=c(0,1,2,3,4)) %&gt;% 
  select(percentile, quartile, value)</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="quant1-solution" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>boston16 %&gt;% 
  select(TOTAL_GROSS) %&gt;% 
  arrange(TOTAL_GROSS) %&gt;% 
  summarize(value=quantile(TOTAL_GROSS, c(0, .25, .5, .75, 1))) %&gt;% 
  mutate(percentile=c(0,25,50,75, 100),
         quartile=c(0,1,2,3,4)) %&gt;% 
  select(percentile, quartile, value)</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="quant1-hint" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>Use the new function</code></pre>
</div>
<p>Alright, so within this 16 employee sample, you’ll need to make $127,692 to be in the top 75% of earners.</p>
<p>(Sometimes there may be an issue with progressing past this point– if you can’t continue, click on “Plot it” to the left to move on manually).</p>
</div>
</div>
<div id="section-plot-it-1" class="section level2">
<h2>Plot it</h2>
<p>I wanted to take this moment to emphasize how important it is to visualize your analysis.</p>
<p>Summarized data could look completely the same in a table or numeric form but when visualized, it could show completely different patterns.</p>
<p>For example, this is an example of the Datasaurus data (created by <a href="http://albertocairo.com/">Alberto Cairo</a>) with the same statistical properties when it comes to mean, median, standard deviation, and correlation figures. But the underlying data are all completely different.</p>
<p><img src="https://damassets.autodesk.net/content/dam/autodesk/research/publications-assets/gifs/same-stats-different-graphs/DinoSequentialSmaller.gif" width="700px" /></p>
</div>
<div id="section-linear-modeling" class="section level2">
<h2>Linear modeling</h2>
<p>Let’s take it a step further.</p>
<p>Sometimes it’s important to account for confounding factors that may better explain relationships between data points. A popular example is if you have data on sunburns and ice cream purchases. You may find that people buy more ice cream when a lot of people have sunburns. But it’d be incorrect to say ice cream purchases cause sunburns.</p>
<p>Let’s work with some fake data on employee salaries so we can investigate whether or not there is a gender pay gap at this company.</p>
<p>The most basic way to investigate would be to take the average salary for men and compare it with the average salary for women. But this could be misleading.</p>
<p><em>Note: I just realized “be careful, this could be misleading” is like the data journalism unofficial motto.</em></p>
<p>For example, men and women may work in different job roles inside companies — the company may have more men in high paying software engineering jobs and more women in lower paying administrative assistant positions. Not having enough representation in various positions could be analyzed but it would account for the disparity in pay.</p>
<p>Many factors affect pay, so we should attempt to separately measure them to understand how each impacts it at this company.</p>
<p>It’s good to have both results from the “unadjusted” and “adjusted” versions of the pay gap analysis.</p>
<p>Let’s begin by bringing in the data.</p>
<p>I’ve done for you already below. Take a look at what the data includes:</p>
<div class="sourceCode" id="section-cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb52-1"><a href="#section-cb52-1" aria-hidden="true" tabindex="-1"></a>salaries <span class="ot">=</span> <span class="fu">read_csv</span>(<span class="st">&quot;https://www.andrewbatran.com/data/salary_data.csv&quot;</span>)</span>
<span id="section-cb52-2"><a href="#section-cb52-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb52-3"><a href="#section-cb52-3" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(salaries)</span></code></pre></div>
<pre><code>## Rows: 1,000
## Columns: 9
## $ jobTitle  &lt;chr&gt; &quot;Graphic Designer&quot;, &quot;Software Engineer&quot;, &quot;Warehouse Associat…
## $ gender    &lt;chr&gt; &quot;Female&quot;, &quot;Male&quot;, &quot;Female&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Female&quot;, &quot;Femal…
## $ age       &lt;dbl&gt; 18, 21, 19, 20, 26, 20, 20, 18, 33, 35, 24, 18, 19, 30, 35, …
## $ perfEval  &lt;dbl&gt; 5, 5, 4, 5, 5, 5, 5, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, …
## $ edu       &lt;chr&gt; &quot;College&quot;, &quot;College&quot;, &quot;PhD&quot;, &quot;Masters&quot;, &quot;Masters&quot;, &quot;PhD&quot;, &quot;C…
## $ dept      &lt;chr&gt; &quot;Operations&quot;, &quot;Management&quot;, &quot;Administration&quot;, &quot;Sales&quot;, &quot;Engi…
## $ seniority &lt;dbl&gt; 2, 5, 5, 4, 5, 4, 4, 5, 5, 5, 5, 3, 3, 5, 4, 3, 5, 5, 5, 5, …
## $ basePay   &lt;dbl&gt; 42363, 108476, 90208, 108080, 99464, 70890, 67585, 97523, 11…
## $ bonus     &lt;dbl&gt; 9938, 11128, 9268, 10154, 9319, 10126, 10541, 10240, 9836, 9…</code></pre>
<p>After importing our data, the next step is to do some clean-up to prepare it for regression analysis. First, we’ll create five employee age groups for simplicity.</p>
<p>Fill in line 3.</p>
<div class="tutorial-exercise" data-label="base" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># Base pay summary stats.
salaries_adjusted1 &lt;-  salaries %&gt;%
  # Age brackets
  mutate(age_bin = ________(
    age &lt; 25 ~ 1, #Below age 25 
    age &gt;= 25 &amp; age &lt; 35 ~ 2, #Age 25-34 
    age &gt;= 35 &amp; age &lt; 45 ~ 3, #Age 25-34 
    age &gt;= 45 &amp; age &lt; 55 ~ 4, #Age 25-34 
    age &gt;= 55 ~ 5, #Age 25-34 
  ))</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="base-solution" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># Base pay summary stats.
salaries_adjusted1 &lt;-  salaries %&gt;%
  # Age brackets
  mutate(age_bin = case_when(
    age &lt; 25 ~ 1, #Below age 25 
    age &gt;= 25 &amp; age &lt; 35 ~ 2, #Age 25-34 
    age &gt;= 35 &amp; age &lt; 45 ~ 3, #Age 25-34 
    age &gt;= 45 &amp; age &lt; 55 ~ 4, #Age 25-34 
    age &gt;= 55 ~ 5, #Age 25-34 
  ))</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="base-hint" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>What&#39;s the dplyr function for if/else?</code></pre>
</div>
<div id="section-logarithms" class="section level3">
<h3>Logarithms</h3>
<p>Next, create a new variable for the natural log of base pay.</p>
<p>Why do this? By estimating gender pay gaps using the log of pay, it provides a simple and useful interpretation of our regression results. Essentially, logs are a simpler way to represent large numbers.</p>
<p>For example, 10,000,000,000 can be written as 10¹⁰.</p>
<p>The new function we’ll use is predictably called <code>log()</code> and we’ll pass it the argument of how many exponents we want (just 1).</p>
<div class="tutorial-exercise" data-label="salaries2" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>salaries_adjusted2 &lt;- salaries_adjusted1 %&gt;% 
  # Total compensation
  mutate(total_pay = basePay + bonus) %&gt;%
  # Log of compensation
  mutate(log_base = ___(basePay, base = exp(1)),
         log_total = ___(total_pay, base = exp(1)),
         # Adds 1 to allow for log of 0 bonus values.
         log_bonus = ___(bonus + 1, base = exp(1)))

salaries_adjusted2</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="salaries2-solution" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>salaries_adjusted2 &lt;- salaries_adjusted1 %&gt;% 
  # Total compensation
  mutate(total_pay = basePay + bonus) %&gt;%
  # Log of compensation
  mutate(log_base = log(basePay, base = exp(1)),
         log_total = log(total_pay, base = exp(1)),
         # Adds 1 to allow for log of 0 bonus values.
         log_bonus = log(bonus + 1, base = exp(1)))

salaries_adjusted2</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="salaries2-hint" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>What&#39;s the new function called?</code></pre>
</div>
<p>The time creating models is like 85% cleaning and prepping the data.</p>
<p>So we’ll continue doing so by adding a new numerical variable to change Male to 1 and Female to 0.</p>
<p>I’ll go ahead and do that for you below:</p>
<div class="sourceCode" id="section-cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb60-1"><a href="#section-cb60-1" aria-hidden="true" tabindex="-1"></a>salaries_adjusted3 <span class="ot">&lt;-</span> salaries_adjusted2 <span class="sc">%&gt;%</span></span>
<span id="section-cb60-2"><a href="#section-cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Make flags</span></span>
<span id="section-cb60-3"><a href="#section-cb60-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">male =</span> <span class="fu">case_when</span>(</span>
<span id="section-cb60-4"><a href="#section-cb60-4" aria-hidden="true" tabindex="-1"></a>    gender<span class="sc">==</span><span class="st">&quot;Male&quot;</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="section-cb60-5"><a href="#section-cb60-5" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="section-cb60-6"><a href="#section-cb60-6" aria-hidden="true" tabindex="-1"></a>  ))</span></code></pre></div>
<p>Let’s take a look at what we’ve got.</p>
<div class="sourceCode" id="section-cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb61-1"><a href="#section-cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(salaries_adjusted3)</span></code></pre></div>
<pre><code>## Rows: 1,000
## Columns: 15
## $ jobTitle  &lt;chr&gt; &quot;Graphic Designer&quot;, &quot;Software Engineer&quot;, &quot;Warehouse Associat…
## $ gender    &lt;chr&gt; &quot;Female&quot;, &quot;Male&quot;, &quot;Female&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Female&quot;, &quot;Femal…
## $ age       &lt;dbl&gt; 18, 21, 19, 20, 26, 20, 20, 18, 33, 35, 24, 18, 19, 30, 35, …
## $ perfEval  &lt;dbl&gt; 5, 5, 4, 5, 5, 5, 5, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, …
## $ edu       &lt;chr&gt; &quot;College&quot;, &quot;College&quot;, &quot;PhD&quot;, &quot;Masters&quot;, &quot;Masters&quot;, &quot;PhD&quot;, &quot;C…
## $ dept      &lt;chr&gt; &quot;Operations&quot;, &quot;Management&quot;, &quot;Administration&quot;, &quot;Sales&quot;, &quot;Engi…
## $ seniority &lt;dbl&gt; 2, 5, 5, 4, 5, 4, 4, 5, 5, 5, 5, 3, 3, 5, 4, 3, 5, 5, 5, 5, …
## $ basePay   &lt;dbl&gt; 42363, 108476, 90208, 108080, 99464, 70890, 67585, 97523, 11…
## $ bonus     &lt;dbl&gt; 9938, 11128, 9268, 10154, 9319, 10126, 10541, 10240, 9836, 9…
## $ age_bin   &lt;dbl&gt; 1, 1, 1, 1, 2, 1, 1, 1, 2, 3, 1, 1, 1, 2, 3, 2, 1, 1, 1, 2, …
## $ total_pay &lt;dbl&gt; 52301, 119604, 99476, 118234, 108783, 81016, 78126, 107763, …
## $ log_base  &lt;dbl&gt; 10.65403, 11.59428, 11.40987, 11.59063, 11.50755, 11.16888, …
## $ log_total &lt;dbl&gt; 10.86477, 11.69194, 11.50767, 11.68042, 11.59711, 11.30240, …
## $ log_bonus &lt;dbl&gt; 9.204222, 9.317310, 9.134431, 9.225721, 9.139918, 9.222960, …
## $ male      &lt;dbl&gt; 0, 1, 0, 1, 1, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, …</code></pre>
<p>To look at summarized statistics of our transformed data, we’ll use a new packages called <strong>vtable</strong> and use the function <code>st()</code></p>
<div class="tutorial-exercise" data-label="glimpse" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>__(salaries_adjusted3)</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="glimpse-solution" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>st(salaries_adjusted3)</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="glimpse-hint" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>What&#39;s the new function called?</code></pre>
</div>
<p>Standard deviations, percentiles, averages, counts, max.</p>
<p>So many things we’ve done manually quickly done with one function!</p>
<p>Amazing.</p>
<p>But let’s move on to our unadjusted comparison of pay between men and women.</p>
<p>Let’s calculate the average and median for base pay by gender.</p>
<div class="tutorial-exercise" data-label="summary" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>summary_base &lt;- salaries_adjusted3 %&gt;% 
  group_by(______) %&gt;% 
  summarise(meanBasePay = _____(basePay, na.rm = TRUE),
            medianBasePay = ______(basePay, na.rm = TRUE),
            employees = n())

summary_base</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="summary-solution" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>summary_base &lt;- salaries_adjusted3 %&gt;% 
  group_by(gender) %&gt;% 
  summarise(meanBasePay = mean(basePay, na.rm = TRUE),
            medianBasePay = median(basePay, na.rm = TRUE),
            employees = n())

summary_base</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="summary-hint" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>Some old functions we&#39;ve used before. Also what are you grouping by?</code></pre>
</div>
<p>For our hypothetical employer, men on average are paid $98,458 per year while women on average earn $89,943 per year — an overall or “unadjusted” pay gap of $8,515 or about 8.6 percent of male pay.</p>
<p>Let’s look at whether men and women are clustered into certain job titles or departments. If so, we’ll need to control for that in our analysis.</p>
<p>I’ll go ahead and run this code for you and save it as “unadjusted_jobs”.</p>
<div class="sourceCode" id="section-cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb69-1"><a href="#section-cb69-1" aria-hidden="true" tabindex="-1"></a>unadjusted_jobs <span class="ot">&lt;-</span> salaries_adjusted3 <span class="sc">%&gt;%</span> </span>
<span id="section-cb69-2"><a href="#section-cb69-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(jobTitle, gender) <span class="sc">%&gt;%</span> </span>
<span id="section-cb69-3"><a href="#section-cb69-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">meanTotalPay =</span> <span class="fu">mean</span>(total_pay, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="section-cb69-4"><a href="#section-cb69-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">employees =</span><span class="fu">n</span>())</span></code></pre></div>
<pre><code>## `summarise()` has grouped output by &#39;jobTitle&#39;. You can override using the
## `.groups` argument.</code></pre>
<div class="sourceCode" id="section-cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb71-1"><a href="#section-cb71-1" aria-hidden="true" tabindex="-1"></a>unadjusted_jobs</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["jobTitle"],"name":[1],"type":["chr"],"align":["left"]},{"label":["gender"],"name":[2],"type":["chr"],"align":["left"]},{"label":["meanTotalPay"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["employees"],"name":[4],"type":["int"],"align":["right"]}],"data":[{"1":"Data Scientist","2":"Female","3":"102452.26","4":"53"},{"1":"Data Scientist","2":"Male","3":"95450.00","4":"54"},{"1":"Driver","2":"Female","3":"93197.35","4":"46"},{"1":"Driver","2":"Male","3":"98417.80","4":"45"},{"1":"Financial Analyst","2":"Female","3":"101743.65","4":"49"},{"1":"Financial Analyst","2":"Male","3":"101116.36","4":"58"},{"1":"Graphic Designer","2":"Female","3":"98810.42","4":"48"},{"1":"Graphic Designer","2":"Male","3":"96584.08","4":"50"},{"1":"IT","2":"Female","3":"96837.94","4":"50"},{"1":"IT","2":"Male","3":"97239.59","4":"46"},{"1":"Manager","2":"Female","3":"133244.28","4":"18"},{"1":"Manager","2":"Male","3":"130929.15","4":"72"},{"1":"Marketing Associate","2":"Female","3":"82251.15","4":"107"},{"1":"Marketing Associate","2":"Male","3":"88161.64","4":"11"},{"1":"Sales Associate","2":"Female","3":"98220.53","4":"43"},{"1":"Sales Associate","2":"Male","3":"100893.55","4":"51"},{"1":"Software Engineer","2":"Female","3":"101147.38","4":"8"},{"1":"Software Engineer","2":"Male","3":"113033.81","4":"101"},{"1":"Warehouse Associate","2":"Female","3":"100083.93","4":"46"},{"1":"Warehouse Associate","2":"Male","3":"93363.61","4":"44"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Looks like men are very overrepresented in management and software roles, which are more highly paying, while women seem overrepresented among marketing associate roles.</p>
</div>
<div id="section-linear-regression" class="section level3">
<h3>Linear regression</h3>
<p>The base R function <code>lm()</code> perform linear regression, assessing the relationship between numeric response and explanatory variables that are assumed to have a linear relationship.</p>
<p>Provide the equation as a formula, with the response and explanatory column names separated by a tilde ~. Also, specify the dataset to data =. Define the model results as an R object, to use later.</p>
<p>First, we’ll run the simplest possible model with no controls at all, regressing salary only on a male-female gender dummy. This is equivalent to calculating the approximate overall percentage pay gap between men and women — what we call the “unadjusted” pay gap.</p>
<p>We’re looking for the relationship between log_base and gender.</p>
<p>Then use the <code>summary()</code> function to output the results!</p>
<div class="tutorial-exercise" data-label="star" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># No controls. (&quot;unadjusted&quot; pay gap.)
lm_gender &lt;- lm(________ ~ ______, data = salaries_adjusted3)

_______(lm_gender)</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="star-solution" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># No controls. (&quot;unadjusted&quot; pay gap.)
lm_gender &lt;- lm(log_base ~ gender, data = salaries_adjusted3)

summary(lm_gender)</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="star-hint" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>The first argument is log_base</code></pre>
</div>
<p>A coefficient of 0.095 means there is approximately 9.5 percent “unadjusted” gender pay gap in this theoretical company. In a story, you would write that men on average earn about 9.5 percent more than women on average in this company.</p>
<p>The estimates that are statistically significant have <code>*</code>, <code>**</code> or <code>***</code> next to them.</p>
<p>So this model currently says that gender is a statistically significant factor when it comes to pay.</p>
</div>
<div id="section-adjusted-linear-model" class="section level3">
<h3>Adjusted linear model</h3>
<p>Next, we’ll run a more complete model that adds in variables for employee characteristics like highest education, years of experience and performance evaluation scores. These are some variables that management would accuse you of not taking into consideration if you’re doing a pay study (and then not provide to you even if you request it, maybe I’m talking from experience).</p>
<p>Let’s add performance evals, the age buckets, and education to our linear model function.</p>
<p>We do so by adding them with a <code>+</code> after the second variable behind the ~ tilde sign.</p>
<div class="tutorial-exercise" data-label="star2" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># Adding &quot;human capital&quot; controls (performance evals, age and education).
lm_humancapital &lt;- lm(log_base ~ gender + ________ + _______ + ___, data = salaries_adjusted3)

summary(lm_humancapital)</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="star2-solution" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># Adding &quot;human capital&quot; controls (performance evals, age and education).
lm_humancapital &lt;- lm(log_base ~ gender + perfEval + age_bin + edu, data = salaries_adjusted3)

summary(lm_humancapital)</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="star2-hint" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>Make sure you use the correct column names.</code></pre>
</div>
<p>The gender pay gap hasn’t changed much with these adjustments. It’s still a 10.1 percent pay gap, which is still highly statistically significant. Whatever is causing the pay gap in our hypothetical employer isn’t due to differences in education, age or performance evaluations of men and women.</p>
</div>
<div id="section-final-adjustment-linear-model" class="section level3">
<h3>Final adjustment linear model</h3>
<p>Finally, let’s run a model with all of the controls that you have access to, including job title, department and more.</p>
<div class="tutorial-exercise" data-label="star3" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># Adding all controls. (&quot;adjusted&quot; pay gap.)
lm_allcontrols &lt;- lm(log_base ~ ______ + ________ + _______ + ___ + 
                       ____ + _________ + ________, 
                     data = salaries_adjusted3)

summary(lm_allcontrols)</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="star3-solution" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># Adding &quot;human capital&quot; controls (performance evals, age and education).
lm_allcontrols &lt;- lm(log_base ~ gender + perfEval + age_bin + edu + dept + seniority + jobTitle, data = salaries_adjusted3)

summary(lm_allcontrols)</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="star3-hint" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>Make sure you use the correct column names.</code></pre>
</div>
<p>In this case, we see the gender pay gap shrinks to 1.1 percent after controlling for job title, job seniority and company department.</p>
<p>As we suspected, there are more men in higher-paying software engineer and manager roles, while they are underrepresented in lower-paying marketing roles.</p>
<p>Even if this company doesn’t have an overall pay gap between men and women, it’s still possible that gender pay gaps are hidden only within certain job titles or departments.</p>
<p>To test for differences in the gender pay gap among departments or job titles in your company, we make a slight adjustment to the models above. In addition to including a “male” dummy, we include interaction terms for male x department, or male x job title. By looking at whether the coefficients on these interaction terms are statistically significant or not, we can test whether the gender pay gap within certain job titles or departments differs from the overall company average.</p>
<p>To include <em>jobTitle</em> in our regression measurement, we use <code>*</code> after the <strong>male</strong> column as a second variable.</p>
<p>It’d look like this. Go ahead and run the code below.</p>
<div class="tutorial-exercise" data-label="job_titles" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># All controls with job title interaction terms.
job_results &lt;- lm(log_base ~ male*jobTitle + perfEval + age_bin + edu + seniority + dept, data = salaries_adjusted3)
# Publish a clean table of regression results.
summary(job_results)</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":false,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<p>After running this code, examine each of the coefficients in the table of results for the male x job title interaction terms. If they’re statistically significant, that means the gender pay gap in that particular job title is different from the overall company average, and it’s worth investigating why.</p>
<p>If they’re not significant, there’s no evidence of differences in pay gaps by job title.</p>
<p>If you want to see what the estimated gender pay gap is for each job title, you’ll simply need to combine two numbers from your regression output. For the gender pay gap in a particular job title, add together the coefficient from the male variable plus the coefficient from the male x job title variable for that job title. That tells you the gender gap from being both male and working in that particular role.</p>
</div>
</div>
<div id="section-class-iv---part-2" class="section level2">
<h2>Class IV - Part 2</h2>
<p>Whew, this was a very long one. Thanks for sticking with it!</p>
<p>Take a look at this diagram.</p>
<p><img src="https://josiahparry.com/slides/tidymodels/images/r4ds_data-science.png" width="700px" /></p>
<p>You’ve essentially gone through all these steps in this class at this point!</p>
<p>Importing, tidying, and then iterating between transforming the data, visualizing, and modeling it.</p>
<p>Until you get enough to communicate what’s important!</p>
<p>And you can see why it’s so important to know all these steps because it takes constant tweaking to wrangling and visualizing and modeling the data. And now you know how!</p>
<p>Take a long break. Because now we’re moving onto some fun stuff: maps!</p>
<p>When you’re ready to move on the last section of the week just type this in the console of RStudio:</p>
<pre><code>learnr::run_tutorial(&quot;class_4_b_static_maps&quot;, &quot;adjclass&quot;)</code></pre>
<p>Stop this tutorial in the <code>Render</code> tab of RStudio (press the stop button).</p>
<p>
<script type="application/shiny-prerendered" data-context="server-start">
packages <- c("tidyverse", "lubridate", "rvest", "httr", "remotes",
            "vtable", "tidymodels")
if (length(setdiff(packages, rownames(installed.packages()))) > 0) {
  install.packages(setdiff(packages, rownames(installed.packages())), repos = "https://cran.us.r-project.org")  
}

#remotes::install_github("rstudio/gradethis", upgrade="always", quiet=TRUE)
#remotes::install_github("rstudio/learnr", upgrade="always", quiet=TRUE)

library(tidyverse)
library(learnr)
library(gradethis)
library(tidymodels)
library(vtable)
library(lubridate)
library(knitr)

salaries = read_csv("https://www.andrewbatran.com/data/salary_data.csv")

salaries_adjusted1 <-  salaries %>%
  # Age brackets
  mutate(age_bin = case_when(
    age < 25 ~ 1, #Below age 25 
    age >= 25 & age < 35 ~ 2, #Age 25-34 
    age >= 35 & age < 45 ~ 3, #Age 25-34 
    age >= 45 & age < 55 ~ 4, #Age 25-34 
    age >= 55 ~ 5, #Age 25-34 
  ))


salaries_adjusted2 <- salaries_adjusted1 %>% 
  # Total compensation
  mutate(total_pay = basePay + bonus) %>%
  # Log of compensation
  mutate(log_base = log(basePay, base = exp(1)),
         log_total = log(total_pay, base = exp(1)),
         # Adds 1 to allow for log of 0 bonus values.
         log_bonus = log(bonus + 1, base = exp(1)))

salaries_adjusted3 <- salaries_adjusted2 %>%
  # Make flags
  mutate(male = case_when(
    gender=="Male" ~ 1,
    TRUE ~ 0
  ))

# No controls. ("unadjusted" pay gap.)
lm_gender <- lm(log_base ~ gender, data = salaries_adjusted3)

# Adding "human capital" controls (performance evals, age and education).
lm_humancapital <- lm(log_base ~ gender + perfEval + age_bin + edu, data = salaries_adjusted3)

# Adding all controls. ("adjusted" pay gap.)
lm_allcontrols <- lm(log_base ~ gender + perfEval + age_bin + edu + dept + seniority + jobTitle, data = salaries_adjusted3)


candles <- read_csv("data/scented.csv")

candles_weekly <- candles %>% 
    mutate(year=year(Date)) %>% 
    mutate(week=week(Date)) %>% 
  group_by(year, week) %>% 
  summarize(avg_rating=mean(Rating, na.rm=T))

candles_monthly <- candles %>% 
    mutate(year=year(Date)) %>% 
    mutate(month=month(Date)) %>% 
  group_by(year, month) %>% 
  summarize(avg_rating=mean(Rating, na.rm=T))

scented_timeline_monthly1 <- candles %>% 
  filter(Date>ymd("2020-01-21")) %>% 
  mutate(no_scent=case_when(
    str_detect(Review, "[Nn]o scent") ~ 1, 
    str_detect(Review, "[Nn]o smell") ~ 1,
    str_detect(Review, "[Dd]oes not smell like") ~ 1,
    str_detect(Review, "[Dd]oesn't smell like") ~ 1,
    str_detect(Review, "[Cc]an't smell") ~ 1,
    str_detect(Review, "[Cc]annot smell") ~ 1,
    str_detect(Review, "[Ff]aint smell") ~ 1,
    str_detect(Review, "[Ff]aint scent") ~ 1,
    str_detect(Review, "[Dd]on't smell") ~ 1,
    str_detect(Review, "[Ll]ike nothing") ~ 1,
    TRUE ~ 0
  ))


scented_timeline_monthly2 <- scented_timeline_monthly1 %>% 
  mutate(year=year(Date),
         month=month(Date)) %>% 
  # let's aggregate around year and month
  group_by(year, month) %>% 
  # we just need to add up the 1s in no_scent and count up the total reviews with n()
  summarize(no_scent=sum(no_scent), reviews=n()) %>% 
  # and do some math
  mutate(percent=no_scent/reviews*100) %>% 
  select(year, month, value=percent) %>% 
  mutate(type="percent no smell") %>% 
  ungroup() %>% 
  mutate(row=row_number())

boston_salaries <- read_csv("https://www.andrewbatran.com/data/boston.csv") %>% 
  select(DEPARTMENT_NAME, TITLE, REGULAR, OTHER, OVERTIME, DETAIL, TOTAL_GROSS, POSTAL)

set.seed(2022)

boston16 <- boston_salaries %>% 
  sample_n(16)

covid <- read_csv("https://www.andrewbatran.com/data/covid.csv")

covid_long <- covid %>% 
  pivot_longer(cols=12:ncol(covid), names_to="date", values_to="cases") %>% 
  mutate(date=mdy(date)) %>% 
  group_by(FIPS) %>% 
  arrange(date) %>% 
  # this is a way to create a value from the previous value (lagged)
  mutate(positive = c(cases[1],diff(cases))) %>% 
  group_by(date) %>% 
  summarize(value=sum(positive, na.rm=T)) %>% 
  mutate(type="Covid cases")

covid_long_monthly <- covid_long %>% 
  mutate(year=year(date),
         month=month(date)) %>% 
  group_by(year, month) %>% 
  summarize(value=sum(value, na.rm=T)/1000000) %>% 
  mutate(type="Covid cases") %>% 
  ungroup() %>% 
  mutate(row=row_number())

monthly <- rbind(covid_long_monthly, scented_timeline_monthly2)

monthly_wide <- monthly %>% 
  pivot_wider(names_from="type", values_from="value") %>% 
  filter(!is.na(`percent no smell`))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::register_http_handlers(session, metadata = NULL)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::prepare_tutorial_state(session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::i18n_observe_tutorial_language(input, session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
session$onSessionEnded(function() {
        learnr:::event_trigger(session, "session_stop")
      })
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-mean_median-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-mean_median-code-editor`)), session)
output$`tutorial-exercise-mean_median-output` <- renderUI({
  `tutorial-exercise-mean_median-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(label = "mean_median", global_setup = structure(c("packages <- c(\"tidyverse\", \"lubridate\", \"rvest\", \"httr\", \"remotes\",", 
"            \"vtable\", \"tidymodels\")", "if (length(setdiff(packages, rownames(installed.packages()))) > 0) {", 
"  install.packages(setdiff(packages, rownames(installed.packages())), repos = \"https://cran.us.r-project.org\")  ", 
"}", "", "#remotes::install_github(\"rstudio/gradethis\", upgrade=\"always\", quiet=TRUE)", 
"#remotes::install_github(\"rstudio/learnr\", upgrade=\"always\", quiet=TRUE)", 
"", "library(tidyverse)", "library(learnr)", "library(gradethis)", 
"library(tidymodels)", "library(vtable)", "library(lubridate)", 
"library(knitr)", "", "salaries = read_csv(\"https://www.andrewbatran.com/data/salary_data.csv\")", 
"", "salaries_adjusted1 <-  salaries %>%", "  # Age brackets", 
"  mutate(age_bin = case_when(", "    age < 25 ~ 1, #Below age 25 ", 
"    age >= 25 & age < 35 ~ 2, #Age 25-34 ", "    age >= 35 & age < 45 ~ 3, #Age 25-34 ", 
"    age >= 45 & age < 55 ~ 4, #Age 25-34 ", "    age >= 55 ~ 5, #Age 25-34 ", 
"  ))", "", "", "salaries_adjusted2 <- salaries_adjusted1 %>% ", 
"  # Total compensation", "  mutate(total_pay = basePay + bonus) %>%", 
"  # Log of compensation", "  mutate(log_base = log(basePay, base = exp(1)),", 
"         log_total = log(total_pay, base = exp(1)),", "         # Adds 1 to allow for log of 0 bonus values.", 
"         log_bonus = log(bonus + 1, base = exp(1)))", "", "salaries_adjusted3 <- salaries_adjusted2 %>%", 
"  # Make flags", "  mutate(male = case_when(", "    gender==\"Male\" ~ 1,", 
"    TRUE ~ 0", "  ))", "", "# No controls. (\"unadjusted\" pay gap.)", 
"lm_gender <- lm(log_base ~ gender, data = salaries_adjusted3)", 
"", "# Adding \"human capital\" controls (performance evals, age and education).", 
"lm_humancapital <- lm(log_base ~ gender + perfEval + age_bin + edu, data = salaries_adjusted3)", 
"", "# Adding all controls. (\"adjusted\" pay gap.)", "lm_allcontrols <- lm(log_base ~ gender + perfEval + age_bin + edu + dept + seniority + jobTitle, data = salaries_adjusted3)", 
"", "", "candles <- read_csv(\"data/scented.csv\")", "", "candles_weekly <- candles %>% ", 
"    mutate(year=year(Date)) %>% ", "    mutate(week=week(Date)) %>% ", 
"  group_by(year, week) %>% ", "  summarize(avg_rating=mean(Rating, na.rm=T))", 
"", "candles_monthly <- candles %>% ", "    mutate(year=year(Date)) %>% ", 
"    mutate(month=month(Date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(avg_rating=mean(Rating, na.rm=T))", "", "scented_timeline_monthly1 <- candles %>% ", 
"  filter(Date>ymd(\"2020-01-21\")) %>% ", "  mutate(no_scent=case_when(", 
"    str_detect(Review, \"[Nn]o scent\") ~ 1, ", "    str_detect(Review, \"[Nn]o smell\") ~ 1,", 
"    str_detect(Review, \"[Dd]oes not smell like\") ~ 1,", "    str_detect(Review, \"[Dd]oesn't smell like\") ~ 1,", 
"    str_detect(Review, \"[Cc]an't smell\") ~ 1,", "    str_detect(Review, \"[Cc]annot smell\") ~ 1,", 
"    str_detect(Review, \"[Ff]aint smell\") ~ 1,", "    str_detect(Review, \"[Ff]aint scent\") ~ 1,", 
"    str_detect(Review, \"[Dd]on't smell\") ~ 1,", "    str_detect(Review, \"[Ll]ike nothing\") ~ 1,", 
"    TRUE ~ 0", "  ))", "", "", "scented_timeline_monthly2 <- scented_timeline_monthly1 %>% ", 
"  mutate(year=year(Date),", "         month=month(Date)) %>% ", 
"  # let's aggregate around year and month", "  group_by(year, month) %>% ", 
"  # we just need to add up the 1s in no_scent and count up the total reviews with n()", 
"  summarize(no_scent=sum(no_scent), reviews=n()) %>% ", "  # and do some math", 
"  mutate(percent=no_scent/reviews*100) %>% ", "  select(year, month, value=percent) %>% ", 
"  mutate(type=\"percent no smell\") %>% ", "  ungroup() %>% ", 
"  mutate(row=row_number())", "", "boston_salaries <- read_csv(\"https://www.andrewbatran.com/data/boston.csv\") %>% ", 
"  select(DEPARTMENT_NAME, TITLE, REGULAR, OTHER, OVERTIME, DETAIL, TOTAL_GROSS, POSTAL)", 
"", "set.seed(2022)", "", "boston16 <- boston_salaries %>% ", 
"  sample_n(16)", "", "covid <- read_csv(\"https://www.andrewbatran.com/data/covid.csv\")", 
"", "covid_long <- covid %>% ", "  pivot_longer(cols=12:ncol(covid), names_to=\"date\", values_to=\"cases\") %>% ", 
"  mutate(date=mdy(date)) %>% ", "  group_by(FIPS) %>% ", "  arrange(date) %>% ", 
"  # this is a way to create a value from the previous value (lagged)", 
"  mutate(positive = c(cases[1],diff(cases))) %>% ", "  group_by(date) %>% ", 
"  summarize(value=sum(positive, na.rm=T)) %>% ", "  mutate(type=\"Covid cases\")", 
"", "covid_long_monthly <- covid_long %>% ", "  mutate(year=year(date),", 
"         month=month(date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(value=sum(value, na.rm=T)/1000000) %>% ", "  mutate(type=\"Covid cases\") %>% ", 
"  ungroup() %>% ", "  mutate(row=row_number())", "", "monthly <- rbind(covid_long_monthly, scented_timeline_monthly2)", 
"", "monthly_wide <- monthly %>% ", "  pivot_wider(names_from=\"type\", values_from=\"value\") %>% ", 
"  filter(!is.na(`percent no smell`))"), chunk_opts = list(label = "setup", 
    include = FALSE)), setup = NULL, chunks = list(list(label = "mean_median", 
    code = "candles %>% \n  _________(avg_rating=____(Rating),\n            median_rating=_____(Rating))\n", 
    opts = list(label = "\"mean_median\"", exercise = "TRUE"), 
    engine = "r")), code_check = NULL, error_check = NULL, check = structure("grade_this_code()", chunk_opts = list(
    label = "mean_median-check")), solution = structure(c("candles %>% ", 
"  summarize(avg_rating=mean(Rating),", "            median_rating=median(Rating))"
), chunk_opts = list(label = "mean_median-solution")), tests = NULL, 
    options = list(eval = FALSE, echo = TRUE, results = "markup", 
        tidy = FALSE, tidy.opts = NULL, collapse = FALSE, prompt = FALSE, 
        comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "class_4_a_stats_cache/html/", cache.vars = NULL, 
        cache.lazy = TRUE, dependson = NULL, autodep = FALSE, 
        cache.rebuild = FALSE, fig.keep = "high", fig.show = "asis", 
        fig.align = "default", fig.path = "class_4_a_stats_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = TRUE, error = FALSE, 
        message = TRUE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ..., \n    solution_eval_fn = NULL) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "mean_median", exercise = TRUE, code = c("candles %>% ", 
        "  _________(avg_rating=____(Rating),", "            median_rating=_____(Rating))", 
        ""), out.width.px = 624, out.height.px = 384, params.src = "mean_median, exercise=TRUE", 
        fig.num = 0, exercise.df_print = "paged"), engine = "r", 
    version = "4"), class = c("r", "tutorial_exercise")))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-percent-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-percent-code-editor`)), session)
output$`tutorial-exercise-percent-output` <- renderUI({
  `tutorial-exercise-percent-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(label = "percent", global_setup = structure(c("packages <- c(\"tidyverse\", \"lubridate\", \"rvest\", \"httr\", \"remotes\",", 
"            \"vtable\", \"tidymodels\")", "if (length(setdiff(packages, rownames(installed.packages()))) > 0) {", 
"  install.packages(setdiff(packages, rownames(installed.packages())), repos = \"https://cran.us.r-project.org\")  ", 
"}", "", "#remotes::install_github(\"rstudio/gradethis\", upgrade=\"always\", quiet=TRUE)", 
"#remotes::install_github(\"rstudio/learnr\", upgrade=\"always\", quiet=TRUE)", 
"", "library(tidyverse)", "library(learnr)", "library(gradethis)", 
"library(tidymodels)", "library(vtable)", "library(lubridate)", 
"library(knitr)", "", "salaries = read_csv(\"https://www.andrewbatran.com/data/salary_data.csv\")", 
"", "salaries_adjusted1 <-  salaries %>%", "  # Age brackets", 
"  mutate(age_bin = case_when(", "    age < 25 ~ 1, #Below age 25 ", 
"    age >= 25 & age < 35 ~ 2, #Age 25-34 ", "    age >= 35 & age < 45 ~ 3, #Age 25-34 ", 
"    age >= 45 & age < 55 ~ 4, #Age 25-34 ", "    age >= 55 ~ 5, #Age 25-34 ", 
"  ))", "", "", "salaries_adjusted2 <- salaries_adjusted1 %>% ", 
"  # Total compensation", "  mutate(total_pay = basePay + bonus) %>%", 
"  # Log of compensation", "  mutate(log_base = log(basePay, base = exp(1)),", 
"         log_total = log(total_pay, base = exp(1)),", "         # Adds 1 to allow for log of 0 bonus values.", 
"         log_bonus = log(bonus + 1, base = exp(1)))", "", "salaries_adjusted3 <- salaries_adjusted2 %>%", 
"  # Make flags", "  mutate(male = case_when(", "    gender==\"Male\" ~ 1,", 
"    TRUE ~ 0", "  ))", "", "# No controls. (\"unadjusted\" pay gap.)", 
"lm_gender <- lm(log_base ~ gender, data = salaries_adjusted3)", 
"", "# Adding \"human capital\" controls (performance evals, age and education).", 
"lm_humancapital <- lm(log_base ~ gender + perfEval + age_bin + edu, data = salaries_adjusted3)", 
"", "# Adding all controls. (\"adjusted\" pay gap.)", "lm_allcontrols <- lm(log_base ~ gender + perfEval + age_bin + edu + dept + seniority + jobTitle, data = salaries_adjusted3)", 
"", "", "candles <- read_csv(\"data/scented.csv\")", "", "candles_weekly <- candles %>% ", 
"    mutate(year=year(Date)) %>% ", "    mutate(week=week(Date)) %>% ", 
"  group_by(year, week) %>% ", "  summarize(avg_rating=mean(Rating, na.rm=T))", 
"", "candles_monthly <- candles %>% ", "    mutate(year=year(Date)) %>% ", 
"    mutate(month=month(Date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(avg_rating=mean(Rating, na.rm=T))", "", "scented_timeline_monthly1 <- candles %>% ", 
"  filter(Date>ymd(\"2020-01-21\")) %>% ", "  mutate(no_scent=case_when(", 
"    str_detect(Review, \"[Nn]o scent\") ~ 1, ", "    str_detect(Review, \"[Nn]o smell\") ~ 1,", 
"    str_detect(Review, \"[Dd]oes not smell like\") ~ 1,", "    str_detect(Review, \"[Dd]oesn't smell like\") ~ 1,", 
"    str_detect(Review, \"[Cc]an't smell\") ~ 1,", "    str_detect(Review, \"[Cc]annot smell\") ~ 1,", 
"    str_detect(Review, \"[Ff]aint smell\") ~ 1,", "    str_detect(Review, \"[Ff]aint scent\") ~ 1,", 
"    str_detect(Review, \"[Dd]on't smell\") ~ 1,", "    str_detect(Review, \"[Ll]ike nothing\") ~ 1,", 
"    TRUE ~ 0", "  ))", "", "", "scented_timeline_monthly2 <- scented_timeline_monthly1 %>% ", 
"  mutate(year=year(Date),", "         month=month(Date)) %>% ", 
"  # let's aggregate around year and month", "  group_by(year, month) %>% ", 
"  # we just need to add up the 1s in no_scent and count up the total reviews with n()", 
"  summarize(no_scent=sum(no_scent), reviews=n()) %>% ", "  # and do some math", 
"  mutate(percent=no_scent/reviews*100) %>% ", "  select(year, month, value=percent) %>% ", 
"  mutate(type=\"percent no smell\") %>% ", "  ungroup() %>% ", 
"  mutate(row=row_number())", "", "boston_salaries <- read_csv(\"https://www.andrewbatran.com/data/boston.csv\") %>% ", 
"  select(DEPARTMENT_NAME, TITLE, REGULAR, OTHER, OVERTIME, DETAIL, TOTAL_GROSS, POSTAL)", 
"", "set.seed(2022)", "", "boston16 <- boston_salaries %>% ", 
"  sample_n(16)", "", "covid <- read_csv(\"https://www.andrewbatran.com/data/covid.csv\")", 
"", "covid_long <- covid %>% ", "  pivot_longer(cols=12:ncol(covid), names_to=\"date\", values_to=\"cases\") %>% ", 
"  mutate(date=mdy(date)) %>% ", "  group_by(FIPS) %>% ", "  arrange(date) %>% ", 
"  # this is a way to create a value from the previous value (lagged)", 
"  mutate(positive = c(cases[1],diff(cases))) %>% ", "  group_by(date) %>% ", 
"  summarize(value=sum(positive, na.rm=T)) %>% ", "  mutate(type=\"Covid cases\")", 
"", "covid_long_monthly <- covid_long %>% ", "  mutate(year=year(date),", 
"         month=month(date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(value=sum(value, na.rm=T)/1000000) %>% ", "  mutate(type=\"Covid cases\") %>% ", 
"  ungroup() %>% ", "  mutate(row=row_number())", "", "monthly <- rbind(covid_long_monthly, scented_timeline_monthly2)", 
"", "monthly_wide <- monthly %>% ", "  pivot_wider(names_from=\"type\", values_from=\"value\") %>% ", 
"  filter(!is.na(`percent no smell`))"), chunk_opts = list(label = "setup", 
    include = FALSE)), setup = NULL, chunks = list(list(label = "percent", 
    code = "candles %>% \n  ________(Rating) %>% \n  _________(total=___) %>% \n  mutate(percent=round(total/sum(_____)*100,1))", 
    opts = list(label = "\"percent\"", exercise = "TRUE"), engine = "r")), 
    code_check = NULL, error_check = NULL, check = structure("grade_this_code()", chunk_opts = list(
        label = "percent-check")), solution = structure(c("candles %>% ", 
    "  group_by(Rating) %>% ", "  summarize(total=n()) %>% ", 
    "  mutate(percent=round(total/sum(total)*100,1))"), chunk_opts = list(
        label = "percent-solution")), tests = NULL, options = list(
        eval = FALSE, echo = TRUE, results = "markup", tidy = FALSE, 
        tidy.opts = NULL, collapse = FALSE, prompt = FALSE, comment = NA, 
        highlight = FALSE, size = "normalsize", background = "#F7F7F7", 
        strip.white = TRUE, cache = 0, cache.path = "class_4_a_stats_cache/html/", 
        cache.vars = NULL, cache.lazy = TRUE, dependson = NULL, 
        autodep = FALSE, cache.rebuild = FALSE, fig.keep = "high", 
        fig.show = "asis", fig.align = "default", fig.path = "class_4_a_stats_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = TRUE, error = FALSE, 
        message = TRUE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ..., \n    solution_eval_fn = NULL) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "percent", exercise = TRUE, code = c("candles %>% ", 
        "  ________(Rating) %>% ", "  _________(total=___) %>% ", 
        "  mutate(percent=round(total/sum(_____)*100,1))"), out.width.px = 624, 
        out.height.px = 384, params.src = "percent, exercise=TRUE", 
        fig.num = 0, exercise.df_print = "paged"), engine = "r", 
    version = "4"), class = c("r", "tutorial_exercise")))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-percent_time_sd-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-percent_time_sd-code-editor`)), session)
output$`tutorial-exercise-percent_time_sd-output` <- renderUI({
  `tutorial-exercise-percent_time_sd-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(label = "percent_time_sd", global_setup = structure(c("packages <- c(\"tidyverse\", \"lubridate\", \"rvest\", \"httr\", \"remotes\",", 
"            \"vtable\", \"tidymodels\")", "if (length(setdiff(packages, rownames(installed.packages()))) > 0) {", 
"  install.packages(setdiff(packages, rownames(installed.packages())), repos = \"https://cran.us.r-project.org\")  ", 
"}", "", "#remotes::install_github(\"rstudio/gradethis\", upgrade=\"always\", quiet=TRUE)", 
"#remotes::install_github(\"rstudio/learnr\", upgrade=\"always\", quiet=TRUE)", 
"", "library(tidyverse)", "library(learnr)", "library(gradethis)", 
"library(tidymodels)", "library(vtable)", "library(lubridate)", 
"library(knitr)", "", "salaries = read_csv(\"https://www.andrewbatran.com/data/salary_data.csv\")", 
"", "salaries_adjusted1 <-  salaries %>%", "  # Age brackets", 
"  mutate(age_bin = case_when(", "    age < 25 ~ 1, #Below age 25 ", 
"    age >= 25 & age < 35 ~ 2, #Age 25-34 ", "    age >= 35 & age < 45 ~ 3, #Age 25-34 ", 
"    age >= 45 & age < 55 ~ 4, #Age 25-34 ", "    age >= 55 ~ 5, #Age 25-34 ", 
"  ))", "", "", "salaries_adjusted2 <- salaries_adjusted1 %>% ", 
"  # Total compensation", "  mutate(total_pay = basePay + bonus) %>%", 
"  # Log of compensation", "  mutate(log_base = log(basePay, base = exp(1)),", 
"         log_total = log(total_pay, base = exp(1)),", "         # Adds 1 to allow for log of 0 bonus values.", 
"         log_bonus = log(bonus + 1, base = exp(1)))", "", "salaries_adjusted3 <- salaries_adjusted2 %>%", 
"  # Make flags", "  mutate(male = case_when(", "    gender==\"Male\" ~ 1,", 
"    TRUE ~ 0", "  ))", "", "# No controls. (\"unadjusted\" pay gap.)", 
"lm_gender <- lm(log_base ~ gender, data = salaries_adjusted3)", 
"", "# Adding \"human capital\" controls (performance evals, age and education).", 
"lm_humancapital <- lm(log_base ~ gender + perfEval + age_bin + edu, data = salaries_adjusted3)", 
"", "# Adding all controls. (\"adjusted\" pay gap.)", "lm_allcontrols <- lm(log_base ~ gender + perfEval + age_bin + edu + dept + seniority + jobTitle, data = salaries_adjusted3)", 
"", "", "candles <- read_csv(\"data/scented.csv\")", "", "candles_weekly <- candles %>% ", 
"    mutate(year=year(Date)) %>% ", "    mutate(week=week(Date)) %>% ", 
"  group_by(year, week) %>% ", "  summarize(avg_rating=mean(Rating, na.rm=T))", 
"", "candles_monthly <- candles %>% ", "    mutate(year=year(Date)) %>% ", 
"    mutate(month=month(Date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(avg_rating=mean(Rating, na.rm=T))", "", "scented_timeline_monthly1 <- candles %>% ", 
"  filter(Date>ymd(\"2020-01-21\")) %>% ", "  mutate(no_scent=case_when(", 
"    str_detect(Review, \"[Nn]o scent\") ~ 1, ", "    str_detect(Review, \"[Nn]o smell\") ~ 1,", 
"    str_detect(Review, \"[Dd]oes not smell like\") ~ 1,", "    str_detect(Review, \"[Dd]oesn't smell like\") ~ 1,", 
"    str_detect(Review, \"[Cc]an't smell\") ~ 1,", "    str_detect(Review, \"[Cc]annot smell\") ~ 1,", 
"    str_detect(Review, \"[Ff]aint smell\") ~ 1,", "    str_detect(Review, \"[Ff]aint scent\") ~ 1,", 
"    str_detect(Review, \"[Dd]on't smell\") ~ 1,", "    str_detect(Review, \"[Ll]ike nothing\") ~ 1,", 
"    TRUE ~ 0", "  ))", "", "", "scented_timeline_monthly2 <- scented_timeline_monthly1 %>% ", 
"  mutate(year=year(Date),", "         month=month(Date)) %>% ", 
"  # let's aggregate around year and month", "  group_by(year, month) %>% ", 
"  # we just need to add up the 1s in no_scent and count up the total reviews with n()", 
"  summarize(no_scent=sum(no_scent), reviews=n()) %>% ", "  # and do some math", 
"  mutate(percent=no_scent/reviews*100) %>% ", "  select(year, month, value=percent) %>% ", 
"  mutate(type=\"percent no smell\") %>% ", "  ungroup() %>% ", 
"  mutate(row=row_number())", "", "boston_salaries <- read_csv(\"https://www.andrewbatran.com/data/boston.csv\") %>% ", 
"  select(DEPARTMENT_NAME, TITLE, REGULAR, OTHER, OVERTIME, DETAIL, TOTAL_GROSS, POSTAL)", 
"", "set.seed(2022)", "", "boston16 <- boston_salaries %>% ", 
"  sample_n(16)", "", "covid <- read_csv(\"https://www.andrewbatran.com/data/covid.csv\")", 
"", "covid_long <- covid %>% ", "  pivot_longer(cols=12:ncol(covid), names_to=\"date\", values_to=\"cases\") %>% ", 
"  mutate(date=mdy(date)) %>% ", "  group_by(FIPS) %>% ", "  arrange(date) %>% ", 
"  # this is a way to create a value from the previous value (lagged)", 
"  mutate(positive = c(cases[1],diff(cases))) %>% ", "  group_by(date) %>% ", 
"  summarize(value=sum(positive, na.rm=T)) %>% ", "  mutate(type=\"Covid cases\")", 
"", "covid_long_monthly <- covid_long %>% ", "  mutate(year=year(date),", 
"         month=month(date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(value=sum(value, na.rm=T)/1000000) %>% ", "  mutate(type=\"Covid cases\") %>% ", 
"  ungroup() %>% ", "  mutate(row=row_number())", "", "monthly <- rbind(covid_long_monthly, scented_timeline_monthly2)", 
"", "monthly_wide <- monthly %>% ", "  pivot_wider(names_from=\"type\", values_from=\"value\") %>% ", 
"  filter(!is.na(`percent no smell`))"), chunk_opts = list(label = "setup", 
    include = FALSE)), setup = NULL, chunks = list(list(label = "percent_time_sd", 
    code = "candles_monthly <- candles %>% \n    mutate(year=year(Date)) %>% \n    mutate(month=month(Date)) %>% \n  group_by(year, month) %>% \n  summarize(ratings=n(),\n            avg_rating=mean(Rating, na.rm=T),\n            sd_rating=__(Rating, na.rm=T)) %>% \n  ______() %>% \n  _______(____(sd_rating)) %>% \n  filter(year>2018) %>% \n  _____(1_10)\n\ncandles_monthly", 
    opts = list(label = "\"percent_time_sd\"", exercise = "TRUE"), 
    engine = "r")), code_check = NULL, error_check = NULL, check = structure("grade_this_code()", chunk_opts = list(
    label = "percent_time_sd-check")), solution = structure(c("candles_monthly <- candles %>% ", 
"    mutate(year=year(Date)) %>% ", "    mutate(month=month(Date)) %>% ", 
"  group_by(year, month) %>% ", "  summarize(ratings=n(),", "            avg_rating=mean(Rating, na.rm=T),", 
"            sd_rating=sd(Rating, na.rm=T)) %>% ", "  ungroup() %>% ", 
"  arrange(desc(sd_rating)) %>% ", "  filter(year>2018) %>% ", 
"  slice(1:10)", "", "candles_monthly"), chunk_opts = list(label = "percent_time_sd-solution")), 
    tests = NULL, options = list(eval = FALSE, echo = TRUE, results = "markup", 
        tidy = FALSE, tidy.opts = NULL, collapse = FALSE, prompt = FALSE, 
        comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "class_4_a_stats_cache/html/", cache.vars = NULL, 
        cache.lazy = TRUE, dependson = NULL, autodep = FALSE, 
        cache.rebuild = FALSE, fig.keep = "high", fig.show = "asis", 
        fig.align = "default", fig.path = "class_4_a_stats_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = TRUE, error = FALSE, 
        message = TRUE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ..., \n    solution_eval_fn = NULL) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "percent_time_sd", exercise = TRUE, code = c("candles_monthly <- candles %>% ", 
        "    mutate(year=year(Date)) %>% ", "    mutate(month=month(Date)) %>% ", 
        "  group_by(year, month) %>% ", "  summarize(ratings=n(),", 
        "            avg_rating=mean(Rating, na.rm=T),", "            sd_rating=__(Rating, na.rm=T)) %>% ", 
        "  ______() %>% ", "  _______(____(sd_rating)) %>% ", 
        "  filter(year>2018) %>% ", "  _____(1_10)", "", "candles_monthly"
        ), out.width.px = 624, out.height.px = 384, params.src = "percent_time_sd, exercise=TRUE", 
        fig.num = 0, exercise.df_print = "paged"), engine = "r", 
    version = "4"), class = c("r", "tutorial_exercise")))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz1-1", question = structure("Half of the 10 months with the biggest standard deviations occurred in what year?", html = TRUE, class = c("html", 
"character")), answers = list(structure(list(id = "lnr_ans_83b6dc4", 
    option = "2021", value = "2021", label = structure("2021", html = TRUE, class = c("html", 
    "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_986f4a9", 
    option = "2020", value = "2020", label = structure("2020", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_d9d53b1", 
    option = "2022", value = "2022", label = structure("2022", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_d7c4285", 
    option = "2019", value = "2019", label = structure("2019", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
"character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
"character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
"character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
"character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
"character")), message = NULL, post_message = NULL), ids = list(
    answer = "quiz1-1-answer", question = "quiz1-1"), loading = NULL, 
    random_answer_order = TRUE, allow_retry = FALSE, seed = 1224766964.92967, 
    options = list()), class = c("learnr_radio", "tutorial_question"
)), session = session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-weekly_am1-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-weekly_am1-code-editor`)), session)
output$`tutorial-exercise-weekly_am1-output` <- renderUI({
  `tutorial-exercise-weekly_am1-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(label = "weekly_am1", global_setup = structure(c("packages <- c(\"tidyverse\", \"lubridate\", \"rvest\", \"httr\", \"remotes\",", 
"            \"vtable\", \"tidymodels\")", "if (length(setdiff(packages, rownames(installed.packages()))) > 0) {", 
"  install.packages(setdiff(packages, rownames(installed.packages())), repos = \"https://cran.us.r-project.org\")  ", 
"}", "", "#remotes::install_github(\"rstudio/gradethis\", upgrade=\"always\", quiet=TRUE)", 
"#remotes::install_github(\"rstudio/learnr\", upgrade=\"always\", quiet=TRUE)", 
"", "library(tidyverse)", "library(learnr)", "library(gradethis)", 
"library(tidymodels)", "library(vtable)", "library(lubridate)", 
"library(knitr)", "", "salaries = read_csv(\"https://www.andrewbatran.com/data/salary_data.csv\")", 
"", "salaries_adjusted1 <-  salaries %>%", "  # Age brackets", 
"  mutate(age_bin = case_when(", "    age < 25 ~ 1, #Below age 25 ", 
"    age >= 25 & age < 35 ~ 2, #Age 25-34 ", "    age >= 35 & age < 45 ~ 3, #Age 25-34 ", 
"    age >= 45 & age < 55 ~ 4, #Age 25-34 ", "    age >= 55 ~ 5, #Age 25-34 ", 
"  ))", "", "", "salaries_adjusted2 <- salaries_adjusted1 %>% ", 
"  # Total compensation", "  mutate(total_pay = basePay + bonus) %>%", 
"  # Log of compensation", "  mutate(log_base = log(basePay, base = exp(1)),", 
"         log_total = log(total_pay, base = exp(1)),", "         # Adds 1 to allow for log of 0 bonus values.", 
"         log_bonus = log(bonus + 1, base = exp(1)))", "", "salaries_adjusted3 <- salaries_adjusted2 %>%", 
"  # Make flags", "  mutate(male = case_when(", "    gender==\"Male\" ~ 1,", 
"    TRUE ~ 0", "  ))", "", "# No controls. (\"unadjusted\" pay gap.)", 
"lm_gender <- lm(log_base ~ gender, data = salaries_adjusted3)", 
"", "# Adding \"human capital\" controls (performance evals, age and education).", 
"lm_humancapital <- lm(log_base ~ gender + perfEval + age_bin + edu, data = salaries_adjusted3)", 
"", "# Adding all controls. (\"adjusted\" pay gap.)", "lm_allcontrols <- lm(log_base ~ gender + perfEval + age_bin + edu + dept + seniority + jobTitle, data = salaries_adjusted3)", 
"", "", "candles <- read_csv(\"data/scented.csv\")", "", "candles_weekly <- candles %>% ", 
"    mutate(year=year(Date)) %>% ", "    mutate(week=week(Date)) %>% ", 
"  group_by(year, week) %>% ", "  summarize(avg_rating=mean(Rating, na.rm=T))", 
"", "candles_monthly <- candles %>% ", "    mutate(year=year(Date)) %>% ", 
"    mutate(month=month(Date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(avg_rating=mean(Rating, na.rm=T))", "", "scented_timeline_monthly1 <- candles %>% ", 
"  filter(Date>ymd(\"2020-01-21\")) %>% ", "  mutate(no_scent=case_when(", 
"    str_detect(Review, \"[Nn]o scent\") ~ 1, ", "    str_detect(Review, \"[Nn]o smell\") ~ 1,", 
"    str_detect(Review, \"[Dd]oes not smell like\") ~ 1,", "    str_detect(Review, \"[Dd]oesn't smell like\") ~ 1,", 
"    str_detect(Review, \"[Cc]an't smell\") ~ 1,", "    str_detect(Review, \"[Cc]annot smell\") ~ 1,", 
"    str_detect(Review, \"[Ff]aint smell\") ~ 1,", "    str_detect(Review, \"[Ff]aint scent\") ~ 1,", 
"    str_detect(Review, \"[Dd]on't smell\") ~ 1,", "    str_detect(Review, \"[Ll]ike nothing\") ~ 1,", 
"    TRUE ~ 0", "  ))", "", "", "scented_timeline_monthly2 <- scented_timeline_monthly1 %>% ", 
"  mutate(year=year(Date),", "         month=month(Date)) %>% ", 
"  # let's aggregate around year and month", "  group_by(year, month) %>% ", 
"  # we just need to add up the 1s in no_scent and count up the total reviews with n()", 
"  summarize(no_scent=sum(no_scent), reviews=n()) %>% ", "  # and do some math", 
"  mutate(percent=no_scent/reviews*100) %>% ", "  select(year, month, value=percent) %>% ", 
"  mutate(type=\"percent no smell\") %>% ", "  ungroup() %>% ", 
"  mutate(row=row_number())", "", "boston_salaries <- read_csv(\"https://www.andrewbatran.com/data/boston.csv\") %>% ", 
"  select(DEPARTMENT_NAME, TITLE, REGULAR, OTHER, OVERTIME, DETAIL, TOTAL_GROSS, POSTAL)", 
"", "set.seed(2022)", "", "boston16 <- boston_salaries %>% ", 
"  sample_n(16)", "", "covid <- read_csv(\"https://www.andrewbatran.com/data/covid.csv\")", 
"", "covid_long <- covid %>% ", "  pivot_longer(cols=12:ncol(covid), names_to=\"date\", values_to=\"cases\") %>% ", 
"  mutate(date=mdy(date)) %>% ", "  group_by(FIPS) %>% ", "  arrange(date) %>% ", 
"  # this is a way to create a value from the previous value (lagged)", 
"  mutate(positive = c(cases[1],diff(cases))) %>% ", "  group_by(date) %>% ", 
"  summarize(value=sum(positive, na.rm=T)) %>% ", "  mutate(type=\"Covid cases\")", 
"", "covid_long_monthly <- covid_long %>% ", "  mutate(year=year(date),", 
"         month=month(date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(value=sum(value, na.rm=T)/1000000) %>% ", "  mutate(type=\"Covid cases\") %>% ", 
"  ungroup() %>% ", "  mutate(row=row_number())", "", "monthly <- rbind(covid_long_monthly, scented_timeline_monthly2)", 
"", "monthly_wide <- monthly %>% ", "  pivot_wider(names_from=\"type\", values_from=\"value\") %>% ", 
"  filter(!is.na(`percent no smell`))"), chunk_opts = list(label = "setup", 
    include = FALSE)), setup = NULL, chunks = list(list(label = "weekly_am1", 
    code = "scented_timeline_monthly1 <- candles %>% \n  filter(Date>ymd(\"2020-01-21\")) %>% \n  mutate(no_scent=_________(\n    __________(Review, \"[Nn]o scent\") ~ 1, \n    __________(Review, \"[Nn]o smell\") ~ 1,\n    __________(Review, \"[Dd]oes not smell like\") ~ 1,\n    __________(Review, \"[Dd]oesn't smell like\") ~ 1,\n    __________(Review, \"[Cc]an't smell\") ~ 1,\n    __________(Review, \"[Cc]annot smell\") ~ 1,\n    __________(Review, \"[Ff]aint smell\") ~ 1,\n    __________(Review, \"[Ff]aint scent\") ~ 1,\n    __________(Review, \"[Dd]on't smell\") ~ 1,\n    __________(Review, \"[Ll]ike nothing\") ~ 1,\n    TRUE ~ _\n  ))\n\nscented_timeline_monthly1", 
    opts = list(label = "\"weekly_am1\"", exercise = "TRUE"), 
    engine = "r")), code_check = NULL, error_check = NULL, check = structure("grade_this_code()", chunk_opts = list(
    label = "weekly_am1-check")), solution = structure(c("scented_timeline_monthly1 <- candles %>% ", 
"  filter(Date>ymd(\"2020-01-21\")) %>% ", "  mutate(no_scent=case_when(", 
"    str_detect(Review, \"[Nn]o scent\") ~ 1, ", "    str_detect(Review, \"[Nn]o smell\") ~ 1,", 
"    str_detect(Review, \"[Dd]oes not smell like\") ~ 1,", "    str_detect(Review, \"[Dd]oesn't smell like\") ~ 1,", 
"    str_detect(Review, \"[Cc]an't smell\") ~ 1,", "    str_detect(Review, \"[Cc]annot smell\") ~ 1,", 
"    str_detect(Review, \"[Ff]aint smell\") ~ 1,", "    str_detect(Review, \"[Ff]aint scent\") ~ 1,", 
"    str_detect(Review, \"[Dd]on't smell\") ~ 1,", "    str_detect(Review, \"[Ll]ike nothing\") ~ 1,", 
"    TRUE ~ 0", "  ))", "", "scented_timeline_monthly1"), chunk_opts = list(
    label = "weekly_am1-solution")), tests = NULL, options = list(
    eval = FALSE, echo = TRUE, results = "markup", tidy = FALSE, 
    tidy.opts = NULL, collapse = FALSE, prompt = FALSE, comment = NA, 
    highlight = FALSE, size = "normalsize", background = "#F7F7F7", 
    strip.white = TRUE, cache = 0, cache.path = "class_4_a_stats_cache/html/", 
    cache.vars = NULL, cache.lazy = TRUE, dependson = NULL, autodep = FALSE, 
    cache.rebuild = FALSE, fig.keep = "high", fig.show = "asis", 
    fig.align = "default", fig.path = "class_4_a_stats_files/figure-html/", 
    dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
    fig.width = 6.5, fig.height = 4, fig.env = "figure", fig.cap = NULL, 
    fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, fig.pos = "", 
    out.width = 624, out.height = NULL, out.extra = NULL, fig.retina = 2, 
    external = TRUE, sanitize = FALSE, interval = 1, aniopts = "controls,loop", 
    warning = TRUE, error = FALSE, message = TRUE, render = NULL, 
    ref.label = NULL, child = NULL, engine = "r", split = FALSE, 
    include = TRUE, purl = TRUE, max.print = 1000, exercise.timelimit = 60, 
    exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ..., \n    solution_eval_fn = NULL) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
    exercise.error.check.code = "gradethis_error_checker()", 
    label = "weekly_am1", exercise = TRUE, code = c("scented_timeline_monthly1 <- candles %>% ", 
    "  filter(Date>ymd(\"2020-01-21\")) %>% ", "  mutate(no_scent=_________(", 
    "    __________(Review, \"[Nn]o scent\") ~ 1, ", "    __________(Review, \"[Nn]o smell\") ~ 1,", 
    "    __________(Review, \"[Dd]oes not smell like\") ~ 1,", 
    "    __________(Review, \"[Dd]oesn't smell like\") ~ 1,", 
    "    __________(Review, \"[Cc]an't smell\") ~ 1,", "    __________(Review, \"[Cc]annot smell\") ~ 1,", 
    "    __________(Review, \"[Ff]aint smell\") ~ 1,", "    __________(Review, \"[Ff]aint scent\") ~ 1,", 
    "    __________(Review, \"[Dd]on't smell\") ~ 1,", "    __________(Review, \"[Ll]ike nothing\") ~ 1,", 
    "    TRUE ~ _", "  ))", "", "scented_timeline_monthly1"), 
    out.width.px = 624, out.height.px = 384, params.src = "weekly_am1, exercise=TRUE", 
    fig.num = 0, exercise.df_print = "paged"), engine = "r", 
    version = "4"), class = c("r", "tutorial_exercise")))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-weekly_am2-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-weekly_am2-code-editor`)), session)
output$`tutorial-exercise-weekly_am2-output` <- renderUI({
  `tutorial-exercise-weekly_am2-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(label = "weekly_am2", global_setup = structure(c("packages <- c(\"tidyverse\", \"lubridate\", \"rvest\", \"httr\", \"remotes\",", 
"            \"vtable\", \"tidymodels\")", "if (length(setdiff(packages, rownames(installed.packages()))) > 0) {", 
"  install.packages(setdiff(packages, rownames(installed.packages())), repos = \"https://cran.us.r-project.org\")  ", 
"}", "", "#remotes::install_github(\"rstudio/gradethis\", upgrade=\"always\", quiet=TRUE)", 
"#remotes::install_github(\"rstudio/learnr\", upgrade=\"always\", quiet=TRUE)", 
"", "library(tidyverse)", "library(learnr)", "library(gradethis)", 
"library(tidymodels)", "library(vtable)", "library(lubridate)", 
"library(knitr)", "", "salaries = read_csv(\"https://www.andrewbatran.com/data/salary_data.csv\")", 
"", "salaries_adjusted1 <-  salaries %>%", "  # Age brackets", 
"  mutate(age_bin = case_when(", "    age < 25 ~ 1, #Below age 25 ", 
"    age >= 25 & age < 35 ~ 2, #Age 25-34 ", "    age >= 35 & age < 45 ~ 3, #Age 25-34 ", 
"    age >= 45 & age < 55 ~ 4, #Age 25-34 ", "    age >= 55 ~ 5, #Age 25-34 ", 
"  ))", "", "", "salaries_adjusted2 <- salaries_adjusted1 %>% ", 
"  # Total compensation", "  mutate(total_pay = basePay + bonus) %>%", 
"  # Log of compensation", "  mutate(log_base = log(basePay, base = exp(1)),", 
"         log_total = log(total_pay, base = exp(1)),", "         # Adds 1 to allow for log of 0 bonus values.", 
"         log_bonus = log(bonus + 1, base = exp(1)))", "", "salaries_adjusted3 <- salaries_adjusted2 %>%", 
"  # Make flags", "  mutate(male = case_when(", "    gender==\"Male\" ~ 1,", 
"    TRUE ~ 0", "  ))", "", "# No controls. (\"unadjusted\" pay gap.)", 
"lm_gender <- lm(log_base ~ gender, data = salaries_adjusted3)", 
"", "# Adding \"human capital\" controls (performance evals, age and education).", 
"lm_humancapital <- lm(log_base ~ gender + perfEval + age_bin + edu, data = salaries_adjusted3)", 
"", "# Adding all controls. (\"adjusted\" pay gap.)", "lm_allcontrols <- lm(log_base ~ gender + perfEval + age_bin + edu + dept + seniority + jobTitle, data = salaries_adjusted3)", 
"", "", "candles <- read_csv(\"data/scented.csv\")", "", "candles_weekly <- candles %>% ", 
"    mutate(year=year(Date)) %>% ", "    mutate(week=week(Date)) %>% ", 
"  group_by(year, week) %>% ", "  summarize(avg_rating=mean(Rating, na.rm=T))", 
"", "candles_monthly <- candles %>% ", "    mutate(year=year(Date)) %>% ", 
"    mutate(month=month(Date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(avg_rating=mean(Rating, na.rm=T))", "", "scented_timeline_monthly1 <- candles %>% ", 
"  filter(Date>ymd(\"2020-01-21\")) %>% ", "  mutate(no_scent=case_when(", 
"    str_detect(Review, \"[Nn]o scent\") ~ 1, ", "    str_detect(Review, \"[Nn]o smell\") ~ 1,", 
"    str_detect(Review, \"[Dd]oes not smell like\") ~ 1,", "    str_detect(Review, \"[Dd]oesn't smell like\") ~ 1,", 
"    str_detect(Review, \"[Cc]an't smell\") ~ 1,", "    str_detect(Review, \"[Cc]annot smell\") ~ 1,", 
"    str_detect(Review, \"[Ff]aint smell\") ~ 1,", "    str_detect(Review, \"[Ff]aint scent\") ~ 1,", 
"    str_detect(Review, \"[Dd]on't smell\") ~ 1,", "    str_detect(Review, \"[Ll]ike nothing\") ~ 1,", 
"    TRUE ~ 0", "  ))", "", "", "scented_timeline_monthly2 <- scented_timeline_monthly1 %>% ", 
"  mutate(year=year(Date),", "         month=month(Date)) %>% ", 
"  # let's aggregate around year and month", "  group_by(year, month) %>% ", 
"  # we just need to add up the 1s in no_scent and count up the total reviews with n()", 
"  summarize(no_scent=sum(no_scent), reviews=n()) %>% ", "  # and do some math", 
"  mutate(percent=no_scent/reviews*100) %>% ", "  select(year, month, value=percent) %>% ", 
"  mutate(type=\"percent no smell\") %>% ", "  ungroup() %>% ", 
"  mutate(row=row_number())", "", "boston_salaries <- read_csv(\"https://www.andrewbatran.com/data/boston.csv\") %>% ", 
"  select(DEPARTMENT_NAME, TITLE, REGULAR, OTHER, OVERTIME, DETAIL, TOTAL_GROSS, POSTAL)", 
"", "set.seed(2022)", "", "boston16 <- boston_salaries %>% ", 
"  sample_n(16)", "", "covid <- read_csv(\"https://www.andrewbatran.com/data/covid.csv\")", 
"", "covid_long <- covid %>% ", "  pivot_longer(cols=12:ncol(covid), names_to=\"date\", values_to=\"cases\") %>% ", 
"  mutate(date=mdy(date)) %>% ", "  group_by(FIPS) %>% ", "  arrange(date) %>% ", 
"  # this is a way to create a value from the previous value (lagged)", 
"  mutate(positive = c(cases[1],diff(cases))) %>% ", "  group_by(date) %>% ", 
"  summarize(value=sum(positive, na.rm=T)) %>% ", "  mutate(type=\"Covid cases\")", 
"", "covid_long_monthly <- covid_long %>% ", "  mutate(year=year(date),", 
"         month=month(date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(value=sum(value, na.rm=T)/1000000) %>% ", "  mutate(type=\"Covid cases\") %>% ", 
"  ungroup() %>% ", "  mutate(row=row_number())", "", "monthly <- rbind(covid_long_monthly, scented_timeline_monthly2)", 
"", "monthly_wide <- monthly %>% ", "  pivot_wider(names_from=\"type\", values_from=\"value\") %>% ", 
"  filter(!is.na(`percent no smell`))"), chunk_opts = list(label = "setup", 
    include = FALSE)), setup = NULL, chunks = list(list(label = "weekly_am2", 
    code = "scented_timeline_monthly2 <- scented_timeline_monthly1 %>% \n  mutate(year=year(Date),\n         month=month(Date)) %>% \n  # let's aggregate around year and month\n  group_by(____, _____) %>% \n  # we just need to add up the 1s in no_scent and count up the total reviews with n()\n  summarize(no_scent=sum(________), reviews=___) %>% \n  # and do some math\n  mutate(percent=________/_______*100) %>% \n  select(year, month, value=percent) %>% \n  mutate(type=\"percent no smell\") %>% \n  ungroup() %>% \n  mutate(row=row_number())\n\nscented_timeline_monthly2", 
    opts = list(label = "\"weekly_am2\"", exercise = "TRUE"), 
    engine = "r")), code_check = NULL, error_check = NULL, check = structure("grade_this_code()", chunk_opts = list(
    label = "weekly_am2-check")), solution = structure(c("scented_timeline_monthly2 <- scented_timeline_monthly1 %>% ", 
"  mutate(year=year(Date),", "         month=month(Date)) %>% ", 
"  # let's aggregate around year and month", "  group_by(year, month) %>% ", 
"  # we just need to add up the 1s in no_scent and count up the total reviews with n()", 
"  summarize(no_scent=sum(no_scent), reviews=n()) %>% ", "  # and do some math", 
"  mutate(percent=no_scent/reviews*100) %>% ", "  select(year, month, value=percent) %>% ", 
"  mutate(type=\"percent no smell\") %>% ", "  ungroup() %>% ", 
"  mutate(row=row_number())", "", "scented_timeline_monthly2"
), chunk_opts = list(label = "weekly_am2-solution")), tests = NULL, 
    options = list(eval = FALSE, echo = TRUE, results = "markup", 
        tidy = FALSE, tidy.opts = NULL, collapse = FALSE, prompt = FALSE, 
        comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "class_4_a_stats_cache/html/", cache.vars = NULL, 
        cache.lazy = TRUE, dependson = NULL, autodep = FALSE, 
        cache.rebuild = FALSE, fig.keep = "high", fig.show = "asis", 
        fig.align = "default", fig.path = "class_4_a_stats_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = TRUE, error = FALSE, 
        message = TRUE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ..., \n    solution_eval_fn = NULL) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "weekly_am2", exercise = TRUE, code = c("scented_timeline_monthly2 <- scented_timeline_monthly1 %>% ", 
        "  mutate(year=year(Date),", "         month=month(Date)) %>% ", 
        "  # let's aggregate around year and month", "  group_by(____, _____) %>% ", 
        "  # we just need to add up the 1s in no_scent and count up the total reviews with n()", 
        "  summarize(no_scent=sum(________), reviews=___) %>% ", 
        "  # and do some math", "  mutate(percent=________/_______*100) %>% ", 
        "  select(year, month, value=percent) %>% ", "  mutate(type=\"percent no smell\") %>% ", 
        "  ungroup() %>% ", "  mutate(row=row_number())", "", 
        "scented_timeline_monthly2"), out.width.px = 624, out.height.px = 384, 
        params.src = "weekly_am2, exercise=TRUE", fig.num = 0, 
        exercise.df_print = "paged"), engine = "r", version = "4"), class = c("r", 
"tutorial_exercise")))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-ggplot1-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-ggplot1-code-editor`)), session)
output$`tutorial-exercise-ggplot1-output` <- renderUI({
  `tutorial-exercise-ggplot1-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(label = "ggplot1", global_setup = structure(c("packages <- c(\"tidyverse\", \"lubridate\", \"rvest\", \"httr\", \"remotes\",", 
"            \"vtable\", \"tidymodels\")", "if (length(setdiff(packages, rownames(installed.packages()))) > 0) {", 
"  install.packages(setdiff(packages, rownames(installed.packages())), repos = \"https://cran.us.r-project.org\")  ", 
"}", "", "#remotes::install_github(\"rstudio/gradethis\", upgrade=\"always\", quiet=TRUE)", 
"#remotes::install_github(\"rstudio/learnr\", upgrade=\"always\", quiet=TRUE)", 
"", "library(tidyverse)", "library(learnr)", "library(gradethis)", 
"library(tidymodels)", "library(vtable)", "library(lubridate)", 
"library(knitr)", "", "salaries = read_csv(\"https://www.andrewbatran.com/data/salary_data.csv\")", 
"", "salaries_adjusted1 <-  salaries %>%", "  # Age brackets", 
"  mutate(age_bin = case_when(", "    age < 25 ~ 1, #Below age 25 ", 
"    age >= 25 & age < 35 ~ 2, #Age 25-34 ", "    age >= 35 & age < 45 ~ 3, #Age 25-34 ", 
"    age >= 45 & age < 55 ~ 4, #Age 25-34 ", "    age >= 55 ~ 5, #Age 25-34 ", 
"  ))", "", "", "salaries_adjusted2 <- salaries_adjusted1 %>% ", 
"  # Total compensation", "  mutate(total_pay = basePay + bonus) %>%", 
"  # Log of compensation", "  mutate(log_base = log(basePay, base = exp(1)),", 
"         log_total = log(total_pay, base = exp(1)),", "         # Adds 1 to allow for log of 0 bonus values.", 
"         log_bonus = log(bonus + 1, base = exp(1)))", "", "salaries_adjusted3 <- salaries_adjusted2 %>%", 
"  # Make flags", "  mutate(male = case_when(", "    gender==\"Male\" ~ 1,", 
"    TRUE ~ 0", "  ))", "", "# No controls. (\"unadjusted\" pay gap.)", 
"lm_gender <- lm(log_base ~ gender, data = salaries_adjusted3)", 
"", "# Adding \"human capital\" controls (performance evals, age and education).", 
"lm_humancapital <- lm(log_base ~ gender + perfEval + age_bin + edu, data = salaries_adjusted3)", 
"", "# Adding all controls. (\"adjusted\" pay gap.)", "lm_allcontrols <- lm(log_base ~ gender + perfEval + age_bin + edu + dept + seniority + jobTitle, data = salaries_adjusted3)", 
"", "", "candles <- read_csv(\"data/scented.csv\")", "", "candles_weekly <- candles %>% ", 
"    mutate(year=year(Date)) %>% ", "    mutate(week=week(Date)) %>% ", 
"  group_by(year, week) %>% ", "  summarize(avg_rating=mean(Rating, na.rm=T))", 
"", "candles_monthly <- candles %>% ", "    mutate(year=year(Date)) %>% ", 
"    mutate(month=month(Date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(avg_rating=mean(Rating, na.rm=T))", "", "scented_timeline_monthly1 <- candles %>% ", 
"  filter(Date>ymd(\"2020-01-21\")) %>% ", "  mutate(no_scent=case_when(", 
"    str_detect(Review, \"[Nn]o scent\") ~ 1, ", "    str_detect(Review, \"[Nn]o smell\") ~ 1,", 
"    str_detect(Review, \"[Dd]oes not smell like\") ~ 1,", "    str_detect(Review, \"[Dd]oesn't smell like\") ~ 1,", 
"    str_detect(Review, \"[Cc]an't smell\") ~ 1,", "    str_detect(Review, \"[Cc]annot smell\") ~ 1,", 
"    str_detect(Review, \"[Ff]aint smell\") ~ 1,", "    str_detect(Review, \"[Ff]aint scent\") ~ 1,", 
"    str_detect(Review, \"[Dd]on't smell\") ~ 1,", "    str_detect(Review, \"[Ll]ike nothing\") ~ 1,", 
"    TRUE ~ 0", "  ))", "", "", "scented_timeline_monthly2 <- scented_timeline_monthly1 %>% ", 
"  mutate(year=year(Date),", "         month=month(Date)) %>% ", 
"  # let's aggregate around year and month", "  group_by(year, month) %>% ", 
"  # we just need to add up the 1s in no_scent and count up the total reviews with n()", 
"  summarize(no_scent=sum(no_scent), reviews=n()) %>% ", "  # and do some math", 
"  mutate(percent=no_scent/reviews*100) %>% ", "  select(year, month, value=percent) %>% ", 
"  mutate(type=\"percent no smell\") %>% ", "  ungroup() %>% ", 
"  mutate(row=row_number())", "", "boston_salaries <- read_csv(\"https://www.andrewbatran.com/data/boston.csv\") %>% ", 
"  select(DEPARTMENT_NAME, TITLE, REGULAR, OTHER, OVERTIME, DETAIL, TOTAL_GROSS, POSTAL)", 
"", "set.seed(2022)", "", "boston16 <- boston_salaries %>% ", 
"  sample_n(16)", "", "covid <- read_csv(\"https://www.andrewbatran.com/data/covid.csv\")", 
"", "covid_long <- covid %>% ", "  pivot_longer(cols=12:ncol(covid), names_to=\"date\", values_to=\"cases\") %>% ", 
"  mutate(date=mdy(date)) %>% ", "  group_by(FIPS) %>% ", "  arrange(date) %>% ", 
"  # this is a way to create a value from the previous value (lagged)", 
"  mutate(positive = c(cases[1],diff(cases))) %>% ", "  group_by(date) %>% ", 
"  summarize(value=sum(positive, na.rm=T)) %>% ", "  mutate(type=\"Covid cases\")", 
"", "covid_long_monthly <- covid_long %>% ", "  mutate(year=year(date),", 
"         month=month(date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(value=sum(value, na.rm=T)/1000000) %>% ", "  mutate(type=\"Covid cases\") %>% ", 
"  ungroup() %>% ", "  mutate(row=row_number())", "", "monthly <- rbind(covid_long_monthly, scented_timeline_monthly2)", 
"", "monthly_wide <- monthly %>% ", "  pivot_wider(names_from=\"type\", values_from=\"value\") %>% ", 
"  filter(!is.na(`percent no smell`))"), chunk_opts = list(label = "setup", 
    include = FALSE)), setup = NULL, chunks = list(list(label = "ggplot1", 
    code = "ggplot(__________________________, aes(x=row, y=value)) +\n      _________() +\n      theme_minimal() +\n  labs(title=\"Percent of Yankee Candle reviews mentioning no smell\",\n       y=\"Percent\", x=\"\")", 
    opts = list(label = "\"ggplot1\"", exercise = "TRUE"), engine = "r")), 
    code_check = NULL, error_check = NULL, check = structure("grade_this_code()", chunk_opts = list(
        label = "ggplot1-check")), solution = structure(c("ggplot(scented_timeline_monthly2, aes(x=row, y=value)) +", 
    "      geom_line() +", "      theme_minimal() +", "  labs(title=\"Percent of Yankee Candle reviews mentioning no smell\",", 
    "       y=\"Percent\", x=\"\")"), chunk_opts = list(label = "ggplot1-solution")), 
    tests = NULL, options = list(eval = FALSE, echo = TRUE, results = "markup", 
        tidy = FALSE, tidy.opts = NULL, collapse = FALSE, prompt = FALSE, 
        comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "class_4_a_stats_cache/html/", cache.vars = NULL, 
        cache.lazy = TRUE, dependson = NULL, autodep = FALSE, 
        cache.rebuild = FALSE, fig.keep = "high", fig.show = "asis", 
        fig.align = "default", fig.path = "class_4_a_stats_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = TRUE, error = FALSE, 
        message = TRUE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ..., \n    solution_eval_fn = NULL) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "ggplot1", exercise = TRUE, code = c("ggplot(__________________________, aes(x=row, y=value)) +", 
        "      _________() +", "      theme_minimal() +", "  labs(title=\"Percent of Yankee Candle reviews mentioning no smell\",", 
        "       y=\"Percent\", x=\"\")"), out.width.px = 624, 
        out.height.px = 384, params.src = "ggplot1, exercise=TRUE", 
        fig.num = 0, exercise.df_print = "paged"), engine = "r", 
    version = "4"), class = c("r", "tutorial_exercise")))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-ggplot1t-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-ggplot1t-code-editor`)), session)
output$`tutorial-exercise-ggplot1t-output` <- renderUI({
  `tutorial-exercise-ggplot1t-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(label = "ggplot1t", global_setup = structure(c("packages <- c(\"tidyverse\", \"lubridate\", \"rvest\", \"httr\", \"remotes\",", 
"            \"vtable\", \"tidymodels\")", "if (length(setdiff(packages, rownames(installed.packages()))) > 0) {", 
"  install.packages(setdiff(packages, rownames(installed.packages())), repos = \"https://cran.us.r-project.org\")  ", 
"}", "", "#remotes::install_github(\"rstudio/gradethis\", upgrade=\"always\", quiet=TRUE)", 
"#remotes::install_github(\"rstudio/learnr\", upgrade=\"always\", quiet=TRUE)", 
"", "library(tidyverse)", "library(learnr)", "library(gradethis)", 
"library(tidymodels)", "library(vtable)", "library(lubridate)", 
"library(knitr)", "", "salaries = read_csv(\"https://www.andrewbatran.com/data/salary_data.csv\")", 
"", "salaries_adjusted1 <-  salaries %>%", "  # Age brackets", 
"  mutate(age_bin = case_when(", "    age < 25 ~ 1, #Below age 25 ", 
"    age >= 25 & age < 35 ~ 2, #Age 25-34 ", "    age >= 35 & age < 45 ~ 3, #Age 25-34 ", 
"    age >= 45 & age < 55 ~ 4, #Age 25-34 ", "    age >= 55 ~ 5, #Age 25-34 ", 
"  ))", "", "", "salaries_adjusted2 <- salaries_adjusted1 %>% ", 
"  # Total compensation", "  mutate(total_pay = basePay + bonus) %>%", 
"  # Log of compensation", "  mutate(log_base = log(basePay, base = exp(1)),", 
"         log_total = log(total_pay, base = exp(1)),", "         # Adds 1 to allow for log of 0 bonus values.", 
"         log_bonus = log(bonus + 1, base = exp(1)))", "", "salaries_adjusted3 <- salaries_adjusted2 %>%", 
"  # Make flags", "  mutate(male = case_when(", "    gender==\"Male\" ~ 1,", 
"    TRUE ~ 0", "  ))", "", "# No controls. (\"unadjusted\" pay gap.)", 
"lm_gender <- lm(log_base ~ gender, data = salaries_adjusted3)", 
"", "# Adding \"human capital\" controls (performance evals, age and education).", 
"lm_humancapital <- lm(log_base ~ gender + perfEval + age_bin + edu, data = salaries_adjusted3)", 
"", "# Adding all controls. (\"adjusted\" pay gap.)", "lm_allcontrols <- lm(log_base ~ gender + perfEval + age_bin + edu + dept + seniority + jobTitle, data = salaries_adjusted3)", 
"", "", "candles <- read_csv(\"data/scented.csv\")", "", "candles_weekly <- candles %>% ", 
"    mutate(year=year(Date)) %>% ", "    mutate(week=week(Date)) %>% ", 
"  group_by(year, week) %>% ", "  summarize(avg_rating=mean(Rating, na.rm=T))", 
"", "candles_monthly <- candles %>% ", "    mutate(year=year(Date)) %>% ", 
"    mutate(month=month(Date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(avg_rating=mean(Rating, na.rm=T))", "", "scented_timeline_monthly1 <- candles %>% ", 
"  filter(Date>ymd(\"2020-01-21\")) %>% ", "  mutate(no_scent=case_when(", 
"    str_detect(Review, \"[Nn]o scent\") ~ 1, ", "    str_detect(Review, \"[Nn]o smell\") ~ 1,", 
"    str_detect(Review, \"[Dd]oes not smell like\") ~ 1,", "    str_detect(Review, \"[Dd]oesn't smell like\") ~ 1,", 
"    str_detect(Review, \"[Cc]an't smell\") ~ 1,", "    str_detect(Review, \"[Cc]annot smell\") ~ 1,", 
"    str_detect(Review, \"[Ff]aint smell\") ~ 1,", "    str_detect(Review, \"[Ff]aint scent\") ~ 1,", 
"    str_detect(Review, \"[Dd]on't smell\") ~ 1,", "    str_detect(Review, \"[Ll]ike nothing\") ~ 1,", 
"    TRUE ~ 0", "  ))", "", "", "scented_timeline_monthly2 <- scented_timeline_monthly1 %>% ", 
"  mutate(year=year(Date),", "         month=month(Date)) %>% ", 
"  # let's aggregate around year and month", "  group_by(year, month) %>% ", 
"  # we just need to add up the 1s in no_scent and count up the total reviews with n()", 
"  summarize(no_scent=sum(no_scent), reviews=n()) %>% ", "  # and do some math", 
"  mutate(percent=no_scent/reviews*100) %>% ", "  select(year, month, value=percent) %>% ", 
"  mutate(type=\"percent no smell\") %>% ", "  ungroup() %>% ", 
"  mutate(row=row_number())", "", "boston_salaries <- read_csv(\"https://www.andrewbatran.com/data/boston.csv\") %>% ", 
"  select(DEPARTMENT_NAME, TITLE, REGULAR, OTHER, OVERTIME, DETAIL, TOTAL_GROSS, POSTAL)", 
"", "set.seed(2022)", "", "boston16 <- boston_salaries %>% ", 
"  sample_n(16)", "", "covid <- read_csv(\"https://www.andrewbatran.com/data/covid.csv\")", 
"", "covid_long <- covid %>% ", "  pivot_longer(cols=12:ncol(covid), names_to=\"date\", values_to=\"cases\") %>% ", 
"  mutate(date=mdy(date)) %>% ", "  group_by(FIPS) %>% ", "  arrange(date) %>% ", 
"  # this is a way to create a value from the previous value (lagged)", 
"  mutate(positive = c(cases[1],diff(cases))) %>% ", "  group_by(date) %>% ", 
"  summarize(value=sum(positive, na.rm=T)) %>% ", "  mutate(type=\"Covid cases\")", 
"", "covid_long_monthly <- covid_long %>% ", "  mutate(year=year(date),", 
"         month=month(date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(value=sum(value, na.rm=T)/1000000) %>% ", "  mutate(type=\"Covid cases\") %>% ", 
"  ungroup() %>% ", "  mutate(row=row_number())", "", "monthly <- rbind(covid_long_monthly, scented_timeline_monthly2)", 
"", "monthly_wide <- monthly %>% ", "  pivot_wider(names_from=\"type\", values_from=\"value\") %>% ", 
"  filter(!is.na(`percent no smell`))"), chunk_opts = list(label = "setup", 
    include = FALSE)), setup = NULL, chunks = list(list(label = "ggplot1t", 
    code = "ggplot(__________________________, aes(x=row, y=value)) +\n      _________() +\n  ___________() +\n  theme_minimal() +\n  labs(title=\"Percent of Yankee Candle reviews mentioning no smell\",\n       y=\"Percent\", x=\"\")", 
    opts = list(label = "\"ggplot1t\"", exercise = "TRUE"), engine = "r")), 
    code_check = NULL, error_check = NULL, check = structure("grade_this_code()", chunk_opts = list(
        label = "ggplot1t-check")), solution = structure(c("ggplot(scented_timeline_monthly2, aes(x=row, y=value)) +", 
    "      geom_line() +", "    geom_smooth() +", "      theme_minimal() +", 
    "  labs(title=\"Percent of Yankee Candle reviews mentioning no smell\",", 
    "       y=\"Percent\", x=\"\")"), chunk_opts = list(label = "ggplot1t-solution")), 
    tests = NULL, options = list(eval = FALSE, echo = TRUE, results = "markup", 
        tidy = FALSE, tidy.opts = NULL, collapse = FALSE, prompt = FALSE, 
        comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "class_4_a_stats_cache/html/", cache.vars = NULL, 
        cache.lazy = TRUE, dependson = NULL, autodep = FALSE, 
        cache.rebuild = FALSE, fig.keep = "high", fig.show = "asis", 
        fig.align = "default", fig.path = "class_4_a_stats_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = TRUE, error = FALSE, 
        message = TRUE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ..., \n    solution_eval_fn = NULL) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "ggplot1t", exercise = TRUE, code = c("ggplot(__________________________, aes(x=row, y=value)) +", 
        "      _________() +", "  ___________() +", "  theme_minimal() +", 
        "  labs(title=\"Percent of Yankee Candle reviews mentioning no smell\",", 
        "       y=\"Percent\", x=\"\")"), out.width.px = 624, 
        out.height.px = 384, params.src = "ggplot1t, exercise=TRUE", 
        fig.num = 0, exercise.df_print = "paged"), engine = "r", 
    version = "4"), class = c("r", "tutorial_exercise")))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-covid-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-covid-code-editor`)), session)
output$`tutorial-exercise-covid-output` <- renderUI({
  `tutorial-exercise-covid-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(label = "covid", global_setup = structure(c("packages <- c(\"tidyverse\", \"lubridate\", \"rvest\", \"httr\", \"remotes\",", 
"            \"vtable\", \"tidymodels\")", "if (length(setdiff(packages, rownames(installed.packages()))) > 0) {", 
"  install.packages(setdiff(packages, rownames(installed.packages())), repos = \"https://cran.us.r-project.org\")  ", 
"}", "", "#remotes::install_github(\"rstudio/gradethis\", upgrade=\"always\", quiet=TRUE)", 
"#remotes::install_github(\"rstudio/learnr\", upgrade=\"always\", quiet=TRUE)", 
"", "library(tidyverse)", "library(learnr)", "library(gradethis)", 
"library(tidymodels)", "library(vtable)", "library(lubridate)", 
"library(knitr)", "", "salaries = read_csv(\"https://www.andrewbatran.com/data/salary_data.csv\")", 
"", "salaries_adjusted1 <-  salaries %>%", "  # Age brackets", 
"  mutate(age_bin = case_when(", "    age < 25 ~ 1, #Below age 25 ", 
"    age >= 25 & age < 35 ~ 2, #Age 25-34 ", "    age >= 35 & age < 45 ~ 3, #Age 25-34 ", 
"    age >= 45 & age < 55 ~ 4, #Age 25-34 ", "    age >= 55 ~ 5, #Age 25-34 ", 
"  ))", "", "", "salaries_adjusted2 <- salaries_adjusted1 %>% ", 
"  # Total compensation", "  mutate(total_pay = basePay + bonus) %>%", 
"  # Log of compensation", "  mutate(log_base = log(basePay, base = exp(1)),", 
"         log_total = log(total_pay, base = exp(1)),", "         # Adds 1 to allow for log of 0 bonus values.", 
"         log_bonus = log(bonus + 1, base = exp(1)))", "", "salaries_adjusted3 <- salaries_adjusted2 %>%", 
"  # Make flags", "  mutate(male = case_when(", "    gender==\"Male\" ~ 1,", 
"    TRUE ~ 0", "  ))", "", "# No controls. (\"unadjusted\" pay gap.)", 
"lm_gender <- lm(log_base ~ gender, data = salaries_adjusted3)", 
"", "# Adding \"human capital\" controls (performance evals, age and education).", 
"lm_humancapital <- lm(log_base ~ gender + perfEval + age_bin + edu, data = salaries_adjusted3)", 
"", "# Adding all controls. (\"adjusted\" pay gap.)", "lm_allcontrols <- lm(log_base ~ gender + perfEval + age_bin + edu + dept + seniority + jobTitle, data = salaries_adjusted3)", 
"", "", "candles <- read_csv(\"data/scented.csv\")", "", "candles_weekly <- candles %>% ", 
"    mutate(year=year(Date)) %>% ", "    mutate(week=week(Date)) %>% ", 
"  group_by(year, week) %>% ", "  summarize(avg_rating=mean(Rating, na.rm=T))", 
"", "candles_monthly <- candles %>% ", "    mutate(year=year(Date)) %>% ", 
"    mutate(month=month(Date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(avg_rating=mean(Rating, na.rm=T))", "", "scented_timeline_monthly1 <- candles %>% ", 
"  filter(Date>ymd(\"2020-01-21\")) %>% ", "  mutate(no_scent=case_when(", 
"    str_detect(Review, \"[Nn]o scent\") ~ 1, ", "    str_detect(Review, \"[Nn]o smell\") ~ 1,", 
"    str_detect(Review, \"[Dd]oes not smell like\") ~ 1,", "    str_detect(Review, \"[Dd]oesn't smell like\") ~ 1,", 
"    str_detect(Review, \"[Cc]an't smell\") ~ 1,", "    str_detect(Review, \"[Cc]annot smell\") ~ 1,", 
"    str_detect(Review, \"[Ff]aint smell\") ~ 1,", "    str_detect(Review, \"[Ff]aint scent\") ~ 1,", 
"    str_detect(Review, \"[Dd]on't smell\") ~ 1,", "    str_detect(Review, \"[Ll]ike nothing\") ~ 1,", 
"    TRUE ~ 0", "  ))", "", "", "scented_timeline_monthly2 <- scented_timeline_monthly1 %>% ", 
"  mutate(year=year(Date),", "         month=month(Date)) %>% ", 
"  # let's aggregate around year and month", "  group_by(year, month) %>% ", 
"  # we just need to add up the 1s in no_scent and count up the total reviews with n()", 
"  summarize(no_scent=sum(no_scent), reviews=n()) %>% ", "  # and do some math", 
"  mutate(percent=no_scent/reviews*100) %>% ", "  select(year, month, value=percent) %>% ", 
"  mutate(type=\"percent no smell\") %>% ", "  ungroup() %>% ", 
"  mutate(row=row_number())", "", "boston_salaries <- read_csv(\"https://www.andrewbatran.com/data/boston.csv\") %>% ", 
"  select(DEPARTMENT_NAME, TITLE, REGULAR, OTHER, OVERTIME, DETAIL, TOTAL_GROSS, POSTAL)", 
"", "set.seed(2022)", "", "boston16 <- boston_salaries %>% ", 
"  sample_n(16)", "", "covid <- read_csv(\"https://www.andrewbatran.com/data/covid.csv\")", 
"", "covid_long <- covid %>% ", "  pivot_longer(cols=12:ncol(covid), names_to=\"date\", values_to=\"cases\") %>% ", 
"  mutate(date=mdy(date)) %>% ", "  group_by(FIPS) %>% ", "  arrange(date) %>% ", 
"  # this is a way to create a value from the previous value (lagged)", 
"  mutate(positive = c(cases[1],diff(cases))) %>% ", "  group_by(date) %>% ", 
"  summarize(value=sum(positive, na.rm=T)) %>% ", "  mutate(type=\"Covid cases\")", 
"", "covid_long_monthly <- covid_long %>% ", "  mutate(year=year(date),", 
"         month=month(date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(value=sum(value, na.rm=T)/1000000) %>% ", "  mutate(type=\"Covid cases\") %>% ", 
"  ungroup() %>% ", "  mutate(row=row_number())", "", "monthly <- rbind(covid_long_monthly, scented_timeline_monthly2)", 
"", "monthly_wide <- monthly %>% ", "  pivot_wider(names_from=\"type\", values_from=\"value\") %>% ", 
"  filter(!is.na(`percent no smell`))"), chunk_opts = list(label = "setup", 
    include = FALSE)), setup = NULL, chunks = list(list(label = "covid", 
    code = "covid <- read_csv(\"https://github.com/CSSEGISandData/COVID-19/raw/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_US.csv\")\n\ncovid_long <- covid %>% \n  ____________(cols=12:ncol(covid), names_to=\"date\", values_to=\"cases\") %>% \n  mutate(date=mdy(date)) %>% \n  group_by(FIPS) %>% \n  arrange(date) %>% \n  # this is a way to create a value from the previous value (lagged)\n  mutate(positive = c(cases[1],diff(cases))) %>% \n  group_by(date) %>% \n  summarize(value=sum(positive, na.rm=T)) %>% \n  mutate(type=\"Covid cases\")\n\ncovid_long", 
    opts = list(label = "\"covid\"", warning = "F", message = "F", 
        exercise = "TRUE"), engine = "r")), code_check = NULL, 
    error_check = NULL, check = structure("grade_this_code()", chunk_opts = list(
        label = "covid-check")), solution = structure(c("covid <- read_csv(\"https://github.com/CSSEGISandData/COVID-19/raw/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_US.csv\")", 
    "", "covid_long <- covid %>% ", "  pivot_longer(cols=12:ncol(covid), names_to=\"date\", values_to=\"cases\") %>% ", 
    "  mutate(date=mdy(date)) %>% ", "  group_by(FIPS) %>% ", 
    "  arrange(date) %>% ", "  # this is a way to create a value from the previous value (lagged)", 
    "  mutate(positive = c(cases[1],diff(cases))) %>% ", "  group_by(date) %>% ", 
    "  summarize(value=sum(positive, na.rm=T)) %>% ", "  mutate(type=\"Covid cases\")", 
    "", "covid_long"), chunk_opts = list(label = "covid-solution")), 
    tests = NULL, options = list(eval = FALSE, echo = TRUE, results = "markup", 
        tidy = FALSE, tidy.opts = NULL, collapse = FALSE, prompt = FALSE, 
        comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "class_4_a_stats_cache/html/", cache.vars = NULL, 
        cache.lazy = TRUE, dependson = NULL, autodep = FALSE, 
        cache.rebuild = FALSE, fig.keep = "high", fig.show = "asis", 
        fig.align = "default", fig.path = "class_4_a_stats_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = FALSE, error = FALSE, 
        message = FALSE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ..., \n    solution_eval_fn = NULL) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "covid", exercise = TRUE, code = c("covid <- read_csv(\"https://github.com/CSSEGISandData/COVID-19/raw/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_US.csv\")", 
        "", "covid_long <- covid %>% ", "  ____________(cols=12:ncol(covid), names_to=\"date\", values_to=\"cases\") %>% ", 
        "  mutate(date=mdy(date)) %>% ", "  group_by(FIPS) %>% ", 
        "  arrange(date) %>% ", "  # this is a way to create a value from the previous value (lagged)", 
        "  mutate(positive = c(cases[1],diff(cases))) %>% ", 
        "  group_by(date) %>% ", "  summarize(value=sum(positive, na.rm=T)) %>% ", 
        "  mutate(type=\"Covid cases\")", "", "covid_long"), 
        out.width.px = 624, out.height.px = 384, params.src = "covid, warning=F, message=F, exercise=TRUE", 
        fig.num = 0, exercise.df_print = "paged"), engine = "r", 
    version = "4"), class = c("r", "tutorial_exercise")))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-covid_stack-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-covid_stack-code-editor`)), session)
output$`tutorial-exercise-covid_stack-output` <- renderUI({
  `tutorial-exercise-covid_stack-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(label = "covid_stack", global_setup = structure(c("packages <- c(\"tidyverse\", \"lubridate\", \"rvest\", \"httr\", \"remotes\",", 
"            \"vtable\", \"tidymodels\")", "if (length(setdiff(packages, rownames(installed.packages()))) > 0) {", 
"  install.packages(setdiff(packages, rownames(installed.packages())), repos = \"https://cran.us.r-project.org\")  ", 
"}", "", "#remotes::install_github(\"rstudio/gradethis\", upgrade=\"always\", quiet=TRUE)", 
"#remotes::install_github(\"rstudio/learnr\", upgrade=\"always\", quiet=TRUE)", 
"", "library(tidyverse)", "library(learnr)", "library(gradethis)", 
"library(tidymodels)", "library(vtable)", "library(lubridate)", 
"library(knitr)", "", "salaries = read_csv(\"https://www.andrewbatran.com/data/salary_data.csv\")", 
"", "salaries_adjusted1 <-  salaries %>%", "  # Age brackets", 
"  mutate(age_bin = case_when(", "    age < 25 ~ 1, #Below age 25 ", 
"    age >= 25 & age < 35 ~ 2, #Age 25-34 ", "    age >= 35 & age < 45 ~ 3, #Age 25-34 ", 
"    age >= 45 & age < 55 ~ 4, #Age 25-34 ", "    age >= 55 ~ 5, #Age 25-34 ", 
"  ))", "", "", "salaries_adjusted2 <- salaries_adjusted1 %>% ", 
"  # Total compensation", "  mutate(total_pay = basePay + bonus) %>%", 
"  # Log of compensation", "  mutate(log_base = log(basePay, base = exp(1)),", 
"         log_total = log(total_pay, base = exp(1)),", "         # Adds 1 to allow for log of 0 bonus values.", 
"         log_bonus = log(bonus + 1, base = exp(1)))", "", "salaries_adjusted3 <- salaries_adjusted2 %>%", 
"  # Make flags", "  mutate(male = case_when(", "    gender==\"Male\" ~ 1,", 
"    TRUE ~ 0", "  ))", "", "# No controls. (\"unadjusted\" pay gap.)", 
"lm_gender <- lm(log_base ~ gender, data = salaries_adjusted3)", 
"", "# Adding \"human capital\" controls (performance evals, age and education).", 
"lm_humancapital <- lm(log_base ~ gender + perfEval + age_bin + edu, data = salaries_adjusted3)", 
"", "# Adding all controls. (\"adjusted\" pay gap.)", "lm_allcontrols <- lm(log_base ~ gender + perfEval + age_bin + edu + dept + seniority + jobTitle, data = salaries_adjusted3)", 
"", "", "candles <- read_csv(\"data/scented.csv\")", "", "candles_weekly <- candles %>% ", 
"    mutate(year=year(Date)) %>% ", "    mutate(week=week(Date)) %>% ", 
"  group_by(year, week) %>% ", "  summarize(avg_rating=mean(Rating, na.rm=T))", 
"", "candles_monthly <- candles %>% ", "    mutate(year=year(Date)) %>% ", 
"    mutate(month=month(Date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(avg_rating=mean(Rating, na.rm=T))", "", "scented_timeline_monthly1 <- candles %>% ", 
"  filter(Date>ymd(\"2020-01-21\")) %>% ", "  mutate(no_scent=case_when(", 
"    str_detect(Review, \"[Nn]o scent\") ~ 1, ", "    str_detect(Review, \"[Nn]o smell\") ~ 1,", 
"    str_detect(Review, \"[Dd]oes not smell like\") ~ 1,", "    str_detect(Review, \"[Dd]oesn't smell like\") ~ 1,", 
"    str_detect(Review, \"[Cc]an't smell\") ~ 1,", "    str_detect(Review, \"[Cc]annot smell\") ~ 1,", 
"    str_detect(Review, \"[Ff]aint smell\") ~ 1,", "    str_detect(Review, \"[Ff]aint scent\") ~ 1,", 
"    str_detect(Review, \"[Dd]on't smell\") ~ 1,", "    str_detect(Review, \"[Ll]ike nothing\") ~ 1,", 
"    TRUE ~ 0", "  ))", "", "", "scented_timeline_monthly2 <- scented_timeline_monthly1 %>% ", 
"  mutate(year=year(Date),", "         month=month(Date)) %>% ", 
"  # let's aggregate around year and month", "  group_by(year, month) %>% ", 
"  # we just need to add up the 1s in no_scent and count up the total reviews with n()", 
"  summarize(no_scent=sum(no_scent), reviews=n()) %>% ", "  # and do some math", 
"  mutate(percent=no_scent/reviews*100) %>% ", "  select(year, month, value=percent) %>% ", 
"  mutate(type=\"percent no smell\") %>% ", "  ungroup() %>% ", 
"  mutate(row=row_number())", "", "boston_salaries <- read_csv(\"https://www.andrewbatran.com/data/boston.csv\") %>% ", 
"  select(DEPARTMENT_NAME, TITLE, REGULAR, OTHER, OVERTIME, DETAIL, TOTAL_GROSS, POSTAL)", 
"", "set.seed(2022)", "", "boston16 <- boston_salaries %>% ", 
"  sample_n(16)", "", "covid <- read_csv(\"https://www.andrewbatran.com/data/covid.csv\")", 
"", "covid_long <- covid %>% ", "  pivot_longer(cols=12:ncol(covid), names_to=\"date\", values_to=\"cases\") %>% ", 
"  mutate(date=mdy(date)) %>% ", "  group_by(FIPS) %>% ", "  arrange(date) %>% ", 
"  # this is a way to create a value from the previous value (lagged)", 
"  mutate(positive = c(cases[1],diff(cases))) %>% ", "  group_by(date) %>% ", 
"  summarize(value=sum(positive, na.rm=T)) %>% ", "  mutate(type=\"Covid cases\")", 
"", "covid_long_monthly <- covid_long %>% ", "  mutate(year=year(date),", 
"         month=month(date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(value=sum(value, na.rm=T)/1000000) %>% ", "  mutate(type=\"Covid cases\") %>% ", 
"  ungroup() %>% ", "  mutate(row=row_number())", "", "monthly <- rbind(covid_long_monthly, scented_timeline_monthly2)", 
"", "monthly_wide <- monthly %>% ", "  pivot_wider(names_from=\"type\", values_from=\"value\") %>% ", 
"  filter(!is.na(`percent no smell`))"), chunk_opts = list(label = "setup", 
    include = FALSE)), setup = NULL, chunks = list(list(label = "covid_stack", 
    code = "# This only works because we were careful to make sure the column names match\n# from the different data sets\n\nmonthly <- _____(covid_long_monthly, scented_timeline_monthly2)\n\nmonthly %>% \n  ggplot(aes(x=row, y=value)) +\n  geom_line() +\n  __________(vars(type), scale=\"free_y\") +\n  geom_smooth()", 
    opts = list(label = "\"covid_stack\"", exercise = "TRUE"), 
    engine = "r")), code_check = NULL, error_check = NULL, check = structure("grade_this_code()", chunk_opts = list(
    label = "covid_stack-check")), solution = structure(c("# This only works because we were careful to make sure the column names match", 
"# from the different data sets", "monthly <- rbind(covid_long_monthly, scented_timeline_monthly2)", 
"", "monthly %>% ", "  ggplot(aes(x=row, y=value)) +", "  geom_line() +", 
"  facet_wrap(vars(type), scale=\"free_y\") +", "  geom_smooth()"
), chunk_opts = list(label = "covid_stack-solution")), tests = NULL, 
    options = list(eval = FALSE, echo = TRUE, results = "markup", 
        tidy = FALSE, tidy.opts = NULL, collapse = FALSE, prompt = FALSE, 
        comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "class_4_a_stats_cache/html/", cache.vars = NULL, 
        cache.lazy = TRUE, dependson = NULL, autodep = FALSE, 
        cache.rebuild = FALSE, fig.keep = "high", fig.show = "asis", 
        fig.align = "default", fig.path = "class_4_a_stats_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = TRUE, error = FALSE, 
        message = TRUE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ..., \n    solution_eval_fn = NULL) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "covid_stack", exercise = TRUE, code = c("# This only works because we were careful to make sure the column names match", 
        "# from the different data sets", "", "monthly <- _____(covid_long_monthly, scented_timeline_monthly2)", 
        "", "monthly %>% ", "  ggplot(aes(x=row, y=value)) +", 
        "  geom_line() +", "  __________(vars(type), scale=\"free_y\") +", 
        "  geom_smooth()"), out.width.px = 624, out.height.px = 384, 
        params.src = "covid_stack, exercise=TRUE", fig.num = 0, 
        exercise.df_print = "paged"), engine = "r", version = "4"), class = c("r", 
"tutorial_exercise")))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-together-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-together-code-editor`)), session)
output$`tutorial-exercise-together-output` <- renderUI({
  `tutorial-exercise-together-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(label = "together", global_setup = structure(c("packages <- c(\"tidyverse\", \"lubridate\", \"rvest\", \"httr\", \"remotes\",", 
"            \"vtable\", \"tidymodels\")", "if (length(setdiff(packages, rownames(installed.packages()))) > 0) {", 
"  install.packages(setdiff(packages, rownames(installed.packages())), repos = \"https://cran.us.r-project.org\")  ", 
"}", "", "#remotes::install_github(\"rstudio/gradethis\", upgrade=\"always\", quiet=TRUE)", 
"#remotes::install_github(\"rstudio/learnr\", upgrade=\"always\", quiet=TRUE)", 
"", "library(tidyverse)", "library(learnr)", "library(gradethis)", 
"library(tidymodels)", "library(vtable)", "library(lubridate)", 
"library(knitr)", "", "salaries = read_csv(\"https://www.andrewbatran.com/data/salary_data.csv\")", 
"", "salaries_adjusted1 <-  salaries %>%", "  # Age brackets", 
"  mutate(age_bin = case_when(", "    age < 25 ~ 1, #Below age 25 ", 
"    age >= 25 & age < 35 ~ 2, #Age 25-34 ", "    age >= 35 & age < 45 ~ 3, #Age 25-34 ", 
"    age >= 45 & age < 55 ~ 4, #Age 25-34 ", "    age >= 55 ~ 5, #Age 25-34 ", 
"  ))", "", "", "salaries_adjusted2 <- salaries_adjusted1 %>% ", 
"  # Total compensation", "  mutate(total_pay = basePay + bonus) %>%", 
"  # Log of compensation", "  mutate(log_base = log(basePay, base = exp(1)),", 
"         log_total = log(total_pay, base = exp(1)),", "         # Adds 1 to allow for log of 0 bonus values.", 
"         log_bonus = log(bonus + 1, base = exp(1)))", "", "salaries_adjusted3 <- salaries_adjusted2 %>%", 
"  # Make flags", "  mutate(male = case_when(", "    gender==\"Male\" ~ 1,", 
"    TRUE ~ 0", "  ))", "", "# No controls. (\"unadjusted\" pay gap.)", 
"lm_gender <- lm(log_base ~ gender, data = salaries_adjusted3)", 
"", "# Adding \"human capital\" controls (performance evals, age and education).", 
"lm_humancapital <- lm(log_base ~ gender + perfEval + age_bin + edu, data = salaries_adjusted3)", 
"", "# Adding all controls. (\"adjusted\" pay gap.)", "lm_allcontrols <- lm(log_base ~ gender + perfEval + age_bin + edu + dept + seniority + jobTitle, data = salaries_adjusted3)", 
"", "", "candles <- read_csv(\"data/scented.csv\")", "", "candles_weekly <- candles %>% ", 
"    mutate(year=year(Date)) %>% ", "    mutate(week=week(Date)) %>% ", 
"  group_by(year, week) %>% ", "  summarize(avg_rating=mean(Rating, na.rm=T))", 
"", "candles_monthly <- candles %>% ", "    mutate(year=year(Date)) %>% ", 
"    mutate(month=month(Date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(avg_rating=mean(Rating, na.rm=T))", "", "scented_timeline_monthly1 <- candles %>% ", 
"  filter(Date>ymd(\"2020-01-21\")) %>% ", "  mutate(no_scent=case_when(", 
"    str_detect(Review, \"[Nn]o scent\") ~ 1, ", "    str_detect(Review, \"[Nn]o smell\") ~ 1,", 
"    str_detect(Review, \"[Dd]oes not smell like\") ~ 1,", "    str_detect(Review, \"[Dd]oesn't smell like\") ~ 1,", 
"    str_detect(Review, \"[Cc]an't smell\") ~ 1,", "    str_detect(Review, \"[Cc]annot smell\") ~ 1,", 
"    str_detect(Review, \"[Ff]aint smell\") ~ 1,", "    str_detect(Review, \"[Ff]aint scent\") ~ 1,", 
"    str_detect(Review, \"[Dd]on't smell\") ~ 1,", "    str_detect(Review, \"[Ll]ike nothing\") ~ 1,", 
"    TRUE ~ 0", "  ))", "", "", "scented_timeline_monthly2 <- scented_timeline_monthly1 %>% ", 
"  mutate(year=year(Date),", "         month=month(Date)) %>% ", 
"  # let's aggregate around year and month", "  group_by(year, month) %>% ", 
"  # we just need to add up the 1s in no_scent and count up the total reviews with n()", 
"  summarize(no_scent=sum(no_scent), reviews=n()) %>% ", "  # and do some math", 
"  mutate(percent=no_scent/reviews*100) %>% ", "  select(year, month, value=percent) %>% ", 
"  mutate(type=\"percent no smell\") %>% ", "  ungroup() %>% ", 
"  mutate(row=row_number())", "", "boston_salaries <- read_csv(\"https://www.andrewbatran.com/data/boston.csv\") %>% ", 
"  select(DEPARTMENT_NAME, TITLE, REGULAR, OTHER, OVERTIME, DETAIL, TOTAL_GROSS, POSTAL)", 
"", "set.seed(2022)", "", "boston16 <- boston_salaries %>% ", 
"  sample_n(16)", "", "covid <- read_csv(\"https://www.andrewbatran.com/data/covid.csv\")", 
"", "covid_long <- covid %>% ", "  pivot_longer(cols=12:ncol(covid), names_to=\"date\", values_to=\"cases\") %>% ", 
"  mutate(date=mdy(date)) %>% ", "  group_by(FIPS) %>% ", "  arrange(date) %>% ", 
"  # this is a way to create a value from the previous value (lagged)", 
"  mutate(positive = c(cases[1],diff(cases))) %>% ", "  group_by(date) %>% ", 
"  summarize(value=sum(positive, na.rm=T)) %>% ", "  mutate(type=\"Covid cases\")", 
"", "covid_long_monthly <- covid_long %>% ", "  mutate(year=year(date),", 
"         month=month(date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(value=sum(value, na.rm=T)/1000000) %>% ", "  mutate(type=\"Covid cases\") %>% ", 
"  ungroup() %>% ", "  mutate(row=row_number())", "", "monthly <- rbind(covid_long_monthly, scented_timeline_monthly2)", 
"", "monthly_wide <- monthly %>% ", "  pivot_wider(names_from=\"type\", values_from=\"value\") %>% ", 
"  filter(!is.na(`percent no smell`))"), chunk_opts = list(label = "setup", 
    include = FALSE)), setup = NULL, chunks = list(list(label = "together", 
    code = "monthly %>% \n  ggplot(aes(x=row, y=value, color=____)) +\n  geom_line() +\n  geom_smooth() +\n  theme_minimal() +\n  labs(title=\"Covid cases versus Amazon 'no scent' candle reviews\")", 
    opts = list(label = "\"together\"", exercise = "TRUE"), engine = "r")), 
    code_check = NULL, error_check = NULL, check = structure("grade_this_code()", chunk_opts = list(
        label = "together-check")), solution = structure(c("monthly %>% ", 
    "  ggplot(aes(x=row, y=value, color=type)) +", "  geom_line() +", 
    "  geom_smooth() +", "  theme_minimal() +", "  labs(title=\"Covid cases versus Amazon 'no scent' candle reviews\")"
    ), chunk_opts = list(label = "together-solution")), tests = NULL, 
    options = list(eval = FALSE, echo = TRUE, results = "markup", 
        tidy = FALSE, tidy.opts = NULL, collapse = FALSE, prompt = FALSE, 
        comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "class_4_a_stats_cache/html/", cache.vars = NULL, 
        cache.lazy = TRUE, dependson = NULL, autodep = FALSE, 
        cache.rebuild = FALSE, fig.keep = "high", fig.show = "asis", 
        fig.align = "default", fig.path = "class_4_a_stats_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = TRUE, error = FALSE, 
        message = TRUE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ..., \n    solution_eval_fn = NULL) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "together", exercise = TRUE, code = c("monthly %>% ", 
        "  ggplot(aes(x=row, y=value, color=____)) +", "  geom_line() +", 
        "  geom_smooth() +", "  theme_minimal() +", "  labs(title=\"Covid cases versus Amazon 'no scent' candle reviews\")"
        ), out.width.px = 624, out.height.px = 384, params.src = "together, exercise=TRUE", 
        fig.num = 0, exercise.df_print = "paged"), engine = "r", 
    version = "4"), class = c("r", "tutorial_exercise")))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-correl-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-correl-code-editor`)), session)
output$`tutorial-exercise-correl-output` <- renderUI({
  `tutorial-exercise-correl-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(label = "correl", global_setup = structure(c("packages <- c(\"tidyverse\", \"lubridate\", \"rvest\", \"httr\", \"remotes\",", 
"            \"vtable\", \"tidymodels\")", "if (length(setdiff(packages, rownames(installed.packages()))) > 0) {", 
"  install.packages(setdiff(packages, rownames(installed.packages())), repos = \"https://cran.us.r-project.org\")  ", 
"}", "", "#remotes::install_github(\"rstudio/gradethis\", upgrade=\"always\", quiet=TRUE)", 
"#remotes::install_github(\"rstudio/learnr\", upgrade=\"always\", quiet=TRUE)", 
"", "library(tidyverse)", "library(learnr)", "library(gradethis)", 
"library(tidymodels)", "library(vtable)", "library(lubridate)", 
"library(knitr)", "", "salaries = read_csv(\"https://www.andrewbatran.com/data/salary_data.csv\")", 
"", "salaries_adjusted1 <-  salaries %>%", "  # Age brackets", 
"  mutate(age_bin = case_when(", "    age < 25 ~ 1, #Below age 25 ", 
"    age >= 25 & age < 35 ~ 2, #Age 25-34 ", "    age >= 35 & age < 45 ~ 3, #Age 25-34 ", 
"    age >= 45 & age < 55 ~ 4, #Age 25-34 ", "    age >= 55 ~ 5, #Age 25-34 ", 
"  ))", "", "", "salaries_adjusted2 <- salaries_adjusted1 %>% ", 
"  # Total compensation", "  mutate(total_pay = basePay + bonus) %>%", 
"  # Log of compensation", "  mutate(log_base = log(basePay, base = exp(1)),", 
"         log_total = log(total_pay, base = exp(1)),", "         # Adds 1 to allow for log of 0 bonus values.", 
"         log_bonus = log(bonus + 1, base = exp(1)))", "", "salaries_adjusted3 <- salaries_adjusted2 %>%", 
"  # Make flags", "  mutate(male = case_when(", "    gender==\"Male\" ~ 1,", 
"    TRUE ~ 0", "  ))", "", "# No controls. (\"unadjusted\" pay gap.)", 
"lm_gender <- lm(log_base ~ gender, data = salaries_adjusted3)", 
"", "# Adding \"human capital\" controls (performance evals, age and education).", 
"lm_humancapital <- lm(log_base ~ gender + perfEval + age_bin + edu, data = salaries_adjusted3)", 
"", "# Adding all controls. (\"adjusted\" pay gap.)", "lm_allcontrols <- lm(log_base ~ gender + perfEval + age_bin + edu + dept + seniority + jobTitle, data = salaries_adjusted3)", 
"", "", "candles <- read_csv(\"data/scented.csv\")", "", "candles_weekly <- candles %>% ", 
"    mutate(year=year(Date)) %>% ", "    mutate(week=week(Date)) %>% ", 
"  group_by(year, week) %>% ", "  summarize(avg_rating=mean(Rating, na.rm=T))", 
"", "candles_monthly <- candles %>% ", "    mutate(year=year(Date)) %>% ", 
"    mutate(month=month(Date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(avg_rating=mean(Rating, na.rm=T))", "", "scented_timeline_monthly1 <- candles %>% ", 
"  filter(Date>ymd(\"2020-01-21\")) %>% ", "  mutate(no_scent=case_when(", 
"    str_detect(Review, \"[Nn]o scent\") ~ 1, ", "    str_detect(Review, \"[Nn]o smell\") ~ 1,", 
"    str_detect(Review, \"[Dd]oes not smell like\") ~ 1,", "    str_detect(Review, \"[Dd]oesn't smell like\") ~ 1,", 
"    str_detect(Review, \"[Cc]an't smell\") ~ 1,", "    str_detect(Review, \"[Cc]annot smell\") ~ 1,", 
"    str_detect(Review, \"[Ff]aint smell\") ~ 1,", "    str_detect(Review, \"[Ff]aint scent\") ~ 1,", 
"    str_detect(Review, \"[Dd]on't smell\") ~ 1,", "    str_detect(Review, \"[Ll]ike nothing\") ~ 1,", 
"    TRUE ~ 0", "  ))", "", "", "scented_timeline_monthly2 <- scented_timeline_monthly1 %>% ", 
"  mutate(year=year(Date),", "         month=month(Date)) %>% ", 
"  # let's aggregate around year and month", "  group_by(year, month) %>% ", 
"  # we just need to add up the 1s in no_scent and count up the total reviews with n()", 
"  summarize(no_scent=sum(no_scent), reviews=n()) %>% ", "  # and do some math", 
"  mutate(percent=no_scent/reviews*100) %>% ", "  select(year, month, value=percent) %>% ", 
"  mutate(type=\"percent no smell\") %>% ", "  ungroup() %>% ", 
"  mutate(row=row_number())", "", "boston_salaries <- read_csv(\"https://www.andrewbatran.com/data/boston.csv\") %>% ", 
"  select(DEPARTMENT_NAME, TITLE, REGULAR, OTHER, OVERTIME, DETAIL, TOTAL_GROSS, POSTAL)", 
"", "set.seed(2022)", "", "boston16 <- boston_salaries %>% ", 
"  sample_n(16)", "", "covid <- read_csv(\"https://www.andrewbatran.com/data/covid.csv\")", 
"", "covid_long <- covid %>% ", "  pivot_longer(cols=12:ncol(covid), names_to=\"date\", values_to=\"cases\") %>% ", 
"  mutate(date=mdy(date)) %>% ", "  group_by(FIPS) %>% ", "  arrange(date) %>% ", 
"  # this is a way to create a value from the previous value (lagged)", 
"  mutate(positive = c(cases[1],diff(cases))) %>% ", "  group_by(date) %>% ", 
"  summarize(value=sum(positive, na.rm=T)) %>% ", "  mutate(type=\"Covid cases\")", 
"", "covid_long_monthly <- covid_long %>% ", "  mutate(year=year(date),", 
"         month=month(date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(value=sum(value, na.rm=T)/1000000) %>% ", "  mutate(type=\"Covid cases\") %>% ", 
"  ungroup() %>% ", "  mutate(row=row_number())", "", "monthly <- rbind(covid_long_monthly, scented_timeline_monthly2)", 
"", "monthly_wide <- monthly %>% ", "  pivot_wider(names_from=\"type\", values_from=\"value\") %>% ", 
"  filter(!is.na(`percent no smell`))"), chunk_opts = list(label = "setup", 
    include = FALSE)), setup = NULL, chunks = list(list(label = "correl", 
    code = "___(monthly_wide$`______ _____`, monthly_wide$`_______ __ _____`, method=\"pearson\") ", 
    opts = list(label = "\"correl\"", exercise = "TRUE"), engine = "r")), 
    code_check = NULL, error_check = NULL, check = structure("grade_this_code()", chunk_opts = list(
        label = "correl-check")), solution = structure("cor(monthly_wide$`Covid cases`, monthly_wide$`percent no smell`, method=\"pearson\") ", chunk_opts = list(
        label = "correl-solution")), tests = NULL, options = list(
        eval = FALSE, echo = TRUE, results = "markup", tidy = FALSE, 
        tidy.opts = NULL, collapse = FALSE, prompt = FALSE, comment = NA, 
        highlight = FALSE, size = "normalsize", background = "#F7F7F7", 
        strip.white = TRUE, cache = 0, cache.path = "class_4_a_stats_cache/html/", 
        cache.vars = NULL, cache.lazy = TRUE, dependson = NULL, 
        autodep = FALSE, cache.rebuild = FALSE, fig.keep = "high", 
        fig.show = "asis", fig.align = "default", fig.path = "class_4_a_stats_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = TRUE, error = FALSE, 
        message = TRUE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ..., \n    solution_eval_fn = NULL) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "correl", exercise = TRUE, code = "___(monthly_wide$`______ _____`, monthly_wide$`_______ __ _____`, method=\"pearson\") ", 
        out.width.px = 624, out.height.px = 384, params.src = "correl, exercise=TRUE", 
        fig.num = 0, exercise.df_print = "paged"), engine = "r", 
    version = "4"), class = c("r", "tutorial_exercise")))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-ntile-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-ntile-code-editor`)), session)
output$`tutorial-exercise-ntile-output` <- renderUI({
  `tutorial-exercise-ntile-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(label = "ntile", global_setup = structure(c("packages <- c(\"tidyverse\", \"lubridate\", \"rvest\", \"httr\", \"remotes\",", 
"            \"vtable\", \"tidymodels\")", "if (length(setdiff(packages, rownames(installed.packages()))) > 0) {", 
"  install.packages(setdiff(packages, rownames(installed.packages())), repos = \"https://cran.us.r-project.org\")  ", 
"}", "", "#remotes::install_github(\"rstudio/gradethis\", upgrade=\"always\", quiet=TRUE)", 
"#remotes::install_github(\"rstudio/learnr\", upgrade=\"always\", quiet=TRUE)", 
"", "library(tidyverse)", "library(learnr)", "library(gradethis)", 
"library(tidymodels)", "library(vtable)", "library(lubridate)", 
"library(knitr)", "", "salaries = read_csv(\"https://www.andrewbatran.com/data/salary_data.csv\")", 
"", "salaries_adjusted1 <-  salaries %>%", "  # Age brackets", 
"  mutate(age_bin = case_when(", "    age < 25 ~ 1, #Below age 25 ", 
"    age >= 25 & age < 35 ~ 2, #Age 25-34 ", "    age >= 35 & age < 45 ~ 3, #Age 25-34 ", 
"    age >= 45 & age < 55 ~ 4, #Age 25-34 ", "    age >= 55 ~ 5, #Age 25-34 ", 
"  ))", "", "", "salaries_adjusted2 <- salaries_adjusted1 %>% ", 
"  # Total compensation", "  mutate(total_pay = basePay + bonus) %>%", 
"  # Log of compensation", "  mutate(log_base = log(basePay, base = exp(1)),", 
"         log_total = log(total_pay, base = exp(1)),", "         # Adds 1 to allow for log of 0 bonus values.", 
"         log_bonus = log(bonus + 1, base = exp(1)))", "", "salaries_adjusted3 <- salaries_adjusted2 %>%", 
"  # Make flags", "  mutate(male = case_when(", "    gender==\"Male\" ~ 1,", 
"    TRUE ~ 0", "  ))", "", "# No controls. (\"unadjusted\" pay gap.)", 
"lm_gender <- lm(log_base ~ gender, data = salaries_adjusted3)", 
"", "# Adding \"human capital\" controls (performance evals, age and education).", 
"lm_humancapital <- lm(log_base ~ gender + perfEval + age_bin + edu, data = salaries_adjusted3)", 
"", "# Adding all controls. (\"adjusted\" pay gap.)", "lm_allcontrols <- lm(log_base ~ gender + perfEval + age_bin + edu + dept + seniority + jobTitle, data = salaries_adjusted3)", 
"", "", "candles <- read_csv(\"data/scented.csv\")", "", "candles_weekly <- candles %>% ", 
"    mutate(year=year(Date)) %>% ", "    mutate(week=week(Date)) %>% ", 
"  group_by(year, week) %>% ", "  summarize(avg_rating=mean(Rating, na.rm=T))", 
"", "candles_monthly <- candles %>% ", "    mutate(year=year(Date)) %>% ", 
"    mutate(month=month(Date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(avg_rating=mean(Rating, na.rm=T))", "", "scented_timeline_monthly1 <- candles %>% ", 
"  filter(Date>ymd(\"2020-01-21\")) %>% ", "  mutate(no_scent=case_when(", 
"    str_detect(Review, \"[Nn]o scent\") ~ 1, ", "    str_detect(Review, \"[Nn]o smell\") ~ 1,", 
"    str_detect(Review, \"[Dd]oes not smell like\") ~ 1,", "    str_detect(Review, \"[Dd]oesn't smell like\") ~ 1,", 
"    str_detect(Review, \"[Cc]an't smell\") ~ 1,", "    str_detect(Review, \"[Cc]annot smell\") ~ 1,", 
"    str_detect(Review, \"[Ff]aint smell\") ~ 1,", "    str_detect(Review, \"[Ff]aint scent\") ~ 1,", 
"    str_detect(Review, \"[Dd]on't smell\") ~ 1,", "    str_detect(Review, \"[Ll]ike nothing\") ~ 1,", 
"    TRUE ~ 0", "  ))", "", "", "scented_timeline_monthly2 <- scented_timeline_monthly1 %>% ", 
"  mutate(year=year(Date),", "         month=month(Date)) %>% ", 
"  # let's aggregate around year and month", "  group_by(year, month) %>% ", 
"  # we just need to add up the 1s in no_scent and count up the total reviews with n()", 
"  summarize(no_scent=sum(no_scent), reviews=n()) %>% ", "  # and do some math", 
"  mutate(percent=no_scent/reviews*100) %>% ", "  select(year, month, value=percent) %>% ", 
"  mutate(type=\"percent no smell\") %>% ", "  ungroup() %>% ", 
"  mutate(row=row_number())", "", "boston_salaries <- read_csv(\"https://www.andrewbatran.com/data/boston.csv\") %>% ", 
"  select(DEPARTMENT_NAME, TITLE, REGULAR, OTHER, OVERTIME, DETAIL, TOTAL_GROSS, POSTAL)", 
"", "set.seed(2022)", "", "boston16 <- boston_salaries %>% ", 
"  sample_n(16)", "", "covid <- read_csv(\"https://www.andrewbatran.com/data/covid.csv\")", 
"", "covid_long <- covid %>% ", "  pivot_longer(cols=12:ncol(covid), names_to=\"date\", values_to=\"cases\") %>% ", 
"  mutate(date=mdy(date)) %>% ", "  group_by(FIPS) %>% ", "  arrange(date) %>% ", 
"  # this is a way to create a value from the previous value (lagged)", 
"  mutate(positive = c(cases[1],diff(cases))) %>% ", "  group_by(date) %>% ", 
"  summarize(value=sum(positive, na.rm=T)) %>% ", "  mutate(type=\"Covid cases\")", 
"", "covid_long_monthly <- covid_long %>% ", "  mutate(year=year(date),", 
"         month=month(date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(value=sum(value, na.rm=T)/1000000) %>% ", "  mutate(type=\"Covid cases\") %>% ", 
"  ungroup() %>% ", "  mutate(row=row_number())", "", "monthly <- rbind(covid_long_monthly, scented_timeline_monthly2)", 
"", "monthly_wide <- monthly %>% ", "  pivot_wider(names_from=\"type\", values_from=\"value\") %>% ", 
"  filter(!is.na(`percent no smell`))"), chunk_opts = list(label = "setup", 
    include = FALSE)), setup = NULL, chunks = list(list(label = "ntile", 
    code = "boston16 %>% \n  select(TOTAL_GROSS, POSTAL) %>% \n  arrange(TOTAL_GROSS) %>% \n  mutate(quartile=_____(TOTAL_GROSS, _)) %>% \n  kable()", 
    opts = list(label = "\"ntile\"", exercise = "TRUE"), engine = "r")), 
    code_check = NULL, error_check = NULL, check = structure("grade_this_code()", chunk_opts = list(
        label = "ntile-check")), solution = structure(c("boston16 %>% ", 
    "  select(TOTAL_GROSS, POSTAL) %>% ", "  arrange(TOTAL_GROSS) %>% ", 
    "  mutate(quartile=ntile(TOTAL_GROSS, 4)) %>% ", "  kable()"
    ), chunk_opts = list(label = "ntile-solution")), tests = NULL, 
    options = list(eval = FALSE, echo = TRUE, results = "markup", 
        tidy = FALSE, tidy.opts = NULL, collapse = FALSE, prompt = FALSE, 
        comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "class_4_a_stats_cache/html/", cache.vars = NULL, 
        cache.lazy = TRUE, dependson = NULL, autodep = FALSE, 
        cache.rebuild = FALSE, fig.keep = "high", fig.show = "asis", 
        fig.align = "default", fig.path = "class_4_a_stats_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = TRUE, error = FALSE, 
        message = TRUE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ..., \n    solution_eval_fn = NULL) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "ntile", exercise = TRUE, code = c("boston16 %>% ", 
        "  select(TOTAL_GROSS, POSTAL) %>% ", "  arrange(TOTAL_GROSS) %>% ", 
        "  mutate(quartile=_____(TOTAL_GROSS, _)) %>% ", "  kable()"
        ), out.width.px = 624, out.height.px = 384, params.src = "ntile, exercise=TRUE", 
        fig.num = 0, exercise.df_print = "paged"), engine = "r", 
    version = "4"), class = c("r", "tutorial_exercise")))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-quant1-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-quant1-code-editor`)), session)
output$`tutorial-exercise-quant1-output` <- renderUI({
  `tutorial-exercise-quant1-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(label = "quant1", global_setup = structure(c("packages <- c(\"tidyverse\", \"lubridate\", \"rvest\", \"httr\", \"remotes\",", 
"            \"vtable\", \"tidymodels\")", "if (length(setdiff(packages, rownames(installed.packages()))) > 0) {", 
"  install.packages(setdiff(packages, rownames(installed.packages())), repos = \"https://cran.us.r-project.org\")  ", 
"}", "", "#remotes::install_github(\"rstudio/gradethis\", upgrade=\"always\", quiet=TRUE)", 
"#remotes::install_github(\"rstudio/learnr\", upgrade=\"always\", quiet=TRUE)", 
"", "library(tidyverse)", "library(learnr)", "library(gradethis)", 
"library(tidymodels)", "library(vtable)", "library(lubridate)", 
"library(knitr)", "", "salaries = read_csv(\"https://www.andrewbatran.com/data/salary_data.csv\")", 
"", "salaries_adjusted1 <-  salaries %>%", "  # Age brackets", 
"  mutate(age_bin = case_when(", "    age < 25 ~ 1, #Below age 25 ", 
"    age >= 25 & age < 35 ~ 2, #Age 25-34 ", "    age >= 35 & age < 45 ~ 3, #Age 25-34 ", 
"    age >= 45 & age < 55 ~ 4, #Age 25-34 ", "    age >= 55 ~ 5, #Age 25-34 ", 
"  ))", "", "", "salaries_adjusted2 <- salaries_adjusted1 %>% ", 
"  # Total compensation", "  mutate(total_pay = basePay + bonus) %>%", 
"  # Log of compensation", "  mutate(log_base = log(basePay, base = exp(1)),", 
"         log_total = log(total_pay, base = exp(1)),", "         # Adds 1 to allow for log of 0 bonus values.", 
"         log_bonus = log(bonus + 1, base = exp(1)))", "", "salaries_adjusted3 <- salaries_adjusted2 %>%", 
"  # Make flags", "  mutate(male = case_when(", "    gender==\"Male\" ~ 1,", 
"    TRUE ~ 0", "  ))", "", "# No controls. (\"unadjusted\" pay gap.)", 
"lm_gender <- lm(log_base ~ gender, data = salaries_adjusted3)", 
"", "# Adding \"human capital\" controls (performance evals, age and education).", 
"lm_humancapital <- lm(log_base ~ gender + perfEval + age_bin + edu, data = salaries_adjusted3)", 
"", "# Adding all controls. (\"adjusted\" pay gap.)", "lm_allcontrols <- lm(log_base ~ gender + perfEval + age_bin + edu + dept + seniority + jobTitle, data = salaries_adjusted3)", 
"", "", "candles <- read_csv(\"data/scented.csv\")", "", "candles_weekly <- candles %>% ", 
"    mutate(year=year(Date)) %>% ", "    mutate(week=week(Date)) %>% ", 
"  group_by(year, week) %>% ", "  summarize(avg_rating=mean(Rating, na.rm=T))", 
"", "candles_monthly <- candles %>% ", "    mutate(year=year(Date)) %>% ", 
"    mutate(month=month(Date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(avg_rating=mean(Rating, na.rm=T))", "", "scented_timeline_monthly1 <- candles %>% ", 
"  filter(Date>ymd(\"2020-01-21\")) %>% ", "  mutate(no_scent=case_when(", 
"    str_detect(Review, \"[Nn]o scent\") ~ 1, ", "    str_detect(Review, \"[Nn]o smell\") ~ 1,", 
"    str_detect(Review, \"[Dd]oes not smell like\") ~ 1,", "    str_detect(Review, \"[Dd]oesn't smell like\") ~ 1,", 
"    str_detect(Review, \"[Cc]an't smell\") ~ 1,", "    str_detect(Review, \"[Cc]annot smell\") ~ 1,", 
"    str_detect(Review, \"[Ff]aint smell\") ~ 1,", "    str_detect(Review, \"[Ff]aint scent\") ~ 1,", 
"    str_detect(Review, \"[Dd]on't smell\") ~ 1,", "    str_detect(Review, \"[Ll]ike nothing\") ~ 1,", 
"    TRUE ~ 0", "  ))", "", "", "scented_timeline_monthly2 <- scented_timeline_monthly1 %>% ", 
"  mutate(year=year(Date),", "         month=month(Date)) %>% ", 
"  # let's aggregate around year and month", "  group_by(year, month) %>% ", 
"  # we just need to add up the 1s in no_scent and count up the total reviews with n()", 
"  summarize(no_scent=sum(no_scent), reviews=n()) %>% ", "  # and do some math", 
"  mutate(percent=no_scent/reviews*100) %>% ", "  select(year, month, value=percent) %>% ", 
"  mutate(type=\"percent no smell\") %>% ", "  ungroup() %>% ", 
"  mutate(row=row_number())", "", "boston_salaries <- read_csv(\"https://www.andrewbatran.com/data/boston.csv\") %>% ", 
"  select(DEPARTMENT_NAME, TITLE, REGULAR, OTHER, OVERTIME, DETAIL, TOTAL_GROSS, POSTAL)", 
"", "set.seed(2022)", "", "boston16 <- boston_salaries %>% ", 
"  sample_n(16)", "", "covid <- read_csv(\"https://www.andrewbatran.com/data/covid.csv\")", 
"", "covid_long <- covid %>% ", "  pivot_longer(cols=12:ncol(covid), names_to=\"date\", values_to=\"cases\") %>% ", 
"  mutate(date=mdy(date)) %>% ", "  group_by(FIPS) %>% ", "  arrange(date) %>% ", 
"  # this is a way to create a value from the previous value (lagged)", 
"  mutate(positive = c(cases[1],diff(cases))) %>% ", "  group_by(date) %>% ", 
"  summarize(value=sum(positive, na.rm=T)) %>% ", "  mutate(type=\"Covid cases\")", 
"", "covid_long_monthly <- covid_long %>% ", "  mutate(year=year(date),", 
"         month=month(date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(value=sum(value, na.rm=T)/1000000) %>% ", "  mutate(type=\"Covid cases\") %>% ", 
"  ungroup() %>% ", "  mutate(row=row_number())", "", "monthly <- rbind(covid_long_monthly, scented_timeline_monthly2)", 
"", "monthly_wide <- monthly %>% ", "  pivot_wider(names_from=\"type\", values_from=\"value\") %>% ", 
"  filter(!is.na(`percent no smell`))"), chunk_opts = list(label = "setup", 
    include = FALSE)), setup = NULL, chunks = list(list(label = "quant1", 
    code = "boston16 %>% \n  select(TOTAL_GROSS) %>% \n  arrange(TOTAL_GROSS) %>% \n  summarize(value=________(TOTAL_GROSS, c(0, .25, .5, .75, 1))) %>% \n  mutate(percentile=c(0,25,50,75, 100),\n         quartile=c(0,1,2,3,4)) %>% \n  select(percentile, quartile, value)", 
    opts = list(label = "\"quant1\"", exercise = "TRUE"), engine = "r")), 
    code_check = NULL, error_check = NULL, check = structure("grade_this_code()", chunk_opts = list(
        label = "quant1-check")), solution = structure(c("boston16 %>% ", 
    "  select(TOTAL_GROSS) %>% ", "  arrange(TOTAL_GROSS) %>% ", 
    "  summarize(value=quantile(TOTAL_GROSS, c(0, .25, .5, .75, 1))) %>% ", 
    "  mutate(percentile=c(0,25,50,75, 100),", "         quartile=c(0,1,2,3,4)) %>% ", 
    "  select(percentile, quartile, value)"), chunk_opts = list(
        label = "quant1-solution")), tests = NULL, options = list(
        eval = FALSE, echo = TRUE, results = "markup", tidy = FALSE, 
        tidy.opts = NULL, collapse = FALSE, prompt = FALSE, comment = NA, 
        highlight = FALSE, size = "normalsize", background = "#F7F7F7", 
        strip.white = TRUE, cache = 0, cache.path = "class_4_a_stats_cache/html/", 
        cache.vars = NULL, cache.lazy = TRUE, dependson = NULL, 
        autodep = FALSE, cache.rebuild = FALSE, fig.keep = "high", 
        fig.show = "asis", fig.align = "default", fig.path = "class_4_a_stats_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = TRUE, error = FALSE, 
        message = TRUE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ..., \n    solution_eval_fn = NULL) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "quant1", exercise = TRUE, code = c("boston16 %>% ", 
        "  select(TOTAL_GROSS) %>% ", "  arrange(TOTAL_GROSS) %>% ", 
        "  summarize(value=________(TOTAL_GROSS, c(0, .25, .5, .75, 1))) %>% ", 
        "  mutate(percentile=c(0,25,50,75, 100),", "         quartile=c(0,1,2,3,4)) %>% ", 
        "  select(percentile, quartile, value)"), out.width.px = 624, 
        out.height.px = 384, params.src = "quant1, exercise=TRUE", 
        fig.num = 0, exercise.df_print = "paged"), engine = "r", 
    version = "4"), class = c("r", "tutorial_exercise")))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-base-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-base-code-editor`)), session)
output$`tutorial-exercise-base-output` <- renderUI({
  `tutorial-exercise-base-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(label = "base", global_setup = structure(c("packages <- c(\"tidyverse\", \"lubridate\", \"rvest\", \"httr\", \"remotes\",", 
"            \"vtable\", \"tidymodels\")", "if (length(setdiff(packages, rownames(installed.packages()))) > 0) {", 
"  install.packages(setdiff(packages, rownames(installed.packages())), repos = \"https://cran.us.r-project.org\")  ", 
"}", "", "#remotes::install_github(\"rstudio/gradethis\", upgrade=\"always\", quiet=TRUE)", 
"#remotes::install_github(\"rstudio/learnr\", upgrade=\"always\", quiet=TRUE)", 
"", "library(tidyverse)", "library(learnr)", "library(gradethis)", 
"library(tidymodels)", "library(vtable)", "library(lubridate)", 
"library(knitr)", "", "salaries = read_csv(\"https://www.andrewbatran.com/data/salary_data.csv\")", 
"", "salaries_adjusted1 <-  salaries %>%", "  # Age brackets", 
"  mutate(age_bin = case_when(", "    age < 25 ~ 1, #Below age 25 ", 
"    age >= 25 & age < 35 ~ 2, #Age 25-34 ", "    age >= 35 & age < 45 ~ 3, #Age 25-34 ", 
"    age >= 45 & age < 55 ~ 4, #Age 25-34 ", "    age >= 55 ~ 5, #Age 25-34 ", 
"  ))", "", "", "salaries_adjusted2 <- salaries_adjusted1 %>% ", 
"  # Total compensation", "  mutate(total_pay = basePay + bonus) %>%", 
"  # Log of compensation", "  mutate(log_base = log(basePay, base = exp(1)),", 
"         log_total = log(total_pay, base = exp(1)),", "         # Adds 1 to allow for log of 0 bonus values.", 
"         log_bonus = log(bonus + 1, base = exp(1)))", "", "salaries_adjusted3 <- salaries_adjusted2 %>%", 
"  # Make flags", "  mutate(male = case_when(", "    gender==\"Male\" ~ 1,", 
"    TRUE ~ 0", "  ))", "", "# No controls. (\"unadjusted\" pay gap.)", 
"lm_gender <- lm(log_base ~ gender, data = salaries_adjusted3)", 
"", "# Adding \"human capital\" controls (performance evals, age and education).", 
"lm_humancapital <- lm(log_base ~ gender + perfEval + age_bin + edu, data = salaries_adjusted3)", 
"", "# Adding all controls. (\"adjusted\" pay gap.)", "lm_allcontrols <- lm(log_base ~ gender + perfEval + age_bin + edu + dept + seniority + jobTitle, data = salaries_adjusted3)", 
"", "", "candles <- read_csv(\"data/scented.csv\")", "", "candles_weekly <- candles %>% ", 
"    mutate(year=year(Date)) %>% ", "    mutate(week=week(Date)) %>% ", 
"  group_by(year, week) %>% ", "  summarize(avg_rating=mean(Rating, na.rm=T))", 
"", "candles_monthly <- candles %>% ", "    mutate(year=year(Date)) %>% ", 
"    mutate(month=month(Date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(avg_rating=mean(Rating, na.rm=T))", "", "scented_timeline_monthly1 <- candles %>% ", 
"  filter(Date>ymd(\"2020-01-21\")) %>% ", "  mutate(no_scent=case_when(", 
"    str_detect(Review, \"[Nn]o scent\") ~ 1, ", "    str_detect(Review, \"[Nn]o smell\") ~ 1,", 
"    str_detect(Review, \"[Dd]oes not smell like\") ~ 1,", "    str_detect(Review, \"[Dd]oesn't smell like\") ~ 1,", 
"    str_detect(Review, \"[Cc]an't smell\") ~ 1,", "    str_detect(Review, \"[Cc]annot smell\") ~ 1,", 
"    str_detect(Review, \"[Ff]aint smell\") ~ 1,", "    str_detect(Review, \"[Ff]aint scent\") ~ 1,", 
"    str_detect(Review, \"[Dd]on't smell\") ~ 1,", "    str_detect(Review, \"[Ll]ike nothing\") ~ 1,", 
"    TRUE ~ 0", "  ))", "", "", "scented_timeline_monthly2 <- scented_timeline_monthly1 %>% ", 
"  mutate(year=year(Date),", "         month=month(Date)) %>% ", 
"  # let's aggregate around year and month", "  group_by(year, month) %>% ", 
"  # we just need to add up the 1s in no_scent and count up the total reviews with n()", 
"  summarize(no_scent=sum(no_scent), reviews=n()) %>% ", "  # and do some math", 
"  mutate(percent=no_scent/reviews*100) %>% ", "  select(year, month, value=percent) %>% ", 
"  mutate(type=\"percent no smell\") %>% ", "  ungroup() %>% ", 
"  mutate(row=row_number())", "", "boston_salaries <- read_csv(\"https://www.andrewbatran.com/data/boston.csv\") %>% ", 
"  select(DEPARTMENT_NAME, TITLE, REGULAR, OTHER, OVERTIME, DETAIL, TOTAL_GROSS, POSTAL)", 
"", "set.seed(2022)", "", "boston16 <- boston_salaries %>% ", 
"  sample_n(16)", "", "covid <- read_csv(\"https://www.andrewbatran.com/data/covid.csv\")", 
"", "covid_long <- covid %>% ", "  pivot_longer(cols=12:ncol(covid), names_to=\"date\", values_to=\"cases\") %>% ", 
"  mutate(date=mdy(date)) %>% ", "  group_by(FIPS) %>% ", "  arrange(date) %>% ", 
"  # this is a way to create a value from the previous value (lagged)", 
"  mutate(positive = c(cases[1],diff(cases))) %>% ", "  group_by(date) %>% ", 
"  summarize(value=sum(positive, na.rm=T)) %>% ", "  mutate(type=\"Covid cases\")", 
"", "covid_long_monthly <- covid_long %>% ", "  mutate(year=year(date),", 
"         month=month(date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(value=sum(value, na.rm=T)/1000000) %>% ", "  mutate(type=\"Covid cases\") %>% ", 
"  ungroup() %>% ", "  mutate(row=row_number())", "", "monthly <- rbind(covid_long_monthly, scented_timeline_monthly2)", 
"", "monthly_wide <- monthly %>% ", "  pivot_wider(names_from=\"type\", values_from=\"value\") %>% ", 
"  filter(!is.na(`percent no smell`))"), chunk_opts = list(label = "setup", 
    include = FALSE)), setup = NULL, chunks = list(list(label = "base", 
    code = "# Base pay summary stats.\nsalaries_adjusted1 <-  salaries %>%\n  # Age brackets\n  mutate(age_bin = ________(\n    age < 25 ~ 1, #Below age 25 \n    age >= 25 & age < 35 ~ 2, #Age 25-34 \n    age >= 35 & age < 45 ~ 3, #Age 25-34 \n    age >= 45 & age < 55 ~ 4, #Age 25-34 \n    age >= 55 ~ 5, #Age 25-34 \n  ))\n", 
    opts = list(label = "\"base\"", exercise = "TRUE"), engine = "r")), 
    code_check = NULL, error_check = NULL, check = structure("grade_this_code()", chunk_opts = list(
        label = "base-check")), solution = structure(c("# Base pay summary stats.", 
    "salaries_adjusted1 <-  salaries %>%", "  # Age brackets", 
    "  mutate(age_bin = case_when(", "    age < 25 ~ 1, #Below age 25 ", 
    "    age >= 25 & age < 35 ~ 2, #Age 25-34 ", "    age >= 35 & age < 45 ~ 3, #Age 25-34 ", 
    "    age >= 45 & age < 55 ~ 4, #Age 25-34 ", "    age >= 55 ~ 5, #Age 25-34 ", 
    "  ))"), chunk_opts = list(label = "base-solution")), tests = NULL, 
    options = list(eval = FALSE, echo = TRUE, results = "markup", 
        tidy = FALSE, tidy.opts = NULL, collapse = FALSE, prompt = FALSE, 
        comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "class_4_a_stats_cache/html/", cache.vars = NULL, 
        cache.lazy = TRUE, dependson = NULL, autodep = FALSE, 
        cache.rebuild = FALSE, fig.keep = "high", fig.show = "asis", 
        fig.align = "default", fig.path = "class_4_a_stats_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = TRUE, error = FALSE, 
        message = TRUE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ..., \n    solution_eval_fn = NULL) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "base", exercise = TRUE, code = c("# Base pay summary stats.", 
        "salaries_adjusted1 <-  salaries %>%", "  # Age brackets", 
        "  mutate(age_bin = ________(", "    age < 25 ~ 1, #Below age 25 ", 
        "    age >= 25 & age < 35 ~ 2, #Age 25-34 ", "    age >= 35 & age < 45 ~ 3, #Age 25-34 ", 
        "    age >= 45 & age < 55 ~ 4, #Age 25-34 ", "    age >= 55 ~ 5, #Age 25-34 ", 
        "  ))", ""), out.width.px = 624, out.height.px = 384, 
        params.src = "base, exercise=TRUE", fig.num = 0, exercise.df_print = "paged"), 
    engine = "r", version = "4"), class = c("r", "tutorial_exercise"
)))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-salaries2-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-salaries2-code-editor`)), session)
output$`tutorial-exercise-salaries2-output` <- renderUI({
  `tutorial-exercise-salaries2-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(label = "salaries2", global_setup = structure(c("packages <- c(\"tidyverse\", \"lubridate\", \"rvest\", \"httr\", \"remotes\",", 
"            \"vtable\", \"tidymodels\")", "if (length(setdiff(packages, rownames(installed.packages()))) > 0) {", 
"  install.packages(setdiff(packages, rownames(installed.packages())), repos = \"https://cran.us.r-project.org\")  ", 
"}", "", "#remotes::install_github(\"rstudio/gradethis\", upgrade=\"always\", quiet=TRUE)", 
"#remotes::install_github(\"rstudio/learnr\", upgrade=\"always\", quiet=TRUE)", 
"", "library(tidyverse)", "library(learnr)", "library(gradethis)", 
"library(tidymodels)", "library(vtable)", "library(lubridate)", 
"library(knitr)", "", "salaries = read_csv(\"https://www.andrewbatran.com/data/salary_data.csv\")", 
"", "salaries_adjusted1 <-  salaries %>%", "  # Age brackets", 
"  mutate(age_bin = case_when(", "    age < 25 ~ 1, #Below age 25 ", 
"    age >= 25 & age < 35 ~ 2, #Age 25-34 ", "    age >= 35 & age < 45 ~ 3, #Age 25-34 ", 
"    age >= 45 & age < 55 ~ 4, #Age 25-34 ", "    age >= 55 ~ 5, #Age 25-34 ", 
"  ))", "", "", "salaries_adjusted2 <- salaries_adjusted1 %>% ", 
"  # Total compensation", "  mutate(total_pay = basePay + bonus) %>%", 
"  # Log of compensation", "  mutate(log_base = log(basePay, base = exp(1)),", 
"         log_total = log(total_pay, base = exp(1)),", "         # Adds 1 to allow for log of 0 bonus values.", 
"         log_bonus = log(bonus + 1, base = exp(1)))", "", "salaries_adjusted3 <- salaries_adjusted2 %>%", 
"  # Make flags", "  mutate(male = case_when(", "    gender==\"Male\" ~ 1,", 
"    TRUE ~ 0", "  ))", "", "# No controls. (\"unadjusted\" pay gap.)", 
"lm_gender <- lm(log_base ~ gender, data = salaries_adjusted3)", 
"", "# Adding \"human capital\" controls (performance evals, age and education).", 
"lm_humancapital <- lm(log_base ~ gender + perfEval + age_bin + edu, data = salaries_adjusted3)", 
"", "# Adding all controls. (\"adjusted\" pay gap.)", "lm_allcontrols <- lm(log_base ~ gender + perfEval + age_bin + edu + dept + seniority + jobTitle, data = salaries_adjusted3)", 
"", "", "candles <- read_csv(\"data/scented.csv\")", "", "candles_weekly <- candles %>% ", 
"    mutate(year=year(Date)) %>% ", "    mutate(week=week(Date)) %>% ", 
"  group_by(year, week) %>% ", "  summarize(avg_rating=mean(Rating, na.rm=T))", 
"", "candles_monthly <- candles %>% ", "    mutate(year=year(Date)) %>% ", 
"    mutate(month=month(Date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(avg_rating=mean(Rating, na.rm=T))", "", "scented_timeline_monthly1 <- candles %>% ", 
"  filter(Date>ymd(\"2020-01-21\")) %>% ", "  mutate(no_scent=case_when(", 
"    str_detect(Review, \"[Nn]o scent\") ~ 1, ", "    str_detect(Review, \"[Nn]o smell\") ~ 1,", 
"    str_detect(Review, \"[Dd]oes not smell like\") ~ 1,", "    str_detect(Review, \"[Dd]oesn't smell like\") ~ 1,", 
"    str_detect(Review, \"[Cc]an't smell\") ~ 1,", "    str_detect(Review, \"[Cc]annot smell\") ~ 1,", 
"    str_detect(Review, \"[Ff]aint smell\") ~ 1,", "    str_detect(Review, \"[Ff]aint scent\") ~ 1,", 
"    str_detect(Review, \"[Dd]on't smell\") ~ 1,", "    str_detect(Review, \"[Ll]ike nothing\") ~ 1,", 
"    TRUE ~ 0", "  ))", "", "", "scented_timeline_monthly2 <- scented_timeline_monthly1 %>% ", 
"  mutate(year=year(Date),", "         month=month(Date)) %>% ", 
"  # let's aggregate around year and month", "  group_by(year, month) %>% ", 
"  # we just need to add up the 1s in no_scent and count up the total reviews with n()", 
"  summarize(no_scent=sum(no_scent), reviews=n()) %>% ", "  # and do some math", 
"  mutate(percent=no_scent/reviews*100) %>% ", "  select(year, month, value=percent) %>% ", 
"  mutate(type=\"percent no smell\") %>% ", "  ungroup() %>% ", 
"  mutate(row=row_number())", "", "boston_salaries <- read_csv(\"https://www.andrewbatran.com/data/boston.csv\") %>% ", 
"  select(DEPARTMENT_NAME, TITLE, REGULAR, OTHER, OVERTIME, DETAIL, TOTAL_GROSS, POSTAL)", 
"", "set.seed(2022)", "", "boston16 <- boston_salaries %>% ", 
"  sample_n(16)", "", "covid <- read_csv(\"https://www.andrewbatran.com/data/covid.csv\")", 
"", "covid_long <- covid %>% ", "  pivot_longer(cols=12:ncol(covid), names_to=\"date\", values_to=\"cases\") %>% ", 
"  mutate(date=mdy(date)) %>% ", "  group_by(FIPS) %>% ", "  arrange(date) %>% ", 
"  # this is a way to create a value from the previous value (lagged)", 
"  mutate(positive = c(cases[1],diff(cases))) %>% ", "  group_by(date) %>% ", 
"  summarize(value=sum(positive, na.rm=T)) %>% ", "  mutate(type=\"Covid cases\")", 
"", "covid_long_monthly <- covid_long %>% ", "  mutate(year=year(date),", 
"         month=month(date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(value=sum(value, na.rm=T)/1000000) %>% ", "  mutate(type=\"Covid cases\") %>% ", 
"  ungroup() %>% ", "  mutate(row=row_number())", "", "monthly <- rbind(covid_long_monthly, scented_timeline_monthly2)", 
"", "monthly_wide <- monthly %>% ", "  pivot_wider(names_from=\"type\", values_from=\"value\") %>% ", 
"  filter(!is.na(`percent no smell`))"), chunk_opts = list(label = "setup", 
    include = FALSE)), setup = NULL, chunks = list(list(label = "salaries2", 
    code = "salaries_adjusted2 <- salaries_adjusted1 %>% \n  # Total compensation\n  mutate(total_pay = basePay + bonus) %>%\n  # Log of compensation\n  mutate(log_base = ___(basePay, base = exp(1)),\n         log_total = ___(total_pay, base = exp(1)),\n         # Adds 1 to allow for log of 0 bonus values.\n         log_bonus = ___(bonus + 1, base = exp(1)))\n\nsalaries_adjusted2", 
    opts = list(label = "\"salaries2\"", exercise = "TRUE"), 
    engine = "r")), code_check = NULL, error_check = NULL, check = structure("grade_this_code()", chunk_opts = list(
    label = "salaries2-check")), solution = structure(c("salaries_adjusted2 <- salaries_adjusted1 %>% ", 
"  # Total compensation", "  mutate(total_pay = basePay + bonus) %>%", 
"  # Log of compensation", "  mutate(log_base = log(basePay, base = exp(1)),", 
"         log_total = log(total_pay, base = exp(1)),", "         # Adds 1 to allow for log of 0 bonus values.", 
"         log_bonus = log(bonus + 1, base = exp(1)))", "", "salaries_adjusted2"
), chunk_opts = list(label = "salaries2-solution")), tests = NULL, 
    options = list(eval = FALSE, echo = TRUE, results = "markup", 
        tidy = FALSE, tidy.opts = NULL, collapse = FALSE, prompt = FALSE, 
        comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "class_4_a_stats_cache/html/", cache.vars = NULL, 
        cache.lazy = TRUE, dependson = NULL, autodep = FALSE, 
        cache.rebuild = FALSE, fig.keep = "high", fig.show = "asis", 
        fig.align = "default", fig.path = "class_4_a_stats_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = TRUE, error = FALSE, 
        message = TRUE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ..., \n    solution_eval_fn = NULL) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "salaries2", exercise = TRUE, code = c("salaries_adjusted2 <- salaries_adjusted1 %>% ", 
        "  # Total compensation", "  mutate(total_pay = basePay + bonus) %>%", 
        "  # Log of compensation", "  mutate(log_base = ___(basePay, base = exp(1)),", 
        "         log_total = ___(total_pay, base = exp(1)),", 
        "         # Adds 1 to allow for log of 0 bonus values.", 
        "         log_bonus = ___(bonus + 1, base = exp(1)))", 
        "", "salaries_adjusted2"), out.width.px = 624, out.height.px = 384, 
        params.src = "salaries2, exercise=TRUE", fig.num = 0, 
        exercise.df_print = "paged"), engine = "r", version = "4"), class = c("r", 
"tutorial_exercise")))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-glimpse-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-glimpse-code-editor`)), session)
output$`tutorial-exercise-glimpse-output` <- renderUI({
  `tutorial-exercise-glimpse-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(label = "glimpse", global_setup = structure(c("packages <- c(\"tidyverse\", \"lubridate\", \"rvest\", \"httr\", \"remotes\",", 
"            \"vtable\", \"tidymodels\")", "if (length(setdiff(packages, rownames(installed.packages()))) > 0) {", 
"  install.packages(setdiff(packages, rownames(installed.packages())), repos = \"https://cran.us.r-project.org\")  ", 
"}", "", "#remotes::install_github(\"rstudio/gradethis\", upgrade=\"always\", quiet=TRUE)", 
"#remotes::install_github(\"rstudio/learnr\", upgrade=\"always\", quiet=TRUE)", 
"", "library(tidyverse)", "library(learnr)", "library(gradethis)", 
"library(tidymodels)", "library(vtable)", "library(lubridate)", 
"library(knitr)", "", "salaries = read_csv(\"https://www.andrewbatran.com/data/salary_data.csv\")", 
"", "salaries_adjusted1 <-  salaries %>%", "  # Age brackets", 
"  mutate(age_bin = case_when(", "    age < 25 ~ 1, #Below age 25 ", 
"    age >= 25 & age < 35 ~ 2, #Age 25-34 ", "    age >= 35 & age < 45 ~ 3, #Age 25-34 ", 
"    age >= 45 & age < 55 ~ 4, #Age 25-34 ", "    age >= 55 ~ 5, #Age 25-34 ", 
"  ))", "", "", "salaries_adjusted2 <- salaries_adjusted1 %>% ", 
"  # Total compensation", "  mutate(total_pay = basePay + bonus) %>%", 
"  # Log of compensation", "  mutate(log_base = log(basePay, base = exp(1)),", 
"         log_total = log(total_pay, base = exp(1)),", "         # Adds 1 to allow for log of 0 bonus values.", 
"         log_bonus = log(bonus + 1, base = exp(1)))", "", "salaries_adjusted3 <- salaries_adjusted2 %>%", 
"  # Make flags", "  mutate(male = case_when(", "    gender==\"Male\" ~ 1,", 
"    TRUE ~ 0", "  ))", "", "# No controls. (\"unadjusted\" pay gap.)", 
"lm_gender <- lm(log_base ~ gender, data = salaries_adjusted3)", 
"", "# Adding \"human capital\" controls (performance evals, age and education).", 
"lm_humancapital <- lm(log_base ~ gender + perfEval + age_bin + edu, data = salaries_adjusted3)", 
"", "# Adding all controls. (\"adjusted\" pay gap.)", "lm_allcontrols <- lm(log_base ~ gender + perfEval + age_bin + edu + dept + seniority + jobTitle, data = salaries_adjusted3)", 
"", "", "candles <- read_csv(\"data/scented.csv\")", "", "candles_weekly <- candles %>% ", 
"    mutate(year=year(Date)) %>% ", "    mutate(week=week(Date)) %>% ", 
"  group_by(year, week) %>% ", "  summarize(avg_rating=mean(Rating, na.rm=T))", 
"", "candles_monthly <- candles %>% ", "    mutate(year=year(Date)) %>% ", 
"    mutate(month=month(Date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(avg_rating=mean(Rating, na.rm=T))", "", "scented_timeline_monthly1 <- candles %>% ", 
"  filter(Date>ymd(\"2020-01-21\")) %>% ", "  mutate(no_scent=case_when(", 
"    str_detect(Review, \"[Nn]o scent\") ~ 1, ", "    str_detect(Review, \"[Nn]o smell\") ~ 1,", 
"    str_detect(Review, \"[Dd]oes not smell like\") ~ 1,", "    str_detect(Review, \"[Dd]oesn't smell like\") ~ 1,", 
"    str_detect(Review, \"[Cc]an't smell\") ~ 1,", "    str_detect(Review, \"[Cc]annot smell\") ~ 1,", 
"    str_detect(Review, \"[Ff]aint smell\") ~ 1,", "    str_detect(Review, \"[Ff]aint scent\") ~ 1,", 
"    str_detect(Review, \"[Dd]on't smell\") ~ 1,", "    str_detect(Review, \"[Ll]ike nothing\") ~ 1,", 
"    TRUE ~ 0", "  ))", "", "", "scented_timeline_monthly2 <- scented_timeline_monthly1 %>% ", 
"  mutate(year=year(Date),", "         month=month(Date)) %>% ", 
"  # let's aggregate around year and month", "  group_by(year, month) %>% ", 
"  # we just need to add up the 1s in no_scent and count up the total reviews with n()", 
"  summarize(no_scent=sum(no_scent), reviews=n()) %>% ", "  # and do some math", 
"  mutate(percent=no_scent/reviews*100) %>% ", "  select(year, month, value=percent) %>% ", 
"  mutate(type=\"percent no smell\") %>% ", "  ungroup() %>% ", 
"  mutate(row=row_number())", "", "boston_salaries <- read_csv(\"https://www.andrewbatran.com/data/boston.csv\") %>% ", 
"  select(DEPARTMENT_NAME, TITLE, REGULAR, OTHER, OVERTIME, DETAIL, TOTAL_GROSS, POSTAL)", 
"", "set.seed(2022)", "", "boston16 <- boston_salaries %>% ", 
"  sample_n(16)", "", "covid <- read_csv(\"https://www.andrewbatran.com/data/covid.csv\")", 
"", "covid_long <- covid %>% ", "  pivot_longer(cols=12:ncol(covid), names_to=\"date\", values_to=\"cases\") %>% ", 
"  mutate(date=mdy(date)) %>% ", "  group_by(FIPS) %>% ", "  arrange(date) %>% ", 
"  # this is a way to create a value from the previous value (lagged)", 
"  mutate(positive = c(cases[1],diff(cases))) %>% ", "  group_by(date) %>% ", 
"  summarize(value=sum(positive, na.rm=T)) %>% ", "  mutate(type=\"Covid cases\")", 
"", "covid_long_monthly <- covid_long %>% ", "  mutate(year=year(date),", 
"         month=month(date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(value=sum(value, na.rm=T)/1000000) %>% ", "  mutate(type=\"Covid cases\") %>% ", 
"  ungroup() %>% ", "  mutate(row=row_number())", "", "monthly <- rbind(covid_long_monthly, scented_timeline_monthly2)", 
"", "monthly_wide <- monthly %>% ", "  pivot_wider(names_from=\"type\", values_from=\"value\") %>% ", 
"  filter(!is.na(`percent no smell`))"), chunk_opts = list(label = "setup", 
    include = FALSE)), setup = NULL, chunks = list(list(label = "glimpse", 
    code = "__(salaries_adjusted3)", opts = list(label = "\"glimpse\"", 
        exercise = "TRUE"), engine = "r")), code_check = NULL, 
    error_check = NULL, check = structure("grade_this_code()", chunk_opts = list(
        label = "glimpse-check")), solution = structure("st(salaries_adjusted3)", chunk_opts = list(
        label = "glimpse-solution")), tests = NULL, options = list(
        eval = FALSE, echo = TRUE, results = "markup", tidy = FALSE, 
        tidy.opts = NULL, collapse = FALSE, prompt = FALSE, comment = NA, 
        highlight = FALSE, size = "normalsize", background = "#F7F7F7", 
        strip.white = TRUE, cache = 0, cache.path = "class_4_a_stats_cache/html/", 
        cache.vars = NULL, cache.lazy = TRUE, dependson = NULL, 
        autodep = FALSE, cache.rebuild = FALSE, fig.keep = "high", 
        fig.show = "asis", fig.align = "default", fig.path = "class_4_a_stats_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = TRUE, error = FALSE, 
        message = TRUE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ..., \n    solution_eval_fn = NULL) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "glimpse", exercise = TRUE, code = "__(salaries_adjusted3)", 
        out.width.px = 624, out.height.px = 384, params.src = "glimpse, exercise=TRUE", 
        fig.num = 0, exercise.df_print = "paged"), engine = "r", 
    version = "4"), class = c("r", "tutorial_exercise")))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-summary-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-summary-code-editor`)), session)
output$`tutorial-exercise-summary-output` <- renderUI({
  `tutorial-exercise-summary-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(label = "summary", global_setup = structure(c("packages <- c(\"tidyverse\", \"lubridate\", \"rvest\", \"httr\", \"remotes\",", 
"            \"vtable\", \"tidymodels\")", "if (length(setdiff(packages, rownames(installed.packages()))) > 0) {", 
"  install.packages(setdiff(packages, rownames(installed.packages())), repos = \"https://cran.us.r-project.org\")  ", 
"}", "", "#remotes::install_github(\"rstudio/gradethis\", upgrade=\"always\", quiet=TRUE)", 
"#remotes::install_github(\"rstudio/learnr\", upgrade=\"always\", quiet=TRUE)", 
"", "library(tidyverse)", "library(learnr)", "library(gradethis)", 
"library(tidymodels)", "library(vtable)", "library(lubridate)", 
"library(knitr)", "", "salaries = read_csv(\"https://www.andrewbatran.com/data/salary_data.csv\")", 
"", "salaries_adjusted1 <-  salaries %>%", "  # Age brackets", 
"  mutate(age_bin = case_when(", "    age < 25 ~ 1, #Below age 25 ", 
"    age >= 25 & age < 35 ~ 2, #Age 25-34 ", "    age >= 35 & age < 45 ~ 3, #Age 25-34 ", 
"    age >= 45 & age < 55 ~ 4, #Age 25-34 ", "    age >= 55 ~ 5, #Age 25-34 ", 
"  ))", "", "", "salaries_adjusted2 <- salaries_adjusted1 %>% ", 
"  # Total compensation", "  mutate(total_pay = basePay + bonus) %>%", 
"  # Log of compensation", "  mutate(log_base = log(basePay, base = exp(1)),", 
"         log_total = log(total_pay, base = exp(1)),", "         # Adds 1 to allow for log of 0 bonus values.", 
"         log_bonus = log(bonus + 1, base = exp(1)))", "", "salaries_adjusted3 <- salaries_adjusted2 %>%", 
"  # Make flags", "  mutate(male = case_when(", "    gender==\"Male\" ~ 1,", 
"    TRUE ~ 0", "  ))", "", "# No controls. (\"unadjusted\" pay gap.)", 
"lm_gender <- lm(log_base ~ gender, data = salaries_adjusted3)", 
"", "# Adding \"human capital\" controls (performance evals, age and education).", 
"lm_humancapital <- lm(log_base ~ gender + perfEval + age_bin + edu, data = salaries_adjusted3)", 
"", "# Adding all controls. (\"adjusted\" pay gap.)", "lm_allcontrols <- lm(log_base ~ gender + perfEval + age_bin + edu + dept + seniority + jobTitle, data = salaries_adjusted3)", 
"", "", "candles <- read_csv(\"data/scented.csv\")", "", "candles_weekly <- candles %>% ", 
"    mutate(year=year(Date)) %>% ", "    mutate(week=week(Date)) %>% ", 
"  group_by(year, week) %>% ", "  summarize(avg_rating=mean(Rating, na.rm=T))", 
"", "candles_monthly <- candles %>% ", "    mutate(year=year(Date)) %>% ", 
"    mutate(month=month(Date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(avg_rating=mean(Rating, na.rm=T))", "", "scented_timeline_monthly1 <- candles %>% ", 
"  filter(Date>ymd(\"2020-01-21\")) %>% ", "  mutate(no_scent=case_when(", 
"    str_detect(Review, \"[Nn]o scent\") ~ 1, ", "    str_detect(Review, \"[Nn]o smell\") ~ 1,", 
"    str_detect(Review, \"[Dd]oes not smell like\") ~ 1,", "    str_detect(Review, \"[Dd]oesn't smell like\") ~ 1,", 
"    str_detect(Review, \"[Cc]an't smell\") ~ 1,", "    str_detect(Review, \"[Cc]annot smell\") ~ 1,", 
"    str_detect(Review, \"[Ff]aint smell\") ~ 1,", "    str_detect(Review, \"[Ff]aint scent\") ~ 1,", 
"    str_detect(Review, \"[Dd]on't smell\") ~ 1,", "    str_detect(Review, \"[Ll]ike nothing\") ~ 1,", 
"    TRUE ~ 0", "  ))", "", "", "scented_timeline_monthly2 <- scented_timeline_monthly1 %>% ", 
"  mutate(year=year(Date),", "         month=month(Date)) %>% ", 
"  # let's aggregate around year and month", "  group_by(year, month) %>% ", 
"  # we just need to add up the 1s in no_scent and count up the total reviews with n()", 
"  summarize(no_scent=sum(no_scent), reviews=n()) %>% ", "  # and do some math", 
"  mutate(percent=no_scent/reviews*100) %>% ", "  select(year, month, value=percent) %>% ", 
"  mutate(type=\"percent no smell\") %>% ", "  ungroup() %>% ", 
"  mutate(row=row_number())", "", "boston_salaries <- read_csv(\"https://www.andrewbatran.com/data/boston.csv\") %>% ", 
"  select(DEPARTMENT_NAME, TITLE, REGULAR, OTHER, OVERTIME, DETAIL, TOTAL_GROSS, POSTAL)", 
"", "set.seed(2022)", "", "boston16 <- boston_salaries %>% ", 
"  sample_n(16)", "", "covid <- read_csv(\"https://www.andrewbatran.com/data/covid.csv\")", 
"", "covid_long <- covid %>% ", "  pivot_longer(cols=12:ncol(covid), names_to=\"date\", values_to=\"cases\") %>% ", 
"  mutate(date=mdy(date)) %>% ", "  group_by(FIPS) %>% ", "  arrange(date) %>% ", 
"  # this is a way to create a value from the previous value (lagged)", 
"  mutate(positive = c(cases[1],diff(cases))) %>% ", "  group_by(date) %>% ", 
"  summarize(value=sum(positive, na.rm=T)) %>% ", "  mutate(type=\"Covid cases\")", 
"", "covid_long_monthly <- covid_long %>% ", "  mutate(year=year(date),", 
"         month=month(date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(value=sum(value, na.rm=T)/1000000) %>% ", "  mutate(type=\"Covid cases\") %>% ", 
"  ungroup() %>% ", "  mutate(row=row_number())", "", "monthly <- rbind(covid_long_monthly, scented_timeline_monthly2)", 
"", "monthly_wide <- monthly %>% ", "  pivot_wider(names_from=\"type\", values_from=\"value\") %>% ", 
"  filter(!is.na(`percent no smell`))"), chunk_opts = list(label = "setup", 
    include = FALSE)), setup = NULL, chunks = list(list(label = "summary", 
    code = "summary_base <- salaries_adjusted3 %>% \n  group_by(______) %>% \n  summarise(meanBasePay = _____(basePay, na.rm = TRUE),\n            medianBasePay = ______(basePay, na.rm = TRUE),\n            employees = n())\n\nsummary_base", 
    opts = list(label = "\"summary\"", exercise = "TRUE"), engine = "r")), 
    code_check = NULL, error_check = NULL, check = structure("grade_this_code()", chunk_opts = list(
        label = "summary-check")), solution = structure(c("summary_base <- salaries_adjusted3 %>% ", 
    "  group_by(gender) %>% ", "  summarise(meanBasePay = mean(basePay, na.rm = TRUE),", 
    "            medianBasePay = median(basePay, na.rm = TRUE),", 
    "            employees = n())", "", "summary_base"), chunk_opts = list(
        label = "summary-solution")), tests = NULL, options = list(
        eval = FALSE, echo = TRUE, results = "markup", tidy = FALSE, 
        tidy.opts = NULL, collapse = FALSE, prompt = FALSE, comment = NA, 
        highlight = FALSE, size = "normalsize", background = "#F7F7F7", 
        strip.white = TRUE, cache = 0, cache.path = "class_4_a_stats_cache/html/", 
        cache.vars = NULL, cache.lazy = TRUE, dependson = NULL, 
        autodep = FALSE, cache.rebuild = FALSE, fig.keep = "high", 
        fig.show = "asis", fig.align = "default", fig.path = "class_4_a_stats_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = TRUE, error = FALSE, 
        message = TRUE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ..., \n    solution_eval_fn = NULL) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "summary", exercise = TRUE, code = c("summary_base <- salaries_adjusted3 %>% ", 
        "  group_by(______) %>% ", "  summarise(meanBasePay = _____(basePay, na.rm = TRUE),", 
        "            medianBasePay = ______(basePay, na.rm = TRUE),", 
        "            employees = n())", "", "summary_base"), 
        out.width.px = 624, out.height.px = 384, params.src = "summary, exercise=TRUE", 
        fig.num = 0, exercise.df_print = "paged"), engine = "r", 
    version = "4"), class = c("r", "tutorial_exercise")))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-star-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-star-code-editor`)), session)
output$`tutorial-exercise-star-output` <- renderUI({
  `tutorial-exercise-star-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(label = "star", global_setup = structure(c("packages <- c(\"tidyverse\", \"lubridate\", \"rvest\", \"httr\", \"remotes\",", 
"            \"vtable\", \"tidymodels\")", "if (length(setdiff(packages, rownames(installed.packages()))) > 0) {", 
"  install.packages(setdiff(packages, rownames(installed.packages())), repos = \"https://cran.us.r-project.org\")  ", 
"}", "", "#remotes::install_github(\"rstudio/gradethis\", upgrade=\"always\", quiet=TRUE)", 
"#remotes::install_github(\"rstudio/learnr\", upgrade=\"always\", quiet=TRUE)", 
"", "library(tidyverse)", "library(learnr)", "library(gradethis)", 
"library(tidymodels)", "library(vtable)", "library(lubridate)", 
"library(knitr)", "", "salaries = read_csv(\"https://www.andrewbatran.com/data/salary_data.csv\")", 
"", "salaries_adjusted1 <-  salaries %>%", "  # Age brackets", 
"  mutate(age_bin = case_when(", "    age < 25 ~ 1, #Below age 25 ", 
"    age >= 25 & age < 35 ~ 2, #Age 25-34 ", "    age >= 35 & age < 45 ~ 3, #Age 25-34 ", 
"    age >= 45 & age < 55 ~ 4, #Age 25-34 ", "    age >= 55 ~ 5, #Age 25-34 ", 
"  ))", "", "", "salaries_adjusted2 <- salaries_adjusted1 %>% ", 
"  # Total compensation", "  mutate(total_pay = basePay + bonus) %>%", 
"  # Log of compensation", "  mutate(log_base = log(basePay, base = exp(1)),", 
"         log_total = log(total_pay, base = exp(1)),", "         # Adds 1 to allow for log of 0 bonus values.", 
"         log_bonus = log(bonus + 1, base = exp(1)))", "", "salaries_adjusted3 <- salaries_adjusted2 %>%", 
"  # Make flags", "  mutate(male = case_when(", "    gender==\"Male\" ~ 1,", 
"    TRUE ~ 0", "  ))", "", "# No controls. (\"unadjusted\" pay gap.)", 
"lm_gender <- lm(log_base ~ gender, data = salaries_adjusted3)", 
"", "# Adding \"human capital\" controls (performance evals, age and education).", 
"lm_humancapital <- lm(log_base ~ gender + perfEval + age_bin + edu, data = salaries_adjusted3)", 
"", "# Adding all controls. (\"adjusted\" pay gap.)", "lm_allcontrols <- lm(log_base ~ gender + perfEval + age_bin + edu + dept + seniority + jobTitle, data = salaries_adjusted3)", 
"", "", "candles <- read_csv(\"data/scented.csv\")", "", "candles_weekly <- candles %>% ", 
"    mutate(year=year(Date)) %>% ", "    mutate(week=week(Date)) %>% ", 
"  group_by(year, week) %>% ", "  summarize(avg_rating=mean(Rating, na.rm=T))", 
"", "candles_monthly <- candles %>% ", "    mutate(year=year(Date)) %>% ", 
"    mutate(month=month(Date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(avg_rating=mean(Rating, na.rm=T))", "", "scented_timeline_monthly1 <- candles %>% ", 
"  filter(Date>ymd(\"2020-01-21\")) %>% ", "  mutate(no_scent=case_when(", 
"    str_detect(Review, \"[Nn]o scent\") ~ 1, ", "    str_detect(Review, \"[Nn]o smell\") ~ 1,", 
"    str_detect(Review, \"[Dd]oes not smell like\") ~ 1,", "    str_detect(Review, \"[Dd]oesn't smell like\") ~ 1,", 
"    str_detect(Review, \"[Cc]an't smell\") ~ 1,", "    str_detect(Review, \"[Cc]annot smell\") ~ 1,", 
"    str_detect(Review, \"[Ff]aint smell\") ~ 1,", "    str_detect(Review, \"[Ff]aint scent\") ~ 1,", 
"    str_detect(Review, \"[Dd]on't smell\") ~ 1,", "    str_detect(Review, \"[Ll]ike nothing\") ~ 1,", 
"    TRUE ~ 0", "  ))", "", "", "scented_timeline_monthly2 <- scented_timeline_monthly1 %>% ", 
"  mutate(year=year(Date),", "         month=month(Date)) %>% ", 
"  # let's aggregate around year and month", "  group_by(year, month) %>% ", 
"  # we just need to add up the 1s in no_scent and count up the total reviews with n()", 
"  summarize(no_scent=sum(no_scent), reviews=n()) %>% ", "  # and do some math", 
"  mutate(percent=no_scent/reviews*100) %>% ", "  select(year, month, value=percent) %>% ", 
"  mutate(type=\"percent no smell\") %>% ", "  ungroup() %>% ", 
"  mutate(row=row_number())", "", "boston_salaries <- read_csv(\"https://www.andrewbatran.com/data/boston.csv\") %>% ", 
"  select(DEPARTMENT_NAME, TITLE, REGULAR, OTHER, OVERTIME, DETAIL, TOTAL_GROSS, POSTAL)", 
"", "set.seed(2022)", "", "boston16 <- boston_salaries %>% ", 
"  sample_n(16)", "", "covid <- read_csv(\"https://www.andrewbatran.com/data/covid.csv\")", 
"", "covid_long <- covid %>% ", "  pivot_longer(cols=12:ncol(covid), names_to=\"date\", values_to=\"cases\") %>% ", 
"  mutate(date=mdy(date)) %>% ", "  group_by(FIPS) %>% ", "  arrange(date) %>% ", 
"  # this is a way to create a value from the previous value (lagged)", 
"  mutate(positive = c(cases[1],diff(cases))) %>% ", "  group_by(date) %>% ", 
"  summarize(value=sum(positive, na.rm=T)) %>% ", "  mutate(type=\"Covid cases\")", 
"", "covid_long_monthly <- covid_long %>% ", "  mutate(year=year(date),", 
"         month=month(date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(value=sum(value, na.rm=T)/1000000) %>% ", "  mutate(type=\"Covid cases\") %>% ", 
"  ungroup() %>% ", "  mutate(row=row_number())", "", "monthly <- rbind(covid_long_monthly, scented_timeline_monthly2)", 
"", "monthly_wide <- monthly %>% ", "  pivot_wider(names_from=\"type\", values_from=\"value\") %>% ", 
"  filter(!is.na(`percent no smell`))"), chunk_opts = list(label = "setup", 
    include = FALSE)), setup = NULL, chunks = list(list(label = "star", 
    code = "# No controls. (\"unadjusted\" pay gap.)\nlm_gender <- lm(________ ~ ______, data = salaries_adjusted3)\n\n_______(lm_gender)", 
    opts = list(label = "\"star\"", exercise = "TRUE"), engine = "r")), 
    code_check = NULL, error_check = NULL, check = structure("grade_this_code()", chunk_opts = list(
        label = "star-check")), solution = structure(c("# No controls. (\"unadjusted\" pay gap.)", 
    "lm_gender <- lm(log_base ~ gender, data = salaries_adjusted3)", 
    "", "summary(lm_gender)"), chunk_opts = list(label = "star-solution")), 
    tests = NULL, options = list(eval = FALSE, echo = TRUE, results = "markup", 
        tidy = FALSE, tidy.opts = NULL, collapse = FALSE, prompt = FALSE, 
        comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "class_4_a_stats_cache/html/", cache.vars = NULL, 
        cache.lazy = TRUE, dependson = NULL, autodep = FALSE, 
        cache.rebuild = FALSE, fig.keep = "high", fig.show = "asis", 
        fig.align = "default", fig.path = "class_4_a_stats_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = TRUE, error = FALSE, 
        message = TRUE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ..., \n    solution_eval_fn = NULL) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "star", exercise = TRUE, code = c("# No controls. (\"unadjusted\" pay gap.)", 
        "lm_gender <- lm(________ ~ ______, data = salaries_adjusted3)", 
        "", "_______(lm_gender)"), out.width.px = 624, out.height.px = 384, 
        params.src = "star, exercise=TRUE", fig.num = 0, exercise.df_print = "paged"), 
    engine = "r", version = "4"), class = c("r", "tutorial_exercise"
)))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-star2-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-star2-code-editor`)), session)
output$`tutorial-exercise-star2-output` <- renderUI({
  `tutorial-exercise-star2-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(label = "star2", global_setup = structure(c("packages <- c(\"tidyverse\", \"lubridate\", \"rvest\", \"httr\", \"remotes\",", 
"            \"vtable\", \"tidymodels\")", "if (length(setdiff(packages, rownames(installed.packages()))) > 0) {", 
"  install.packages(setdiff(packages, rownames(installed.packages())), repos = \"https://cran.us.r-project.org\")  ", 
"}", "", "#remotes::install_github(\"rstudio/gradethis\", upgrade=\"always\", quiet=TRUE)", 
"#remotes::install_github(\"rstudio/learnr\", upgrade=\"always\", quiet=TRUE)", 
"", "library(tidyverse)", "library(learnr)", "library(gradethis)", 
"library(tidymodels)", "library(vtable)", "library(lubridate)", 
"library(knitr)", "", "salaries = read_csv(\"https://www.andrewbatran.com/data/salary_data.csv\")", 
"", "salaries_adjusted1 <-  salaries %>%", "  # Age brackets", 
"  mutate(age_bin = case_when(", "    age < 25 ~ 1, #Below age 25 ", 
"    age >= 25 & age < 35 ~ 2, #Age 25-34 ", "    age >= 35 & age < 45 ~ 3, #Age 25-34 ", 
"    age >= 45 & age < 55 ~ 4, #Age 25-34 ", "    age >= 55 ~ 5, #Age 25-34 ", 
"  ))", "", "", "salaries_adjusted2 <- salaries_adjusted1 %>% ", 
"  # Total compensation", "  mutate(total_pay = basePay + bonus) %>%", 
"  # Log of compensation", "  mutate(log_base = log(basePay, base = exp(1)),", 
"         log_total = log(total_pay, base = exp(1)),", "         # Adds 1 to allow for log of 0 bonus values.", 
"         log_bonus = log(bonus + 1, base = exp(1)))", "", "salaries_adjusted3 <- salaries_adjusted2 %>%", 
"  # Make flags", "  mutate(male = case_when(", "    gender==\"Male\" ~ 1,", 
"    TRUE ~ 0", "  ))", "", "# No controls. (\"unadjusted\" pay gap.)", 
"lm_gender <- lm(log_base ~ gender, data = salaries_adjusted3)", 
"", "# Adding \"human capital\" controls (performance evals, age and education).", 
"lm_humancapital <- lm(log_base ~ gender + perfEval + age_bin + edu, data = salaries_adjusted3)", 
"", "# Adding all controls. (\"adjusted\" pay gap.)", "lm_allcontrols <- lm(log_base ~ gender + perfEval + age_bin + edu + dept + seniority + jobTitle, data = salaries_adjusted3)", 
"", "", "candles <- read_csv(\"data/scented.csv\")", "", "candles_weekly <- candles %>% ", 
"    mutate(year=year(Date)) %>% ", "    mutate(week=week(Date)) %>% ", 
"  group_by(year, week) %>% ", "  summarize(avg_rating=mean(Rating, na.rm=T))", 
"", "candles_monthly <- candles %>% ", "    mutate(year=year(Date)) %>% ", 
"    mutate(month=month(Date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(avg_rating=mean(Rating, na.rm=T))", "", "scented_timeline_monthly1 <- candles %>% ", 
"  filter(Date>ymd(\"2020-01-21\")) %>% ", "  mutate(no_scent=case_when(", 
"    str_detect(Review, \"[Nn]o scent\") ~ 1, ", "    str_detect(Review, \"[Nn]o smell\") ~ 1,", 
"    str_detect(Review, \"[Dd]oes not smell like\") ~ 1,", "    str_detect(Review, \"[Dd]oesn't smell like\") ~ 1,", 
"    str_detect(Review, \"[Cc]an't smell\") ~ 1,", "    str_detect(Review, \"[Cc]annot smell\") ~ 1,", 
"    str_detect(Review, \"[Ff]aint smell\") ~ 1,", "    str_detect(Review, \"[Ff]aint scent\") ~ 1,", 
"    str_detect(Review, \"[Dd]on't smell\") ~ 1,", "    str_detect(Review, \"[Ll]ike nothing\") ~ 1,", 
"    TRUE ~ 0", "  ))", "", "", "scented_timeline_monthly2 <- scented_timeline_monthly1 %>% ", 
"  mutate(year=year(Date),", "         month=month(Date)) %>% ", 
"  # let's aggregate around year and month", "  group_by(year, month) %>% ", 
"  # we just need to add up the 1s in no_scent and count up the total reviews with n()", 
"  summarize(no_scent=sum(no_scent), reviews=n()) %>% ", "  # and do some math", 
"  mutate(percent=no_scent/reviews*100) %>% ", "  select(year, month, value=percent) %>% ", 
"  mutate(type=\"percent no smell\") %>% ", "  ungroup() %>% ", 
"  mutate(row=row_number())", "", "boston_salaries <- read_csv(\"https://www.andrewbatran.com/data/boston.csv\") %>% ", 
"  select(DEPARTMENT_NAME, TITLE, REGULAR, OTHER, OVERTIME, DETAIL, TOTAL_GROSS, POSTAL)", 
"", "set.seed(2022)", "", "boston16 <- boston_salaries %>% ", 
"  sample_n(16)", "", "covid <- read_csv(\"https://www.andrewbatran.com/data/covid.csv\")", 
"", "covid_long <- covid %>% ", "  pivot_longer(cols=12:ncol(covid), names_to=\"date\", values_to=\"cases\") %>% ", 
"  mutate(date=mdy(date)) %>% ", "  group_by(FIPS) %>% ", "  arrange(date) %>% ", 
"  # this is a way to create a value from the previous value (lagged)", 
"  mutate(positive = c(cases[1],diff(cases))) %>% ", "  group_by(date) %>% ", 
"  summarize(value=sum(positive, na.rm=T)) %>% ", "  mutate(type=\"Covid cases\")", 
"", "covid_long_monthly <- covid_long %>% ", "  mutate(year=year(date),", 
"         month=month(date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(value=sum(value, na.rm=T)/1000000) %>% ", "  mutate(type=\"Covid cases\") %>% ", 
"  ungroup() %>% ", "  mutate(row=row_number())", "", "monthly <- rbind(covid_long_monthly, scented_timeline_monthly2)", 
"", "monthly_wide <- monthly %>% ", "  pivot_wider(names_from=\"type\", values_from=\"value\") %>% ", 
"  filter(!is.na(`percent no smell`))"), chunk_opts = list(label = "setup", 
    include = FALSE)), setup = NULL, chunks = list(list(label = "star2", 
    code = "# Adding \"human capital\" controls (performance evals, age and education).\nlm_humancapital <- lm(log_base ~ gender + ________ + _______ + ___, data = salaries_adjusted3)\n\nsummary(lm_humancapital)", 
    opts = list(label = "\"star2\"", exercise = "TRUE"), engine = "r")), 
    code_check = NULL, error_check = NULL, check = structure("grade_this_code()", chunk_opts = list(
        label = "star2-check")), solution = structure(c("# Adding \"human capital\" controls (performance evals, age and education).", 
    "lm_humancapital <- lm(log_base ~ gender + perfEval + age_bin + edu, data = salaries_adjusted3)", 
    "", "summary(lm_humancapital)"), chunk_opts = list(label = "star2-solution")), 
    tests = NULL, options = list(eval = FALSE, echo = TRUE, results = "markup", 
        tidy = FALSE, tidy.opts = NULL, collapse = FALSE, prompt = FALSE, 
        comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "class_4_a_stats_cache/html/", cache.vars = NULL, 
        cache.lazy = TRUE, dependson = NULL, autodep = FALSE, 
        cache.rebuild = FALSE, fig.keep = "high", fig.show = "asis", 
        fig.align = "default", fig.path = "class_4_a_stats_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = TRUE, error = FALSE, 
        message = TRUE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ..., \n    solution_eval_fn = NULL) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "star2", exercise = TRUE, code = c("# Adding \"human capital\" controls (performance evals, age and education).", 
        "lm_humancapital <- lm(log_base ~ gender + ________ + _______ + ___, data = salaries_adjusted3)", 
        "", "summary(lm_humancapital)"), out.width.px = 624, 
        out.height.px = 384, params.src = "star2, exercise=TRUE", 
        fig.num = 0, exercise.df_print = "paged"), engine = "r", 
    version = "4"), class = c("r", "tutorial_exercise")))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-star3-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-star3-code-editor`)), session)
output$`tutorial-exercise-star3-output` <- renderUI({
  `tutorial-exercise-star3-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(label = "star3", global_setup = structure(c("packages <- c(\"tidyverse\", \"lubridate\", \"rvest\", \"httr\", \"remotes\",", 
"            \"vtable\", \"tidymodels\")", "if (length(setdiff(packages, rownames(installed.packages()))) > 0) {", 
"  install.packages(setdiff(packages, rownames(installed.packages())), repos = \"https://cran.us.r-project.org\")  ", 
"}", "", "#remotes::install_github(\"rstudio/gradethis\", upgrade=\"always\", quiet=TRUE)", 
"#remotes::install_github(\"rstudio/learnr\", upgrade=\"always\", quiet=TRUE)", 
"", "library(tidyverse)", "library(learnr)", "library(gradethis)", 
"library(tidymodels)", "library(vtable)", "library(lubridate)", 
"library(knitr)", "", "salaries = read_csv(\"https://www.andrewbatran.com/data/salary_data.csv\")", 
"", "salaries_adjusted1 <-  salaries %>%", "  # Age brackets", 
"  mutate(age_bin = case_when(", "    age < 25 ~ 1, #Below age 25 ", 
"    age >= 25 & age < 35 ~ 2, #Age 25-34 ", "    age >= 35 & age < 45 ~ 3, #Age 25-34 ", 
"    age >= 45 & age < 55 ~ 4, #Age 25-34 ", "    age >= 55 ~ 5, #Age 25-34 ", 
"  ))", "", "", "salaries_adjusted2 <- salaries_adjusted1 %>% ", 
"  # Total compensation", "  mutate(total_pay = basePay + bonus) %>%", 
"  # Log of compensation", "  mutate(log_base = log(basePay, base = exp(1)),", 
"         log_total = log(total_pay, base = exp(1)),", "         # Adds 1 to allow for log of 0 bonus values.", 
"         log_bonus = log(bonus + 1, base = exp(1)))", "", "salaries_adjusted3 <- salaries_adjusted2 %>%", 
"  # Make flags", "  mutate(male = case_when(", "    gender==\"Male\" ~ 1,", 
"    TRUE ~ 0", "  ))", "", "# No controls. (\"unadjusted\" pay gap.)", 
"lm_gender <- lm(log_base ~ gender, data = salaries_adjusted3)", 
"", "# Adding \"human capital\" controls (performance evals, age and education).", 
"lm_humancapital <- lm(log_base ~ gender + perfEval + age_bin + edu, data = salaries_adjusted3)", 
"", "# Adding all controls. (\"adjusted\" pay gap.)", "lm_allcontrols <- lm(log_base ~ gender + perfEval + age_bin + edu + dept + seniority + jobTitle, data = salaries_adjusted3)", 
"", "", "candles <- read_csv(\"data/scented.csv\")", "", "candles_weekly <- candles %>% ", 
"    mutate(year=year(Date)) %>% ", "    mutate(week=week(Date)) %>% ", 
"  group_by(year, week) %>% ", "  summarize(avg_rating=mean(Rating, na.rm=T))", 
"", "candles_monthly <- candles %>% ", "    mutate(year=year(Date)) %>% ", 
"    mutate(month=month(Date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(avg_rating=mean(Rating, na.rm=T))", "", "scented_timeline_monthly1 <- candles %>% ", 
"  filter(Date>ymd(\"2020-01-21\")) %>% ", "  mutate(no_scent=case_when(", 
"    str_detect(Review, \"[Nn]o scent\") ~ 1, ", "    str_detect(Review, \"[Nn]o smell\") ~ 1,", 
"    str_detect(Review, \"[Dd]oes not smell like\") ~ 1,", "    str_detect(Review, \"[Dd]oesn't smell like\") ~ 1,", 
"    str_detect(Review, \"[Cc]an't smell\") ~ 1,", "    str_detect(Review, \"[Cc]annot smell\") ~ 1,", 
"    str_detect(Review, \"[Ff]aint smell\") ~ 1,", "    str_detect(Review, \"[Ff]aint scent\") ~ 1,", 
"    str_detect(Review, \"[Dd]on't smell\") ~ 1,", "    str_detect(Review, \"[Ll]ike nothing\") ~ 1,", 
"    TRUE ~ 0", "  ))", "", "", "scented_timeline_monthly2 <- scented_timeline_monthly1 %>% ", 
"  mutate(year=year(Date),", "         month=month(Date)) %>% ", 
"  # let's aggregate around year and month", "  group_by(year, month) %>% ", 
"  # we just need to add up the 1s in no_scent and count up the total reviews with n()", 
"  summarize(no_scent=sum(no_scent), reviews=n()) %>% ", "  # and do some math", 
"  mutate(percent=no_scent/reviews*100) %>% ", "  select(year, month, value=percent) %>% ", 
"  mutate(type=\"percent no smell\") %>% ", "  ungroup() %>% ", 
"  mutate(row=row_number())", "", "boston_salaries <- read_csv(\"https://www.andrewbatran.com/data/boston.csv\") %>% ", 
"  select(DEPARTMENT_NAME, TITLE, REGULAR, OTHER, OVERTIME, DETAIL, TOTAL_GROSS, POSTAL)", 
"", "set.seed(2022)", "", "boston16 <- boston_salaries %>% ", 
"  sample_n(16)", "", "covid <- read_csv(\"https://www.andrewbatran.com/data/covid.csv\")", 
"", "covid_long <- covid %>% ", "  pivot_longer(cols=12:ncol(covid), names_to=\"date\", values_to=\"cases\") %>% ", 
"  mutate(date=mdy(date)) %>% ", "  group_by(FIPS) %>% ", "  arrange(date) %>% ", 
"  # this is a way to create a value from the previous value (lagged)", 
"  mutate(positive = c(cases[1],diff(cases))) %>% ", "  group_by(date) %>% ", 
"  summarize(value=sum(positive, na.rm=T)) %>% ", "  mutate(type=\"Covid cases\")", 
"", "covid_long_monthly <- covid_long %>% ", "  mutate(year=year(date),", 
"         month=month(date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(value=sum(value, na.rm=T)/1000000) %>% ", "  mutate(type=\"Covid cases\") %>% ", 
"  ungroup() %>% ", "  mutate(row=row_number())", "", "monthly <- rbind(covid_long_monthly, scented_timeline_monthly2)", 
"", "monthly_wide <- monthly %>% ", "  pivot_wider(names_from=\"type\", values_from=\"value\") %>% ", 
"  filter(!is.na(`percent no smell`))"), chunk_opts = list(label = "setup", 
    include = FALSE)), setup = NULL, chunks = list(list(label = "star3", 
    code = "# Adding all controls. (\"adjusted\" pay gap.)\nlm_allcontrols <- lm(log_base ~ ______ + ________ + _______ + ___ + \n                       ____ + _________ + ________, \n                     data = salaries_adjusted3)\n\nsummary(lm_allcontrols)", 
    opts = list(label = "\"star3\"", exercise = "TRUE"), engine = "r")), 
    code_check = NULL, error_check = NULL, check = structure("grade_this_code()", chunk_opts = list(
        label = "star3-check")), solution = structure(c("# Adding \"human capital\" controls (performance evals, age and education).", 
    "lm_allcontrols <- lm(log_base ~ gender + perfEval + age_bin + edu + dept + seniority + jobTitle, data = salaries_adjusted3)", 
    "", "summary(lm_allcontrols)"), chunk_opts = list(label = "star3-solution")), 
    tests = NULL, options = list(eval = FALSE, echo = TRUE, results = "markup", 
        tidy = FALSE, tidy.opts = NULL, collapse = FALSE, prompt = FALSE, 
        comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "class_4_a_stats_cache/html/", cache.vars = NULL, 
        cache.lazy = TRUE, dependson = NULL, autodep = FALSE, 
        cache.rebuild = FALSE, fig.keep = "high", fig.show = "asis", 
        fig.align = "default", fig.path = "class_4_a_stats_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = TRUE, error = FALSE, 
        message = TRUE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ..., \n    solution_eval_fn = NULL) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "star3", exercise = TRUE, code = c("# Adding all controls. (\"adjusted\" pay gap.)", 
        "lm_allcontrols <- lm(log_base ~ ______ + ________ + _______ + ___ + ", 
        "                       ____ + _________ + ________, ", 
        "                     data = salaries_adjusted3)", "", 
        "summary(lm_allcontrols)"), out.width.px = 624, out.height.px = 384, 
        params.src = "star3, exercise=TRUE", fig.num = 0, exercise.df_print = "paged"), 
    engine = "r", version = "4"), class = c("r", "tutorial_exercise"
)))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-job_titles-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-job_titles-code-editor`)), session)
output$`tutorial-exercise-job_titles-output` <- renderUI({
  `tutorial-exercise-job_titles-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(label = "job_titles", global_setup = structure(c("packages <- c(\"tidyverse\", \"lubridate\", \"rvest\", \"httr\", \"remotes\",", 
"            \"vtable\", \"tidymodels\")", "if (length(setdiff(packages, rownames(installed.packages()))) > 0) {", 
"  install.packages(setdiff(packages, rownames(installed.packages())), repos = \"https://cran.us.r-project.org\")  ", 
"}", "", "#remotes::install_github(\"rstudio/gradethis\", upgrade=\"always\", quiet=TRUE)", 
"#remotes::install_github(\"rstudio/learnr\", upgrade=\"always\", quiet=TRUE)", 
"", "library(tidyverse)", "library(learnr)", "library(gradethis)", 
"library(tidymodels)", "library(vtable)", "library(lubridate)", 
"library(knitr)", "", "salaries = read_csv(\"https://www.andrewbatran.com/data/salary_data.csv\")", 
"", "salaries_adjusted1 <-  salaries %>%", "  # Age brackets", 
"  mutate(age_bin = case_when(", "    age < 25 ~ 1, #Below age 25 ", 
"    age >= 25 & age < 35 ~ 2, #Age 25-34 ", "    age >= 35 & age < 45 ~ 3, #Age 25-34 ", 
"    age >= 45 & age < 55 ~ 4, #Age 25-34 ", "    age >= 55 ~ 5, #Age 25-34 ", 
"  ))", "", "", "salaries_adjusted2 <- salaries_adjusted1 %>% ", 
"  # Total compensation", "  mutate(total_pay = basePay + bonus) %>%", 
"  # Log of compensation", "  mutate(log_base = log(basePay, base = exp(1)),", 
"         log_total = log(total_pay, base = exp(1)),", "         # Adds 1 to allow for log of 0 bonus values.", 
"         log_bonus = log(bonus + 1, base = exp(1)))", "", "salaries_adjusted3 <- salaries_adjusted2 %>%", 
"  # Make flags", "  mutate(male = case_when(", "    gender==\"Male\" ~ 1,", 
"    TRUE ~ 0", "  ))", "", "# No controls. (\"unadjusted\" pay gap.)", 
"lm_gender <- lm(log_base ~ gender, data = salaries_adjusted3)", 
"", "# Adding \"human capital\" controls (performance evals, age and education).", 
"lm_humancapital <- lm(log_base ~ gender + perfEval + age_bin + edu, data = salaries_adjusted3)", 
"", "# Adding all controls. (\"adjusted\" pay gap.)", "lm_allcontrols <- lm(log_base ~ gender + perfEval + age_bin + edu + dept + seniority + jobTitle, data = salaries_adjusted3)", 
"", "", "candles <- read_csv(\"data/scented.csv\")", "", "candles_weekly <- candles %>% ", 
"    mutate(year=year(Date)) %>% ", "    mutate(week=week(Date)) %>% ", 
"  group_by(year, week) %>% ", "  summarize(avg_rating=mean(Rating, na.rm=T))", 
"", "candles_monthly <- candles %>% ", "    mutate(year=year(Date)) %>% ", 
"    mutate(month=month(Date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(avg_rating=mean(Rating, na.rm=T))", "", "scented_timeline_monthly1 <- candles %>% ", 
"  filter(Date>ymd(\"2020-01-21\")) %>% ", "  mutate(no_scent=case_when(", 
"    str_detect(Review, \"[Nn]o scent\") ~ 1, ", "    str_detect(Review, \"[Nn]o smell\") ~ 1,", 
"    str_detect(Review, \"[Dd]oes not smell like\") ~ 1,", "    str_detect(Review, \"[Dd]oesn't smell like\") ~ 1,", 
"    str_detect(Review, \"[Cc]an't smell\") ~ 1,", "    str_detect(Review, \"[Cc]annot smell\") ~ 1,", 
"    str_detect(Review, \"[Ff]aint smell\") ~ 1,", "    str_detect(Review, \"[Ff]aint scent\") ~ 1,", 
"    str_detect(Review, \"[Dd]on't smell\") ~ 1,", "    str_detect(Review, \"[Ll]ike nothing\") ~ 1,", 
"    TRUE ~ 0", "  ))", "", "", "scented_timeline_monthly2 <- scented_timeline_monthly1 %>% ", 
"  mutate(year=year(Date),", "         month=month(Date)) %>% ", 
"  # let's aggregate around year and month", "  group_by(year, month) %>% ", 
"  # we just need to add up the 1s in no_scent and count up the total reviews with n()", 
"  summarize(no_scent=sum(no_scent), reviews=n()) %>% ", "  # and do some math", 
"  mutate(percent=no_scent/reviews*100) %>% ", "  select(year, month, value=percent) %>% ", 
"  mutate(type=\"percent no smell\") %>% ", "  ungroup() %>% ", 
"  mutate(row=row_number())", "", "boston_salaries <- read_csv(\"https://www.andrewbatran.com/data/boston.csv\") %>% ", 
"  select(DEPARTMENT_NAME, TITLE, REGULAR, OTHER, OVERTIME, DETAIL, TOTAL_GROSS, POSTAL)", 
"", "set.seed(2022)", "", "boston16 <- boston_salaries %>% ", 
"  sample_n(16)", "", "covid <- read_csv(\"https://www.andrewbatran.com/data/covid.csv\")", 
"", "covid_long <- covid %>% ", "  pivot_longer(cols=12:ncol(covid), names_to=\"date\", values_to=\"cases\") %>% ", 
"  mutate(date=mdy(date)) %>% ", "  group_by(FIPS) %>% ", "  arrange(date) %>% ", 
"  # this is a way to create a value from the previous value (lagged)", 
"  mutate(positive = c(cases[1],diff(cases))) %>% ", "  group_by(date) %>% ", 
"  summarize(value=sum(positive, na.rm=T)) %>% ", "  mutate(type=\"Covid cases\")", 
"", "covid_long_monthly <- covid_long %>% ", "  mutate(year=year(date),", 
"         month=month(date)) %>% ", "  group_by(year, month) %>% ", 
"  summarize(value=sum(value, na.rm=T)/1000000) %>% ", "  mutate(type=\"Covid cases\") %>% ", 
"  ungroup() %>% ", "  mutate(row=row_number())", "", "monthly <- rbind(covid_long_monthly, scented_timeline_monthly2)", 
"", "monthly_wide <- monthly %>% ", "  pivot_wider(names_from=\"type\", values_from=\"value\") %>% ", 
"  filter(!is.na(`percent no smell`))"), chunk_opts = list(label = "setup", 
    include = FALSE)), setup = NULL, chunks = list(list(label = "job_titles", 
    code = "# All controls with job title interaction terms.\njob_results <- lm(log_base ~ male*jobTitle + perfEval + age_bin + edu + seniority + dept, data = salaries_adjusted3)\n# Publish a clean table of regression results.\nsummary(job_results)", 
    opts = list(label = "\"job_titles\"", exercise = "TRUE"), 
    engine = "r")), code_check = NULL, error_check = NULL, check = NULL, 
    solution = NULL, tests = NULL, options = list(eval = FALSE, 
        echo = TRUE, results = "markup", tidy = FALSE, tidy.opts = NULL, 
        collapse = FALSE, prompt = FALSE, comment = NA, highlight = FALSE, 
        size = "normalsize", background = "#F7F7F7", strip.white = TRUE, 
        cache = 0, cache.path = "class_4_a_stats_cache/html/", 
        cache.vars = NULL, cache.lazy = TRUE, dependson = NULL, 
        autodep = FALSE, cache.rebuild = FALSE, fig.keep = "high", 
        fig.show = "asis", fig.align = "default", fig.path = "class_4_a_stats_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = TRUE, error = FALSE, 
        message = TRUE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ..., \n    solution_eval_fn = NULL) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "job_titles", exercise = TRUE, code = c("# All controls with job title interaction terms.", 
        "job_results <- lm(log_base ~ male*jobTitle + perfEval + age_bin + edu + seniority + dept, data = salaries_adjusted3)", 
        "# Publish a clean table of regression results.", "summary(job_results)"
        ), out.width.px = 624, out.height.px = 384, params.src = "job_titles, exercise=TRUE", 
        fig.num = 0, exercise.df_print = "paged"), engine = "r", 
    version = "4"), class = c("r", "tutorial_exercise")))
</script>
</p>
<!--html_preserve-->
<script type="application/shiny-prerendered" data-context="dependencies">
{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["header-attrs"]},{"type":"character","attributes":{},"value":["2.16"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/pandoc"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["header-attrs.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.16"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.6.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/3.6.0"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery-3.6.0.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquerylib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.1.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootstrap"]},{"type":"character","attributes":{},"value":["3.3.5"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/bootstrap"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["viewport"]}},"value":[{"type":"character","attributes":{},"value":["width=device-width, initial-scale=1"]}]},{"type":"character","attributes":{},"value":["js/bootstrap.min.js","shim/html5shiv.min.js","shim/respond.min.js"]},{"type":"character","attributes":{},"value":["css/lumen.min.css"]},{"type":"character","attributes":{},"value":["<style>h1 {font-size: 34px;}\n       h1.title {font-size: 38px;}\n       h2 {font-size: 30px;}\n       h3 {font-size: 24px;}\n       h4 {font-size: 18px;}\n       h5 {font-size: 16px;}\n       h6 {font-size: 12px;}\n       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}\n       pre:not([class]) { background-color: white }<\/style>"]},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.16"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["pagedtable"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/pagedtable-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/pagedtable.js"]},{"type":"character","attributes":{},"value":["css/pagedtable.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.16"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.10.6.9000"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["i18n"]},{"type":"character","attributes":{},"value":["21.6.10"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/i18n"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["i18next.min.js","tutorial-i18n-init.js"]},{"type":"NULL"},{"type":"character","attributes":{},"value":["<script id=\"i18n-cstm-trns\" type=\"application/json\">{\"language\":\"en\",\"resources\":{\"en\":{\"translation\":{\"button\":{\"runcode\":\"Run Code\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Hint\",\"hint_plural\":\"Hints\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Next Hint\",\"hintprev\":\"Previous Hint\",\"solution\":\"Solution\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Copy to Clipboard\",\"startover\":\"Start Over\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Continue\",\"submitanswer\":\"Submit Answer\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Previous Topic\",\"nexttopic\":\"Next Topic\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Try Again\"},\"text\":{\"startover\":\"Start Over\",\"areyousure\":\"Are you sure you want to start over? (all exercise progress will be reset)\",\"youmustcomplete\":\"You must complete the\",\"exercise\":\"exercise\",\"exercise_plural\":\"exercises\",\"inthissection\":\"in this section before continuing.\",\"code\":\"Code\",\"enginecap\":\"{{engine}} $t(text.code)\",\"quiz\":\"Quiz\",\"blank\":\"blank\",\"blank_plural\":\"blanks\",\"exercisecontainsblank\":\"This exercise contains {{count}} $t(text.blank).\",\"pleasereplaceblank\":\"Please replace {{blank}} with valid code.\",\"unparsable\":\"It looks like this might not be valid R code. R cannot determine how to turn your text into a complete command. You may have forgotten to fill in a blank, to remove an underscore, to include a comma between arguments, or to close an opening <code>&quot;<\\/code>, <code>'<\\/code>, <code>(<\\/code> or <code>{<\\/code> with a matching <code>&quot;<\\/code>, <code>'<\\/code>, <code>)<\\/code> or <code>}<\\/code>.\\n\",\"unparsablequotes\":\"<p>It looks like your R code contains specially formatted quotation marks or &quot;curly&quot; quotes (<code>{{character}}<\\/code>) around character strings, making your code invalid. R requires character values to be contained in straight quotation marks (<code>&quot;<\\/code> or <code>'<\\/code>).<\\/p> {{code}} <p>Don't worry, this is a common source of errors when you copy code from another app that applies its own formatting to text. You can try replacing the code on that line with the following. There may be other places that need to be fixed, too.<\\/p> {{suggestion}}\\n\",\"unparsableunicode\":\"<p>It looks like your R code contains an unexpected special character (<code>{{character}}<\\/code>) that makes your code invalid.<\\/p> {{code}} <p>Sometimes your code may contain a special character that looks like a regular character, especially if you copy and paste the code from another app. Try deleting the special character from your code and retyping it manually.<\\/p>\\n\",\"unparsableunicodesuggestion\":\"<p>It looks like your R code contains an unexpected special character (<code>{{character}}<\\/code>) that makes your code invalid.<\\/p> {{code}} <p>Sometimes your code may contain a special character that looks like a regular character, especially if you copy and paste the code from another app. You can try replacing the code on that line with the following. There may be other places that need to be fixed, too.<\\/p> {{suggestion}}\\n\",\"and\":\"and\",\"or\":\"or\",\"listcomma\":\", \",\"oxfordcomma\":\",\"}}},\"fr\":{\"translation\":{\"button\":{\"runcode\":\"Lancer le Code\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Indication\",\"hint_plural\":\"Indications\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Indication Suivante\",\"hintprev\":\"Indication Précédente\",\"solution\":\"Solution\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Copier dans le Presse-papier\",\"startover\":\"Recommencer\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Continuer\",\"submitanswer\":\"Soumettre\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Chapitre Précédent\",\"nexttopic\":\"Chapitre Suivant\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Réessayer\"},\"text\":{\"startover\":\"Recommencer\",\"areyousure\":\"Êtes-vous certains de vouloir recommencer? (La progression sera remise à zéro)\",\"youmustcomplete\":\"Vous devez d'abord compléter\",\"exercise\":\"l'exercice\",\"exercise_plural\":\"des exercices\",\"inthissection\":\"de cette section avec de continuer.\",\"code\":\"Code\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Quiz\",\"and\":\"et\",\"or\":\"ou\",\"oxfordcomma\":\"\"}}},\"es\":{\"translation\":{\"button\":{\"runcode\":\"Ejecutar código\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Pista\",\"hint_plural\":\"Pistas\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Siguiente pista\",\"hintprev\":\"Pista anterior\",\"solution\":\"Solución\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Copiar al portapapeles\",\"startover\":\"Reiniciar\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Continuar\",\"submitanswer\":\"Enviar respuesta\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Tema anterior\",\"nexttopic\":\"Tema siguiente\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Volver a intentar\"},\"text\":{\"startover\":\"Reiniciar\",\"areyousure\":\"¿De verdad quieres empezar de nuevo? (todo el progreso del ejercicio se perderá)\",\"youmustcomplete\":\"Debes completar\",\"exercise\":\"el ejercicio\",\"exercise_plural\":\"los ejercicios\",\"inthissection\":\"en esta sección antes de continuar.\",\"code\":\"Código\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Cuestionario\",\"and\":\"y\",\"or\":\"o\",\"oxfordcomma\":\"\"}}},\"pt\":{\"translation\":{\"button\":{\"runcode\":\"Executar código\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Dica\",\"hint_plural\":\"Dicas\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Próxima dica\",\"hintprev\":\"Dica anterior\",\"solution\":\"Solução\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Copiar para a área de transferência\",\"startover\":\"Reiniciar\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Continuar\",\"submitanswer\":\"Enviar resposta\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Tópico anterior\",\"nexttopic\":\"Próximo tópico\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Tentar novamente\"},\"text\":{\"startover\":\"Reiniciar\",\"areyousure\":\"Tem certeza que deseja começar novamente? (todo o progresso feito será perdido)\",\"youmustcomplete\":\"Você deve completar\",\"exercise\":\"o exercício\",\"exercise_plural\":\"os exercícios\",\"inthissection\":\"nesta seção antes de continuar.\",\"code\":\"Código\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Quiz\",\"and\":\"e\",\"or\":\"ou\",\"oxfordcomma\":\"\"}}},\"tr\":{\"translation\":{\"button\":{\"runcode\":\"Çalıştırma Kodu\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Ipucu\",\"hint_plural\":\"İpuçları\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Sonraki İpucu\",\"hintprev\":\"Önceki İpucu\",\"solution\":\"Çözüm\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Pano'ya Kopyala\",\"startover\":\"Baştan Başlamak\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Devam et\",\"submitanswer\":\"Cevabı onayla\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Önceki Konu\",\"nexttopic\":\"Sonraki Konu\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Tekrar Deneyin\"},\"text\":{\"startover\":\"Baştan Başlamak\",\"areyousure\":\"Baştan başlamak istediğinizden emin misiniz? (tüm egzersiz ilerlemesi kaybolacak)\",\"youmustcomplete\":\"Tamamlamalısın\",\"exercise\":\"egzersiz\",\"exercise_plural\":\"egzersizler\",\"inthissection\":\"devam etmeden önce bu bölümde\",\"code\":\"Kod\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Sınav\",\"oxfordcomma\":\"\"}}},\"emo\":{\"translation\":{\"button\":{\"runcode\":\"🏃\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"💡\",\"hint_plural\":\"$t(button.hint)\",\"hinttitle\":\"$t(button.hint)\",\"solution\":\"🎯\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"📋\",\"startover\":\"⏮\",\"startovertitle\":\"Start Over\",\"continue\":\"✅\",\"submitanswer\":\"🆗\",\"submitanswertitle\":\"Submit Answer\",\"previoustopic\":\"⬅\",\"nexttopic\":\"➡\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"🔁\"},\"text\":{\"startover\":\"⏮\",\"areyousure\":\"🤔\",\"youmustcomplete\":\"⚠️ 👉 🧑‍💻\",\"exercise\":\"\",\"exercise_plural\":\"\",\"inthissection\":\"\",\"code\":\"💻\",\"enginecap\":\"$t(text.code) {{engine}}\",\"oxfordcomma\":\"\"}}},\"eu\":{\"translation\":{\"button\":{\"runcode\":\"Kodea egikaritu\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Laguntza\",\"hint_plural\":\"Laguntza\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Aurreko laguntza\",\"hintprev\":\"Hurrengo laguntza\",\"solution\":\"Ebazpena\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Arbelean kopiatu\",\"startover\":\"Berrabiarazi\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Jarraitu\",\"submitanswer\":\"Erantzuna bidali\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Aurreko atala\",\"nexttopic\":\"Hurrengo atala\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Berriro saiatu\"},\"text\":{\"startover\":\"Berrabiarazi\",\"areyousure\":\"Berriro hasi nahi duzu? (egindako lana galdu egingo da)\",\"youmustcomplete\":\"Aurrera egin baino lehen atal honetako\",\"exercise\":\"ariketa egin behar duzu.\",\"exercise_plural\":\"ariketak egin behar dituzu.\",\"inthissection\":\"\",\"code\":\"Kodea\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Galdetegia\",\"oxfordcomma\":\"\"}}},\"de\":{\"translation\":{\"button\":{\"runcode\":\"Code ausführen\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Tipp\",\"hint_plural\":\"Tipps\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Nächster Tipp\",\"hintprev\":\"Vorheriger Tipp\",\"solution\":\"Lösung\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"In die Zwischenablage kopieren\",\"startover\":\"Neustart\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Weiter\",\"submitanswer\":\"Antwort einreichen\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Vorheriges Kapitel\",\"nexttopic\":\"Nächstes Kapitel\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Nochmal versuchen\"},\"text\":{\"startover\":\"Neustart\",\"areyousure\":\"Bist du sicher, dass du neustarten willst? (der gesamte Lernfortschritt wird gelöscht)\",\"youmustcomplete\":\"Vervollstädinge\",\"exercise\":\"die Übung\",\"exercise_plural\":\"die Übungen\",\"inthissection\":\"in diesem Kapitel, bevor du fortfährst.\",\"code\":\"Code\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Quiz\",\"blank\":\"Lücke\",\"blank_plural\":\"Lücken\",\"pleasereplaceblank\":\"Bitte ersetze {{blank}} mit gültigem Code.\",\"unparsable\":\"Dies scheint kein gültiger R Code zu sein. R kann deinen Text nicht in einen gültigen Befehl übersetzen. Du hast vielleicht vergessen, die Lücke zu füllen, einen Unterstrich zu entfernen, ein Komma zwischen Argumente zu setzen oder ein eröffnendes <code>&quot;<\\/code>, <code>'<\\/code>, <code>(<\\/code> oder <code>{<\\/code> mit einem zugehörigen <code>&quot;<\\/code>, <code>'<\\/code>, <code>)<\\/code> oder <code>}<\\/code> zu schließen.\\n\",\"and\":\"und\",\"or\":\"oder\",\"listcomma\":\", \",\"oxfordcomma\":\",\"}}},\"ko\":{\"translation\":{\"button\":{\"runcode\":\"코드 실행\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"힌트\",\"hint_plural\":\"힌트들\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"다음 힌트\",\"hintprev\":\"이전 힌트\",\"solution\":\"솔루션\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"클립보드에 복사\",\"startover\":\"재학습\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"다음 학습으로\",\"submitanswer\":\"정답 제출\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"이전 토픽\",\"nexttopic\":\"다음 토픽\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"재시도\"},\"text\":{\"startover\":\"재학습\",\"areyousure\":\"다시 시작 하시겠습니까? (모든 예제의 진행 정보가 재설정됩니다)\",\"youmustcomplete\":\"당신은 완료해야 합니다\",\"exercise\":\"연습문제\",\"exercise_plural\":\"연습문제들\",\"inthissection\":\"이 섹션을 실행하기 전에\",\"code\":\"코드\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"퀴즈\",\"blank\":\"공백\",\"blank_plural\":\"공백들\",\"exercisecontainsblank\":\"이 연습문제에는 {{count}}개의 $t(text.blank)이 포함되어 있습니다.\",\"pleasereplaceblank\":\"{{blank}}를 유효한 코드로 바꾸십시오.\",\"unparsable\":\"이것은 유효한 R 코드가 아닐 수 있습니다. R은 텍스트를 완전한 명령으로 변환하는 방법을 결정할 수 없습니다. 당신은 공백이나 밑줄을 대체하여 채우기, 인수를 컴마로 구분하기, 또는 <code>&quot;<\\/code>, <code>'<\\/code>, <code>(<\\/code> , <code>{<\\/code>로 시작하는 구문을 닫는 <code>&quot;<\\/code>, <code>'<\\/code>, <code>)<\\/code>, <code>}<\\/code>을 잊었을 수도 있습니다.\\n\",\"and\":\"그리고\",\"or\":\"혹은\",\"listcomma\":\", \",\"oxfordcomma\":\"\"}}},\"zh\":{\"translation\":{\"button\":{\"runcode\":\"运行代码\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"提示\",\"hint_plural\":\"提示\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"下一个提示\",\"hintprev\":\"上一个提示\",\"solution\":\"答案\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"复制到剪切板\",\"startover\":\"重新开始\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"继续\",\"submitanswer\":\"提交答案\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"上一专题\",\"nexttopic\":\"下一专题\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"再试一次\"},\"text\":{\"startover\":\"重置\",\"areyousure\":\"你确定要重新开始吗? (所有当前进度将被重置)\",\"youmustcomplete\":\"你必须完成\",\"exercise\":\"练习\",\"exercise_plural\":\"练习\",\"inthissection\":\"在进行本节之前\",\"code\":\"代码\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"测试\",\"blank\":\"空\",\"blank_plural\":\"空\",\"exercisecontainsblank\":\"本练习包含{{count}}个$t(text.blank)\",\"pleasereplaceblank\":\"请在{{blank}}内填写恰当的代码\",\"unparsable\":\"这似乎不是有效的R代码。 R不知道如何将您的文本转换为完整的命令。 您是否忘了填空，忘了删除下划线，忘了在参数之间包含逗号，或者是忘了用<code>&quot;<\\/code>, <code>'<\\/code>, <code>)<\\/code>,<code>}<\\/code>来封闭<code>&quot;<\\/code>, <code>'<\\/code>, <code>(<\\/code>。 or <code>{<\\/code>。\\n\",\"unparsablequotes\":\"<p>您的R代码中似乎含有特殊格式的引号，或者弯引号(<code>{{character}}<\\/code>) 在字符串前后，在R中字符串应该被直引号(<code>&quot;<\\/code> 或者 <code>'<\\/code>)包裹。<\\/p> {{code}} <p>别担心，该错误经常在复制粘贴包含格式的代码时遇到， 您可以尝试将该行中的代码替换为以下代码，也许还有其他地方需要修改。<\\/p> {{suggestion}}\\n\",\"unparsableunicode\":\"<p>您的代码中似乎包含有异常字符(<code>{{character}}<\\/code>),导致代码无效。<\\/p> {{code}} <p>有时候你的代码可能含有看似正常字符的特殊字符，特别是当你复制粘贴其他来源代码的时候。 请试着删除这些特殊字符,重新输入<\\/p>\\n\",\"unparsableunicodesuggestion\":\"<p>您的代码中似乎包含有异常字符(<code>{{character}}<\\/code>),导致代码无效。<\\/p> {{code}} <p>有时候你的代码可能含有看似正常字符的特殊字符，特别是当你复制粘贴其他来源代码的时候。 请试着删除这些特殊字符,重新输入<\\/p>\\n\",\"and\":\"且\",\"or\":\"或\",\"listcomma\":\",\",\"oxfordcomma\":\",\"}}},\"pl\":{\"translation\":{\"button\":{\"runcode\":\"Uruchom kod\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Podpowiedź\",\"hint_plural\":\"Podpowiedzi\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Następna podpowiedź\",\"hintprev\":\"Poprzednia podpowiedź\",\"solution\":\"Rozwiązanie\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Kopiuj do schowka\",\"startover\":\"Zacznij od początku\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Kontynuuj\",\"submitanswer\":\"Wyślij\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Poprzednia sekcja\",\"nexttopic\":\"Następna sekcja\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Spróbuj ponownie\"},\"text\":{\"startover\":\"Zacznij od początku\",\"areyousure\":\"Czy na pewno chcesz zacząć od początku? (cały postęp w zadaniu zostanie utracony)\",\"youmustcomplete\":\"Musisz ukończyć\",\"exercise\":\"ćwiczenie\",\"exercise_plural\":\"ćwiczenia\",\"inthissection\":\"w tej sekcji przed kontynuowaniem\",\"code\":\"Kod\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Quiz\",\"blank\":\"luka\",\"blank_plural\":\"luk(i)\",\"exercisecontainsblank\":\"To ćwiczenie zawiera {{count}} $t(text.blank).\",\"pleasereplaceblank\":\"Proszę uzupełnić {{blank}} prawidłowym kodem.\",\"unparsable\":\"Wygląda na to, że może to nie być prawidłowy kod R. R nie jest w stanie przetworzyć Twojego tekstu na polecenie. Mogłeś(-aś) zapomnieć wypełnić luki, usunąć podkreślnik, umieścić przecinka między argumentami, lub zamknąć znak <code>&quot;<\\/code>, <code>'<\\/code>, <code>(<\\/code> lub <code>{<\\/code> odpowiadającym <code>&quot;<\\/code>, <code>'<\\/code>, <code>)<\\/code> lub <code>}<\\/code>.\\n\",\"unparsablequotes\":\"<p>Wygląda na to, że Twój kod zawiera szczególnie sformatowane cudzysłowy lub cudzysłowy typograficzne (<code>{{character}}<\\/code>) przy ciągach znaków, co sprawia, że kod jest niepoprawny. R wymaga cudzysłowów prostych (<code>&quot;<\\/code> albo <code>'<\\/code>).<\\/p> {{code}} <p>Nie martw się, to powszechne źródło błędów, gdy kopiuje się kod z innego programu, który sam formatuje teskt. Możesz spróbować zastąpić swój kod następującym kodem. Mogą być też inne miejsca, które wymagają poprawienia.<\\/p> {{suggestion}}\\n\",\"unparsableunicode\":\"<p>Wygląda na to, że Twój kod zawiera niespodziewany znak specjalny (<code>{{character}}<\\/code>), co sprawia, że kod jest niepoprawny.<\\/p> {{code}} <p>Czasami Twój kod może zawierać znak specjalny, który wygląda jak zwykły znak, zwłaszcza jeśli kopiujesz kod z innego programu. Spróbuj usunąć znak specjalny i wpisać do ponownie ręcznie.<\\/p>\\n\",\"unparsableunicodesuggestion\":\"<p>Wygląda na to, że Twój kod zawiera niespodziewany znak specjalny (<code>{{character}}<\\/code>), co sprawia, że kod jest niepoprawny.<\\/p> {{code}} <p>Czasami Twój kod może zawierać znak specjalny, który wygląda jak zwykły znak, zwłaszcza jeśli kopiujesz kod z innego programu. Możesz spróbować zastąpić swój kod następującym kodem. Mogą być też inne miejsca, które wymagają poprawienia.<\\/p> {{suggestion}}\\n\",\"and\":\"i\",\"or\":\"lub\",\"listcomma\":\", \",\"oxfordcomma\":\"\"}}}}}<\/script>"]},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-format"]},{"type":"character","attributes":{},"value":["0.10.6.9000"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmarkdown/templates/tutorial/resources"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-format.js"]},{"type":"character","attributes":{},"value":["tutorial-format.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.6.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/3.6.0"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery-3.6.0.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquerylib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.1.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["navigation"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/navigation-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tabsets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.16"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highlightjs"]},{"type":"character","attributes":{},"value":["9.12.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/highlightjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highlight.js"]},{"type":"character","attributes":{},"value":["default.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.16"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.6.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/3.6.0"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery-3.6.0.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquerylib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.1.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["font-awesome"]},{"type":"character","attributes":{},"value":["5.1.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/fontawesome"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/all.css","css/v4-shims.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.16"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootbox"]},{"type":"character","attributes":{},"value":["5.5.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/bootbox"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["bootbox.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["idb-keyvalue"]},{"type":"character","attributes":{},"value":["3.2.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/idb-keyval"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["idb-keyval-iife-compat.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.10.6.9000"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.4.14"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["2.0.10"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.4.14"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["2.0.10"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.4.14"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["2.0.10"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.4.14"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["2.0.10"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.4.14"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["2.0.10"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.4.14"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["2.0.10"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.4.14"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["2.0.10"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.4.14"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["2.0.10"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.4.14"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["2.0.10"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.4.14"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["2.0.10"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.4.14"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["2.0.10"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.4.14"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["2.0.10"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.4.14"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["2.0.10"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.4.14"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["2.0.10"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.4.14"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["2.0.10"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.4.14"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["2.0.10"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.4.14"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["2.0.10"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.4.14"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["2.0.10"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.4.14"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["2.0.10"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.4.14"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["2.0.10"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.4.14"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["2.0.10"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.6.9000"]}]}]}
</script>
<!--/html_preserve-->
<!--html_preserve-->
<script type="application/shiny-prerendered" data-context="execution_dependencies">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages","version"]},"class":{"type":"character","attributes":{},"value":["data.frame"]},"row.names":{"type":"integer","attributes":{},"value":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136]}},"value":[{"type":"character","attributes":{},"value":["assertthat","backports","base","bit","bit64","broom","bslib","cachem","cellranger","checkmate","class","cli","codetools","colorspace","compiler","crayon","curl","datasets","DBI","dbplyr","dials","DiceDesign","digest","dplyr","ellipsis","evaluate","fansi","fastmap","forcats","foreach","fs","furrr","future","future.apply","gargle","generics","ggplot2","globals","glue","googledrive","googlesheets4","gower","GPfit","gradethis","graphics","grDevices","grid","gtable","hardhat","haven","highr","hms","htmltools","htmlwidgets","httpuv","httr","infer","ipred","iterators","jquerylib","jsonlite","kableExtra","knitr","later","lattice","lava","learnr","lhs","lifecycle","listenv","lubridate","magrittr","markdown","MASS","Matrix","methods","mime","modeldata","modelr","munsell","nnet","parallel","parallelly","parsnip","pillar","pkgconfig","prodlim","promises","purrr","R6","Rcpp","readr","readxl","recipes","reprex","rlang","rmarkdown","rpart","rprojroot","rsample","rstudioapi","rvest","sass","scales","shiny","splines","stats","stringi","stringr","survival","svglite","systemfonts","tibble","tidymodels","tidyr","tidyselect","tidyverse","timeDate","tools","tune","tzdb","utf8","utils","vctrs","viridisLite","vroom","vtable","webshot","withr","workflows","workflowsets","xfun","xml2","xtable","yaml","yardstick"]},{"type":"character","attributes":{},"value":["0.2.1","1.4.1","4.2.1","4.0.4","4.0.5","1.0.0","0.4.0","1.0.6","1.1.0","2.1.0","7.3-20","3.4.1","0.2-18","2.0-3","4.2.1","1.5.1","4.3.2","4.2.1","1.1.3","2.2.1","1.0.0","1.9","0.6.29","1.0.9","0.3.2","0.16","1.0.3","1.1.0","0.5.1","1.5.2","1.5.2","0.3.1","1.27.0","1.9.0","1.2.0","0.1.3","3.3.6","0.16.0","1.6.2","2.0.0","1.0.0","1.0.0","1.0-8","0.2.10.9000","4.2.1","4.2.1","4.2.1","0.3.0","1.2.0","2.5.0","0.9","1.1.2","0.5.3","1.5.4","1.6.6","1.4.4","1.0.2","0.9-13","1.0.14","0.1.4","1.8.0","1.3.4","1.40","1.3.0","0.20-45","1.6.10","0.10.6.9000","1.1.5","1.0.2","0.8.0","1.8.0","2.0.3","1.1","7.3-57","1.4-1","4.2.1","0.12","1.0.0","0.1.8","0.5.0","7.3-17","4.2.1","1.32.1","1.0.1","1.8.1","2.0.3","2019.11.13","1.2.0.1","0.3.4","2.5.1","1.0.9","2.1.2","1.4.0","1.0.1","2.0.1","1.0.5","2.16","4.1.16","2.0.3","1.1.0","0.14","1.0.2","0.4.2","1.2.0","1.7.2","4.2.1","4.2.1","1.7.8","1.4.1","3.3-1","2.1.0","1.0.4","3.1.8","1.0.0","1.2.0","1.1.2","1.3.2","4021.104","4.2.1","1.0.0","0.3.0","1.2.2","4.2.1","0.4.1","0.4.0","1.5.7","1.3.4","0.5.3","2.5.0","1.0.0","1.0.0","0.33","1.3.3","1.8-4","2.3.5","1.0.0"]}]}]}
</script>
<!--/html_preserve-->
</div>

</article> <!-- topics -->

<div class="topicsContainer">
<div class="topicsPositioner">
<div class="band">
<div class="bandContent topicsListContainer">

<!-- begin doc-metadata -->
<div id="doc-metadata">
<h1 class="title toc-ignore" style="display:none;">Class 4: Statistics</h1>
<h4 class="author"><em>Andrew Ba Tran</em></h4>
</div>
<!-- end doc-metadata -->

</div> <!-- bandContent.topicsListContainer -->
</div> <!-- band -->
</div> <!-- topicsPositioner -->
</div> <!-- topicsContainer -->


</main> <!-- bandContent page -->
</div> <!-- pageContent band -->



<!-- Build Tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("section-TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<script>
// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>


</body>

</html>
